<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>【JS非全解07】JS 实战，会动的代码实现全程记录 - Joel in The House</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Joel Xu" />
  <meta name="description" content="目标：动态展示代码与效果 页面效果一 源码地址 页面效果二 源码地址 CRM 实现效果、了解代码思路、会用会查相关API、可复现步骤（半盲打）、拓展 可以将之" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.91.2" />


<link rel="canonical" href="http://xmasuhai.xyz/post/js/js%E9%9D%9E%E5%85%A8%E8%A7%A307js-%E5%AE%9E%E6%88%98%E4%BC%9A%E5%8A%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%85%A8%E7%A8%8B%E8%AE%B0%E5%BD%95/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="【JS非全解07】JS 实战，会动的代码实现全程记录" />
<meta property="og:description" content="目标：动态展示代码与效果 页面效果一 源码地址 页面效果二 源码地址 CRM 实现效果、了解代码思路、会用会查相关API、可复现步骤（半盲打）、拓展 可以将之" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://xmasuhai.xyz/post/js/js%E9%9D%9E%E5%85%A8%E8%A7%A307js-%E5%AE%9E%E6%88%98%E4%BC%9A%E5%8A%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%85%A8%E7%A8%8B%E8%AE%B0%E5%BD%95/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-02-27T01:49:17+08:00" />
<meta property="article:modified_time" content="2022-09-03T10:26:25+08:00" />

<meta itemprop="name" content="【JS非全解07】JS 实战，会动的代码实现全程记录">
<meta itemprop="description" content="目标：动态展示代码与效果 页面效果一 源码地址 页面效果二 源码地址 CRM 实现效果、了解代码思路、会用会查相关API、可复现步骤（半盲打）、拓展 可以将之"><meta itemprop="datePublished" content="2020-02-27T01:49:17+08:00" />
<meta itemprop="dateModified" content="2022-09-03T10:26:25+08:00" />
<meta itemprop="wordCount" content="6127">
<meta itemprop="keywords" content="JavaScript,demo,JS,会动的代码,全程记录," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="【JS非全解07】JS 实战，会动的代码实现全程记录"/>
<meta name="twitter:description" content="目标：动态展示代码与效果 页面效果一 源码地址 页面效果二 源码地址 CRM 实现效果、了解代码思路、会用会查相关API、可复现步骤（半盲打）、拓展 可以将之"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Joel in The House</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Joel in The House
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">【JS非全解07】JS 实战，会动的代码实现全程记录</h1>
      
      <div class="post-meta">
        <time datetime="2020-02-27" class="post-time">
          2020-02-27
        </time>
        <div class="post-category">
            <a href="http://xmasuhai.xyz/categories/javascript/"> JavaScript </a>
            
          </div>
        <span class="more-meta"> 约 6127 字 </span>
          <span class="more-meta"> 预计阅读 13 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#目标动态展示代码与效果">目标：动态展示代码与效果</a></li>
    <li><a href="#目录">目录</a></li>
    <li><a href="#起手">起手</a></li>
    <li><a href="#实现思路与细节">实现思路与细节</a></li>
    <li><a href="#实现原理">实现原理</a></li>
    <li><a href="#实现过程">实现过程</a>
      <ul>
        <li><a href="#显示一段话">显示一段话</a></li>
        <li><a href="#小结">小结</a></li>
      </ul>
    </li>
    <li><a href="#制作太极">制作太极</a>
      <ul>
        <li><a href="#准备一个div">准备一个div</a></li>
        <li><a href="#把-div-变成一个圆">把 div 变成一个圆</a></li>
        <li><a href="#背景渐变实现一黑一白">背景渐变实现一黑一白</a></li>
        <li><a href="#加两个神秘的小球">加两个神秘的小球</a></li>
        <li><a href="#点睛">点睛</a></li>
        <li><a href="#背景">背景</a></li>
        <li><a href="#代码文字折行">代码文字折行</a></li>
      </ul>
    </li>
    <li><a href="#优化以及永远都要考虑手机">优化以及永远都要考虑手机</a></li>
    <li><a href="#部署到-github-pages">部署到 GitHub Pages</a>
      <ul>
        <li><a href="#验证">验证</a></li>
        <li><a href="#gitignore"><code>.gitignore</code></a></li>
        <li><a href="#上传提交">上传提交</a></li>
      </ul>
    </li>
    <li><a href="#动态化项目复盘">动态化项目复盘</a>
      <ul>
        <li><a href="#参考文章">参考文章</a></li>
        <li><a href="#相关文章">相关文章</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <h2 id="目标动态展示代码与效果">目标：动态展示代码与效果</h2>
<ul>
<li><a href="https://jirengu-inc.github.io/animating-resume/public/">页面效果一</a>
<ul>
<li><a href="https://github.com/jirengu-inc/animating-resume">源码地址</a></li>
</ul>
</li>
<li><a href="http://fangyinghang.com/cv-1/dist/index.html">页面效果二</a>
<ul>
<li><a href="https://github.com/FrankFang/cv-1">源码地址</a></li>
</ul>
</li>
</ul>
<blockquote>
<p>CRM 实现效果、了解代码思路、会用会查相关API、可复现步骤（半盲打）、拓展</p>
</blockquote>
<ul>
<li>可以将之前的项目：Canvas画板和拖动一个div项目也改成动态代码展示，当做练习</li>
</ul>
<h2 id="目录">目录</h2>
<ul>
<li>起手</li>
<li>原理</li>
<li>思路</li>
<li>实现过程
<ul>
<li>显示一段话，并加上样式</li>
<li>制作太极</li>
</ul>
</li>
<li>永远都要考虑手机</li>
<li>部署到 GitHub Pages</li>
</ul>
<h2 id="起手">起手</h2>
<ul>
<li>创建<code>cv-1/src/</code>路径</li>
<li>创建<code>index.html</code></li>
<li>创建<code>main.js</code></li>
<li><code>! + Tab</code>初始化<code>index.html</code></li>
<li>引入<code>&lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;</code></li>
<li><code>parcel --version</code>，没的话，装<code>yarn global add parcel</code></li>
<li>启动<code>parcel</code>服务</li>
<li><code>parcel src/index.html</code></li>
</ul>
<blockquote>
<p>测试成功运行</p>
</blockquote>
<ul>
<li>在<code>&lt;body&gt;hi&lt;/body&gt;</code>里写个字，在<code>main.js</code>里写一句<code>console.log('hi')</code></li>
<li>看页面以及打开控制台，看是否生效</li>
</ul>
<hr>
<h2 id="实现思路与细节">实现思路与细节</h2>
<blockquote>
<p>分解步骤，一步步由简单到复杂</p>
<p>抽象</p>
</blockquote>
<p>1）让字在页面中一个个显示</p>
<ul>
<li>在<code>HTML</code>里写个数字</li>
<li>在<code>main.js</code>里操作这个<code>demo</code></li>
<li>让数字变：<code>1-&gt; 2-&gt; n</code></li>
<li>让数字不停地变</li>
<li>把数字改为字符串</li>
<li>显示完整字符串，即显示从<code>0</code>个到<code>n</code>个字符串，实现“改变一段字”</li>
<li>加几段字</li>
</ul>
<p>2）加上样式</p>
<ul>
<li>不用<code>&lt;span id=&quot;demo&quot;&gt;&lt;/span&gt;</code>，用<code>&lt;div id=&quot;html&quot;&gt;&lt;/div&gt;</code></li>
</ul>
<hr>
<h2 id="实现原理">实现原理</h2>
<blockquote>
<p>用到的API</p>
</blockquote>
<ul>
<li>取<code>ID</code>选择器<code>document.querySelector(&quot;#xxx&quot;)</code>，赋值给<code>xxx</code></li>
<li>写入<code>xxx.innerHTML = 123</code></li>
<li>定时<code>setTimeout(()=&gt;{},0)</code></li>
<li>封装函数，调用</li>
<li>用递归函数，简化步骤（函数循环调用自己）</li>
<li>截取字符串<code>'string'.substring(0,n)</code></li>
<li>字符串替换<code>string.replace('\n','&lt;br&gt;')</code></li>
<li><code>string[0].charCodeAt()</code></li>
<li>正则匹配<code>string.replace(/\n/g,'&lt;br&gt;')</code>，把所有的<code>\n</code>筛选出来</li>
</ul>
<blockquote>
<p>不用的API</p>
</blockquote>
<ul>
<li><code>setInterval(()=&gt;{},0)</code>，用递归的<code>setTimeout</code>代替，好处是可以随时停止，即更自由地控制暂停/开始</li>
</ul>
<hr>
<h2 id="实现过程">实现过程</h2>
<h3 id="显示一段话">显示一段话</h3>
<h4 id="第一步让字动起来">第一步：让字动起来</h4>
<p>1）生成一个容器放数字</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;demo&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>2）在<code>main.js</code>里操作这个<code>demo</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="cm">/* 获取`demo` */</span>
<span class="kd">let</span> <span class="nx">demo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#demo&#39;</span><span class="p">);</span>
<span class="cm">/* 在`demo`里写字 即设置内容 */</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>parcel</code>会自动刷新</p>
</blockquote>
<p>3）让数字变</p>
<blockquote>
<p><code>2s</code>后让字变为<code>2</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
   <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">},</span><span class="mi">2000</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>4）让数字不停地变</p>
<blockquote>
<p>用一个变量<code>n</code>，去保存当前变成的字<code>demo.innerHTML = n</code></p>
<p>在‘定时器’中累加<em><strong>一次</strong></em> <code>n = n + 1</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">n</span><span class="p">;</span>
<span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">n</span><span class="p">;</span>
<span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>联想一早响n次的闹钟</p>
<p>为什么不用<code>setInterval</code>？</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">n</span><span class="p">;</span>
<span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>老手不用<code>setInterval(()=&gt;{},0)</code>，用递归的<code>setTimeout</code>代替，封装一个函数</p>
</blockquote>
<p>4）递归函数每隔一段时间，调用自己</p>
<blockquote>
<p>通过<code>setTimeout</code>模拟<code>setInterval</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">step</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;1s后把n加1并显示&#34;</span><span class="p">);</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">n</span><span class="p">;</span>
        <span class="nx">step</span><span class="p">();</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>好处是，可以加上停止的条件，更自由地控制</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">step</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;1s后把n加1并显示&#34;</span><span class="p">);</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">n</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">){</span> <span class="c1">// 在第5次停止
</span><span class="c1"></span>            <span class="nx">step</span><span class="p">();</span>
        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
            <span class="c1">// do noting
</span><span class="c1"></span>        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>5）把数字改为字符串，实现“改变一段字”</p>
<ul>
<li>让内容变为字符串<code>let string = '...';</code></li>
<li>ES6的反引号 &lsquo;`'，可以处理换行的字符</li>
<li>引入下标<code>let n = 0;</code></li>
<li>通过字符串的过装对象下标来一个个处理字符串中的字</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="cm">/* ... */</span>
<span class="kd">let</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`你好,我是一名前端新人`</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 下标
</span><span class="c1"></span><span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span> <span class="c1">// 初始
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">step</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;1s后把n加1并显示&#34;</span><span class="p">);</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">step</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">step</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>在控制台看到，最后一个是<code>undefined</code></p>
</blockquote>
<ul>
<li>初始<code>n = 0</code></li>
<li>因为此时<code>n &lt; string.length</code>在<code>n+=1</code>后</li>
<li>代入<code>n = 2</code>，长度<code>3</code></li>
<li>仍要运一次<code>step()</code>，取到超过字符串长度下标值为<code>undefined</code></li>
</ul>
<p>6）改掉最后一个<code>undefined</code></p>
<blockquote>
<p>思考初步改掉if 的判断条件的顺序</p>
<p><code>console.log(n)</code></p>
<p>代入<code>n = 10</code>，看</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="cm">/* ... */</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span> <span class="c1">// 初始
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">step</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span> <span class="c1">// n  = 10
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// n = 11
</span><span class="c1"></span>            <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span> <span class="c1">// n = 11 长度超出
</span><span class="c1"></span>            <span class="nx">step</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>把判断条件改成<code>if (n + 1 &gt;= string.length)</code>就ok了？</p>
<p>“暴力”尝试比“想”，更快</p>
<p>效果不对，<code>console.log()</code>试</p>
</blockquote>
<p>7）显示完整字符串，即显示从<code>0</code>个到<code>n</code>个字符串</p>
<blockquote>
<p>把<code>string[n]</code>换为<code>string.substring(0,n)</code></p>
<p>效果不对，<code>console.log()</code>试</p>
<p>程序员的“测不准定理”，只关注代码现在可以运行成功</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">//++++++++++++++++++++++++++++++++++
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">//==================================
</span><span class="c1"></span>        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">//++++++++++++++++++++++++++++++++++
</span><span class="c1"></span>        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="c1">//==================================
</span><span class="c1"></span>        <span class="nx">step</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>效果不对，调整顺序</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">step</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>代码逻辑优化</p>
<p>改代码顺序，即改代码逻辑，重调</p>
<p>需求一变，代码全变</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">step</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="c1">//++++++++++++++++++++++++++++++++++
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">step</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">step</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>加几行字</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">你好,我是一名前端新人
</span><span class="sb">接下来,我要开始加样式了
</span><span class="sb">我要加的样式是
</span><span class="sb">body{
</span><span class="sb">    color: red;
</span><span class="sb">}
</span><span class="sb">`</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>但只显示在一行里</p>
</blockquote>
<p>8）要显示换行的格式</p>
<blockquote>
<p><code>string</code>里加的回车都缩为空格了</p>
<p>问题：<code>HTML</code>源代码里敲回车会自动变成空格，从而使字符串变为一行</p>
<p>变成<code>HTML</code>里的回车，<code>&lt;br&gt;</code>标签</p>
<p>解决：<code>string.replace('\n','&lt;br&gt;')</code>，这也是文本编辑器中自动换行的原理</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">string</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&#34;\n&#34;</span><span class="p">,</span> <span class="s2">&#34;&lt;br&gt;&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>效果不对，并没换行</p>
<p>控制台中，判断字符</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">你好,我是一名前端新人
</span><span class="sb">接下来,我要开始加样式了
</span><span class="sb">我要加的样式是
</span><span class="sb">body{
</span><span class="sb">    color: red;
</span><span class="sb">}
</span><span class="sb">`</span><span class="p">;</span>
<span class="nx">string</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">charCodeAt</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>将字符串在控制台里打出来看，每个下标对应的字符是什么</li>
<li>用<code>string[0].charCodeAt()</code>，得出一个字符的<code>Unicode</code>编码<code>10</code></li>
<li>查看<code>Ascii Table</code>，换行符<code>new line</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">string</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">// &#34;&#34;
</span><span class="c1"></span><span class="nx">string</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">charCodeAt</span><span class="p">()</span> <span class="c1">// 10
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>运行<code>string = string.replace(&quot;\n&quot;, &quot;&lt;br&gt;&quot;);</code></li>
<li>再看，只替换了第一个<code>&lt;br&gt;</code>，并没替换所有的</li>
</ul>
<blockquote>
<p>用正则表达式匹配，把所有的<code>\n</code>筛选出来</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">string</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">,</span><span class="s1">&#39;&lt;br&gt;&#39;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>9）完善细节</p>
<blockquote>
<p>代码优化，细节，找一找重复的代码，想办法整合：<code>demo.innerHTML = string.substring(0,n)</code>目前重复出现了两次</p>
<p><code>let n = -1</code>，将初始的的<code>demo.innerHTML = string.substring(0,n)</code>整合放入<code>let step() = ...</code>中</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 设初始值 n = -1，此步，n = 0
</span><span class="c1"></span><span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span> <span class="c1">// 每次重新刷新整个字符串
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>不符合常规从<code>0</code>开始，让<code>if(n &lt; string.length - 1)</code>，就可以<code>n = 0</code>开始</li>
</ul>
<blockquote>
<p>调慢速度后，回车的地方怎么出现了<code>&lt;</code></p>
<p>在<code> n = n + 1;</code>加上<code>console.log(string[n]);</code></p>
<p>一个字一个字蹦，解析到<code>&lt;br</code>，就先显示出<code>&lt;</code></p>
</blockquote>
<p>11）完整地解析<code>&lt;br&gt;</code></p>
<blockquote>
<p>重想全部方法：不能一下子全部替换</p>
<p>放弃使用<code>string = string.replace(/\n/g, &quot;&lt;br&gt;&quot;);</code></p>
<p>声明一个变量<code>string2</code>用作寄存字符串，<code>string[n]</code>只作为判断<code>\n</code>的标记，累加赋值给寄存器<code>string2</code></p>
</blockquote>
<ul>
<li><code>string[n]</code>不再作为累加的字符串，字符不再一一对应</li>
<li>而是作为判断<code>innnerHTML</code>哪里出现了<code>\n</code>的标记</li>
<li>重新声明一个<code>sintrg2 = &quot;&quot;</code>，用作寄存字符串</li>
<li>在过程中，每次遇到<code>\n</code>，每次都将<code>string[n]</code>替换一次成字符串<code>&lt;br&gt;</code>，累加赋值给字符串寄存器<code>string2</code></li>
<li>判断：<code>string[n] === &quot;\n&quot;</code></li>
<li>分叉判断：<code>string2 += &quot;&lt;br&gt;&quot; : string2 += string[n]</code></li>
<li>汇总：<code>demo.innerHTML = string2</code></li>
</ul>
<blockquote>
<p>对<code>n</code>进行加1的操作</p>
<p>取<code>string</code>的第n个字符</p>
<p>判断取得字符是否回车？替换 ：照抄</p>
<p>得到的结果保存到另一个字符串</p>
<p>判断n是否到最后一个？跳出 ：继续n+1的操作</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="cm">/* ... */</span>
<span class="kd">let</span> <span class="nx">string2</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">step</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&#34;\n&#34;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">string2</span> <span class="o">+=</span> <span class="s2">&#34;&lt;br&gt;&#34;</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">string2</span> <span class="o">+=</span> <span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">step</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>超过三十行，大脑就不够用了</p>
<p>每过几行就回顾一下代码，做了些什么，达到的程度</p>
<p>在注释中，写出分步思路，每个变量的作用，开始的取值，最后一步的取值</p>
<p>简化<code>if else</code>成三目运算，<code>n</code>累加和步进<code>step()</code>写到一起</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">demo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;#demo&#34;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">你好,我是一名前端新人
</span><span class="sb">接下来,我要开始加样式了
</span><span class="sb">我要加的样式是
</span><span class="sb">body{
</span><span class="sb">    color: red;
</span><span class="sb">}
</span><span class="sb">`</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">string2</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// string[n]下标
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">step</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="c1">//是回车就改成&lt;br&gt; 累加赋值给string2
</span><span class="c1"></span>        <span class="c1">//如果不是回车就照搬
</span><span class="c1"></span>        <span class="nx">string2</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&#34;\n&#34;</span> <span class="o">?</span> <span class="s2">&#34;&lt;br&gt;&#34;</span> <span class="o">:</span> <span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">])</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// n不是最后一个，步进
</span><span class="c1"></span>            <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="nx">step</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// n是最后一个，什么也不做
</span><span class="c1"></span>        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">step</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>三大难题</p>
</blockquote>
<ul>
<li>要不要加1（1-offset problem）</li>
<li>怎么命名（naming problem）</li>
<li>缓存失效（cache problem）</li>
</ul>
<blockquote>
<p>只有试</p>
<p>尽量把思路用注释写下来，防止遗忘</p>
</blockquote>
<hr>
<blockquote>
<p>空格未显示</p>
</blockquote>
<p>9）显示缩进，空格转义符</p>
<blockquote>
<p>要显示空格</p>
<p>加个判断<code>string[n] === &quot; &quot;</code></p>
<p>将<code>' '</code>转义为实体字符<code>&amp;nbsp;</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="k">if</span> <span class="p">(</span><span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&#34;\n&#34;</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//是回车就改成&lt;br&gt; 累加赋值给string2
</span><span class="c1"></span>    <span class="nx">string2</span> <span class="o">+=</span> <span class="s2">&#34;&lt;br&gt;&#34;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span> <span class="o">===</span> <span class="s2">&#34; &#34;</span><span class="p">){</span>
    <span class="c1">// 转义缩进
</span><span class="c1"></span>    <span class="nx">string2</span> <span class="o">+=</span> <span class="s2">&#34;&amp;nbsp;&#34;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//如果不是回车就照搬
</span><span class="c1"></span>    <span class="nx">string2</span> <span class="o">+=</span> <span class="nx">string</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<blockquote>
<p><code>body{ color: red; }</code>如何生效？</p>
</blockquote>
<h4 id="第二步同时展示html和加上样式">第二步：同时展示<code>HTML</code>和加上样式</h4>
<p>1）改样式</p>
<ul>
<li>加上<code>&lt;style id=&quot;style&quot;&gt;&lt;/style&gt;</code></li>
</ul>
<p>测试可以更改样式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">style</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;#style&#34;</span><span class="p">);</span>
<span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">style</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">    body{
</span><span class="sb">        color: red;
</span><span class="sb">    }
</span><span class="sb">    `</span><span class="p">;</span>
<span class="p">},</span> <span class="mi">3000</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>2）把展示的字符串同时写到<code>HTML</code>和<code>Style</code>里</p>
<ul>
<li>同时写入<code>&lt;style id=&quot;style&quot;&gt;&lt;/style&gt;</code>里</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">html</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;#html&#34;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">style</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;#style&#34;</span><span class="p">);</span>
<span class="c1">//...
</span><span class="c1">//...
</span><span class="c1"></span>    <span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string2</span><span class="p">;</span>
    <span class="nx">style</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string2</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>问题：在控制台里<code>&lt;style id=&quot;style&quot;&gt;&lt;/style&gt;</code>里混入了<code>&lt;br&gt;</code>和<code>&amp;bsp;</code>，并不能得到预期的效果</p>
</blockquote>
<ul>
<li>用替换空格和换行前的字符串<code>string.substring(0,n)</code></li>
</ul>
<blockquote>
<p>怎么style里有html，中文（字符）会使CSS失效</p>
<p><code>&lt;style id=&quot;style&quot;&gt;&lt;/style&gt;</code>里仍受中文字符影响</p>
<p>加注释 <code>/*  */</code></p>
</blockquote>
<p>代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">/*
</span><span class="sb">** 你好,我是一名前端新人
</span><span class="sb">** 接下来,我要开始加样式了
</span><span class="sb">** 我要加的样式是
</span><span class="sb">*/
</span><span class="sb">body{
</span><span class="sb">    color: red;
</span><span class="sb">}
</span><span class="sb">`</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>写<code>html</code>的时候同时写<code>style</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string2</span><span class="p">;</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="小结">小结</h3>
<ul>
<li>如何显示写入<code>HTML</code>里的内容</li>
<li>如何写入<code>Style</code>样式</li>
<li>如何让显示的内容的样式立即生效</li>
</ul>
<hr>
<h2 id="制作太极">制作太极</h2>
<h3 id="准备一个div">准备一个div</h3>
<ul>
<li><code>index.html</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">style</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;style&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
        <span class="p">#</span><span class="nn">div1</span> <span class="p">{</span>
            <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
            <span class="k">right</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
            <span class="k">top</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;html&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;div1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main_log.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="把-div-变成一个圆">把 div 变成一个圆</h3>
<ul>
<li><code>main.js</code>里的<code>string</code>加上以下代码</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">#</span><span class="nn">div1</span><span class="p">{</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">box-shadow</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">3</span><span class="kt">px</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">);</span>
    <span class="k">border</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="背景渐变实现一黑一白">背景渐变实现一黑一白</h3>
<blockquote>
<p>gradient background generator <a href="https://cssgradient.io/">https://cssgradient.io/</a></p>
</blockquote>
<ul>
<li><code>main.js</code>里的<code>string</code>加上以下代码</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">#</span><span class="nn">div1</span><span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="nb">linear-gradient</span><span class="p">(</span><span class="mi">90</span><span class="kt">deg</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">0</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">50</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">50</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">100</span><span class="kt">%</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="加两个神秘的小球">加两个神秘的小球</h3>
<ul>
<li><code>index.html</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">#</span><span class="nn">div1</span><span class="p">::</span><span class="nd">before</span><span class="o">,</span>
<span class="p">#</span><span class="nn">div1</span><span class="p">::</span><span class="nd">after</span> <span class="p">{</span>
    <span class="k">content</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="点睛">点睛</h3>
<blockquote>
<p>辐射渐变</p>
</blockquote>
<ul>
<li><code>radial-gradient</code></li>
<li><code>main.js</code>里的<code>string</code>加上以下代码</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">#</span><span class="nn">div1</span><span class="p">::</span><span class="nd">before</span><span class="o">,</span><span class="p">#</span><span class="nn">div1</span><span class="p">::</span><span class="nd">after</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">transform</span><span class="p">:</span> <span class="nb">translateX</span><span class="p">(</span><span class="mi">-50</span><span class="kt">%</span><span class="p">);</span>
    <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">whitesmoke</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">div1</span><span class="p">::</span><span class="nd">before</span><span class="p">{</span>
    <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#000</span><span class="p">;</span>
    <span class="k">background</span><span class="p">:</span> <span class="nb">radial-gradient</span><span class="p">(</span><span class="kc">circle</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">0</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">25</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">25</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">100</span><span class="kt">%</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">div1</span><span class="p">::</span><span class="nd">after</span><span class="p">{</span>
    <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">background</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
    <span class="k">background</span><span class="p">:</span> <span class="nb">radial-gradient</span><span class="p">(</span><span class="kc">circle</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">0</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">25</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">25</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">100</span><span class="kt">%</span><span class="p">,</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="mi">100</span><span class="kt">%</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>微元素中不能再套伪元素</p>
</blockquote>
<h3 id="背景">背景</h3>
<blockquote>
<p>白色背景太单调了，我们来点背景</p>
</blockquote>
<ul>
<li><code>main.js</code>里的<code>srtring</code>加上以下代码</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="nt">html</span> <span class="p">{</span>
    <span class="k">background</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mf">0.8</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="代码文字折行">代码文字折行</h3>
<blockquote>
<p>以及确定宽高</p>
</blockquote>
<ul>
<li><code>index.html</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">#</span><span class="nn">html</span> <span class="p">{</span>
    <span class="k">text-overflow</span><span class="p">:</span> <span class="kc">ellipsis</span><span class="p">;</span>
    <span class="k">overflow-y</span><span class="p">:</span> <span class="kc">visible</span><span class="p">;</span>
    <span class="k">word-wrap</span><span class="p">:</span> <span class="kc">break-word</span><span class="p">;</span>
    <span class="k">word-break</span><span class="p">:</span> <span class="kc">break-word</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">50</span><span class="kt">vw</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="优化以及永远都要考虑手机">优化以及永远都要考虑手机</h2>
<blockquote>
<p>自动处于底部</p>
</blockquote>
<ul>
<li><code>JS</code>控制滚动条</li>
<li><code>window.scrollTo(x,y)</code></li>
<li>加到<code>main.js</code>里</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">html</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string2</span><span class="p">;</span>
<span class="nx">style</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">9999</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>干掉X方向滚动条</p>
</blockquote>
<ul>
<li><code>CSS</code>设置换行</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="err">#</span><span class="nx">demo</span> <span class="p">{</span>
  <span class="nx">word</span><span class="o">-</span><span class="k">break</span><span class="o">:</span> <span class="k">break</span><span class="o">-</span><span class="nx">all</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>页面布局适配</p>
</blockquote>
<ul>
<li>媒体查询，测试有效性</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width500px</span><span class="o">)</span><span class="p">{</span>
    <span class="nt">body</span> <span class="p">{</span>
        <span class="k">color</span><span class="p">:</span> <span class="kc">red</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>上下各50%</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width</span><span class="p">:</span><span class="nd">500px</span><span class="o">)</span> <span class="p">{</span>
    <span class="p">#</span><span class="nn">html</span> <span class="p">{</span>
        <span class="k">height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">vh</span><span class="p">;</span>
        <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">red</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="p">#</span><span class="nn">div1</span><span class="p">{</span>
        <span class="k">height</span><span class="p">:</span><span class="mi">50</span><span class="kt">vh</span><span class="p">;</span>        <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">red</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>变成椭圆，未包裹div，定位不可固定</p>
</blockquote>
<ul>
<li>媒体查询的优先级更高，样式被影响</li>
<li>设置的宽高是固定数值，因此变形</li>
</ul>
<blockquote>
<p>外面再套一个<code>div#div1Wrapper</code>，专门用来定位</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;html&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;div1Wrapper&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;div1&#34;</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>对应在样式里修改</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width</span><span class="p">:</span><span class="nd">500px</span><span class="o">)</span> <span class="p">{</span>
    <span class="p">#</span><span class="nn">html</span> <span class="p">{</span> <span class="c">/* 上一半 */</span>
        <span class="k">height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">vh</span><span class="p">;</span>
        <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">red</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="p">#</span><span class="nn">div1Wrapper</span> <span class="p">{</span> <span class="c">/* 下一半 */</span>
        <span class="k">height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">vh</span><span class="p">;</span>
        <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">red</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="p">#</span><span class="nn">div1</span> <span class="p">{</span>
        <span class="k">position</span><span class="p">:</span> <span class="kc">relative</span><span class="p">;</span>
        <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">right</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>上半部分文字超出，到下方</p>
</blockquote>
<ul>
<li>加滚动条<code>overflow: auto;</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width</span><span class="p">:</span><span class="nd">500px</span><span class="o">)</span> <span class="p">{</span>
    <span class="p">#</span><span class="nn">html</span> <span class="p">{</span>
        <span class="c">/* 上一半 */</span>
        <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vw</span><span class="p">;</span>
        <span class="k">height</span><span class="p">:</span> <span class="mi">50</span><span class="kt">vh</span><span class="p">;</span>
        <span class="k">overflow</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>代码自动向下滚</p>
</blockquote>
<ul>
<li>
<p>之前设置的是浏览器的滚动条，现在要加上div的滚动条</p>
</li>
<li>
<p>在JS里加一句<code>html.scrollTo(0, 9999);</code></p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nb">window</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9999</span><span class="p">);</span>
<span class="nx">html</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9999</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>关键帧动画里，<code>transform</code>属性要完全覆盖之前的，相同的部分（状态）也要保留</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">#</span><span class="nn">div1</span><span class="p">{</span>
    <span class="k">animation</span><span class="p">:</span> <span class="mi">5</span><span class="kt">s</span> <span class="kc">linear</span> <span class="kc">infinite</span>  <span class="n">taiJi</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">@</span><span class="k">keyframes</span> <span class="nt">taiJi</span><span class="p">{</span>
    <span class="nt">from</span><span class="p">{</span>
        <span class="k">left</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
        <span class="k">transform</span> <span class="p">:</span> <span class="nb">translateX</span><span class="p">(</span><span class="mi">-50</span><span class="kt">%</span><span class="p">)</span> <span class="nb">rotate</span><span class="p">(</span><span class="mi">0</span><span class="kt">deg</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">to</span><span class="p">{</span>
        <span class="k">left</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
        <span class="k">transform</span> <span class="p">:</span> <span class="nb">translateX</span><span class="p">(</span><span class="mi">-50</span><span class="kt">%</span><span class="p">)</span> <span class="nb">rotate</span><span class="p">(</span><span class="mi">360</span><span class="kt">deg</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>注意别忘了写<code>CSS_reset</code>，以及修改 <del>五</del> 六个<code>meta</code>值，适配移动页面，抄大厂的</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,viewport-fit=cover&#34;</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="部署到-github-pages">部署到 GitHub Pages</h2>
<blockquote>
<p>演示中，不能把<code>&lt;style&gt;&lt;/style&gt;</code>写到<code>&lt;body&gt;&lt;/body&gt;</code>里，会被<code>parcel</code>删掉</p>
</blockquote>
<ul>
<li>单独保存样式到一个<code>style.css</code>里，就好了</li>
</ul>
<h3 id="验证">验证</h3>
<blockquote>
<p>生成的<code>dist</code>目录里的<code>index.html</code>能否运行</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">cd</span> dist
hs . -c-1
</code></pre></td></tr></table>
</div>
</div><ul>
<li>点开链接，加上路径<code>/index.html</code>查看，可以运行</li>
<li><code>src</code>里的不能直接运行</li>
<li>配置<code>Setting&gt;GitHub Pages</code>，选<code>master</code></li>
<li>等出现网址，打开（得到404页），加上路径<code>/dist/index.html</code></li>
<li>等待</li>
<li>在此页面下，打开开发者工具，<code>Network</code>选项卡，勾选<code>Disable Cache</code>禁用缓存，刷新</li>
</ul>
<blockquote>
<p>验证<code>Network</code>里，生成的<code>main.***.js</code>请求路径是否正确，包含<code>/cv-1/dist/index.html</code></p>
</blockquote>
<ul>
<li>手动更改打包路径</li>
</ul>
<p>参考</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">parcel --help
parcel build --help
</code></pre></td></tr></table>
</div>
</div><ul>
<li>更改<code>parcel build --public-url &lt;url&gt;</code></li>
<li>验证</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">cd</span> <span class="nx">cv</span><span class="o">-</span><span class="mi">1</span>
<span class="nx">parcel</span> <span class="nx">build</span> <span class="nx">src</span><span class="o">/</span><span class="nx">index</span><span class="p">.</span><span class="nx">html</span> <span class="o">--</span><span class="kr">public</span><span class="o">-</span><span class="nx">url</span> <span class="nx">fuck</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>打开重新生成的<code>dist/index.html</code>里，查找<code>fuck</code>，找到<code>src='fuck/main.***.js'</code></li>
<li><code>fuck</code>调试法</li>
<li>将<code>fuck</code>的位置替换为<code>dist</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">parcel</span> <span class="nx">build</span> <span class="nx">src</span><span class="o">/</span><span class="nx">index</span><span class="p">.</span><span class="nx">html</span> <span class="o">--</span><span class="kr">public</span><span class="o">-</span><span class="nx">url</span> <span class="nx">dist</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>打开重新生成的<code>dist/index.html</code>里，查看到<code>&lt;script src=&quot;dist/main.***.js&quot;&gt;&lt;/script&gt;</code></li>
</ul>
<h3 id="gitignore"><code>.gitignore</code></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">**/node_modules
**.cache
</code></pre></td></tr></table>
</div>
</div><h3 id="上传提交">上传提交</h3>
<p>忽略建仓操作，具体看</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">git add .
git commit -m <span class="s1">&#39;update build&#39;</span>
git push
</code></pre></td></tr></table>
</div>
</div><p>发现路径错<code>/dist/dist/...</code></p>
<p>重新生成</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">parcel build src/index.html
parcel build src/index.html --public-url .
</code></pre></td></tr></table>
</div>
</div><ul>
<li>确保<code>main.***.js</code>路径在当前目录</li>
<li>即<code>index.html</code>里的<code>&lt;script src=&quot;main.***.js&quot; &gt;&lt;/script&gt;</code>中，<code>main.***.js</code>前无其他路径</li>
</ul>
<blockquote>
<p>部署方式</p>
</blockquote>
<ul>
<li>每次改完代码，必须运行这一行，才能正确的请求 JS 和 CSS：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">parcel build src/index.html --public-url .
</code></pre></td></tr></table>
</div>
</div><p>&ndash;</p>
<h2 id="动态化项目复盘">动态化项目复盘</h2>
<blockquote>
<p>保留静态样式</p>
<p>把JS入门项目动态化</p>
<p>把画板项目也动起来：动态显示构建Canvas画板项目</p>
<p>回顾注释·回顾代码·回顾思路</p>
<p>过程·过程·过程</p>
<p>未适配<code>safari</code></p>
</blockquote>
<hr>
<ul>
<li>我实现的代码：<a href="https://github.com/xmasuhai/cv-1">https://github.com/xmasuhai/cv-1</a></li>
<li>效果：<a href="http://xmasuhai.xyz/cv-1/dist/index.html">http://xmasuhai.xyz/cv-1/dist/index.html</a></li>
</ul>
<!-- raw HTML omitted -->
<hr>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<hr>
<h3 id="参考文章">参考文章</h3>
<p>FrankFang的完整代码：<a href="https://github.com/FrankFang/cv-1/tree/master/src">https://github.com/FrankFang/cv-1/tree/master/src</a></p>
<ul>
<li><a href="https://jirengu-inc.github.io/animating-resume/public/">页面效果一</a>
<ul>
<li><a href="https://github.com/jirengu-inc/animating-resume">源码地址</a></li>
</ul>
</li>
<li><a href="http://fangyinghang.com/cv-1/dist/index.html">页面效果二</a>
<ul>
<li><a href="https://github.com/FrankFang/cv-1">源码地址</a></li>
</ul>
</li>
</ul>
<h3 id="相关文章">相关文章</h3>
<ul>
<li>无</li>
</ul>
<hr>
<ul>
<li>作者： Joel</li>
<li>文章链接：</li>
<li><a href="http://xmasuhai.xyz/posts/%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E9%93%BE%E6%8E%A5/">版权声明</a></li>
<li>非自由转载-非商用-非衍生-保持署名</li>
<li><!-- raw HTML omitted -->河<!-- raw HTML omitted -->
<!-- raw HTML omitted -->掘<!-- raw HTML omitted -->
<!-- raw HTML omitted -->思<!-- raw HTML omitted -->
<!-- raw HTML omitted -->知<!-- raw HTML omitted -->
<!-- raw HTML omitted -->简<!-- raw HTML omitted --></li>
</ul>
<hr>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Joel Xu</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2022-09-03
      
        
        
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://xmasuhai.xyz/tags/javascript/">JavaScript</a>
          <a href="http://xmasuhai.xyz/tags/demo/">demo</a>
          <a href="http://xmasuhai.xyz/tags/js/">JS</a>
          <a href="http://xmasuhai.xyz/tags/%E4%BC%9A%E5%8A%A8%E7%9A%84%E4%BB%A3%E7%A0%81/">会动的代码</a>
          <a href="http://xmasuhai.xyz/tags/%E5%85%A8%E7%A8%8B%E8%AE%B0%E5%BD%95/">全程记录</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/js/js%E9%9D%9E%E5%85%A8%E8%A7%A308js%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">【JS非全解08】JS运算符与类型转换</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/js/js%E9%9D%9E%E5%85%A8%E8%A7%A306js-%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA%E4%B8%8Ejs-%E5%87%BD%E6%95%B0%E6%B5%85%E6%9E%90/">
            <span class="next-text nav-default">【JS非全解06】JS 函数的执行时机与JS 函数浅析</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xmasuhai@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/xmasuhai" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/people/xue-shou-41/posts" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="http://xmasuhai.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2022
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Joel Xu
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
