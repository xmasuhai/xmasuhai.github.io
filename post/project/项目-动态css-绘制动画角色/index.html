<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>【项目】动态CSS——绘制动画角色 - Joel in The House</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Joel Xu" />
  <meta name="description" content="画皮卡丘、小黄人、哆啦A梦、瑞克和莫提、琦玉，任何CSS画出的非图片图形，Canvas SVG 点击动画效果预览 示例作品，声音，快慢播放 目录§ ⇧ 1. 回" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.59.1" />


<link rel="canonical" href="http://xmasuhai.xyz/post/project/%E9%A1%B9%E7%9B%AE-%E5%8A%A8%E6%80%81css-%E7%BB%98%E5%88%B6%E5%8A%A8%E7%94%BB%E8%A7%92%E8%89%B2/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="【项目】动态CSS——绘制动画角色" />
<meta property="og:description" content="画皮卡丘、小黄人、哆啦A梦、瑞克和莫提、琦玉，任何CSS画出的非图片图形，Canvas SVG 点击动画效果预览 示例作品，声音，快慢播放 目录§ ⇧ 1. 回" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://xmasuhai.xyz/post/project/%E9%A1%B9%E7%9B%AE-%E5%8A%A8%E6%80%81css-%E7%BB%98%E5%88%B6%E5%8A%A8%E7%94%BB%E8%A7%92%E8%89%B2/" />
<meta property="article:published_time" content="2020-07-07T04:22:43+08:00" />
<meta property="article:modified_time" content="2022-09-03T10:26:25+08:00" />
<meta itemprop="name" content="【项目】动态CSS——绘制动画角色">
<meta itemprop="description" content="画皮卡丘、小黄人、哆啦A梦、瑞克和莫提、琦玉，任何CSS画出的非图片图形，Canvas SVG 点击动画效果预览 示例作品，声音，快慢播放 目录§ ⇧ 1. 回">


<meta itemprop="datePublished" content="2020-07-07T04:22:43&#43;08:00" />
<meta itemprop="dateModified" content="2022-09-03T10:26:25&#43;08:00" />
<meta itemprop="wordCount" content="6855">



<meta itemprop="keywords" content="SCSS,ES6,HashTable,CSS," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="【项目】动态CSS——绘制动画角色"/>
<meta name="twitter:description" content="画皮卡丘、小黄人、哆啦A梦、瑞克和莫提、琦玉，任何CSS画出的非图片图形，Canvas SVG 点击动画效果预览 示例作品，声音，快慢播放 目录§ ⇧ 1. 回"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Joel in The House</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Joel in The House
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">【项目】动态CSS——绘制动画角色</h1>
      
      <div class="post-meta">
        <time datetime="2020-07-07" class="post-time">
          2020-07-07
        </time>
        <div class="post-category">
            <a href="http://xmasuhai.xyz/categories/project/"> Project </a>
            
          </div>
        <span class="more-meta"> 约 6855 字 </span>
          <span class="more-meta"> 预计阅读 14 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#目录-a-id-catalogue-href-catalogue-a-a-href-catalogue-a">目录<a id="catalogue" href="#catalogue" > § </a><a href="#catalogue"> ⇧ </a></a></li>
<li><a href="#回顾技术栈">回顾技术栈</a></li>
<li><a href="#选择模仿目标">选择模仿目标</a></li>
<li><a href="#项目介绍">项目介绍</a>
<ul>
<li><a href="#特点">特点</a></li>
<li><a href="#技术栈">技术栈</a></li>
<li><a href="#后续更新">后续更新</a></li>
<li><a href="#思路">思路</a></li>
</ul></li>
<li><a href="#创建和使用">创建和使用</a></li>
<li><a href="#开发">开发</a></li>
<li><a href="#build-命令">build 命令</a></li>
<li><a href="#修改-package-json">修改 <code>package.json</code></a></li>
<li><a href="#制作过程">制作过程</a>
<ul>
<li><a href="#制作鼻子和眼睛样式">制作鼻子和眼睛样式</a></li>
<li><a href="#制作眼睛">制作眼睛</a></li>
<li><a href="#制作上嘴唇">制作上嘴唇</a></li>
<li><a href="#制作下嘴唇">制作下嘴唇</a></li>
<li><a href="#添加动态效果">添加动态效果</a></li>
</ul></li>
<li><a href="#移动端适配">移动端适配</a></li>
<li><a href="#动态显示代码">动态显示代码</a>
<ul>
<li><a href="#简单的测试">简单的测试</a></li>
<li><a href="#同时以文本和html的形式展示style标签">同时以文本和HTML的形式展示style标签</a></li>
</ul></li>
<li><a href="#模块化导出js独立代码">模块化导出JS独立代码</a></li>
<li><a href="#添加暂停-变速按钮">添加暂停、变速按钮</a></li>
<li><a href="#总结">总结</a>
<ul>
<li><a href="#vscode-v-s-webstorm">VSCode V.S. WebStorm</a></li>
</ul></li>
<li><a href="#部署到-github-pages">部署到 GitHub Pages</a>
<ul>
<li><a href="#gitignore"><code>.gitignore</code></a></li>
</ul></li>
<li><a href="#部署方式">部署方式</a></li>
<li><a href="#yarn-build-一键发布">yarn build 一键发布</a>
<ul>
<li><a href="#参考文章">参考文章</a></li>
<li><a href="#相关文章">相关文章</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<blockquote>
<p>画皮卡丘、小黄人、哆啦A梦、瑞克和莫提、琦玉，任何CSS画出的非图片图形，Canvas SVG</p>
</blockquote>

<ul>
<li><a href="http://xmasuhai.xyz/pikachu/dist/index.html">点击动画效果预览</a></li>
<li><a href="http://xmasuhai.xyz/pikachu/dist/test.html">示例作品，声音，快慢播放</a></li>
</ul>

<hr />

<h2 id="目录-a-id-catalogue-href-catalogue-a-a-href-catalogue-a">目录<a id="catalogue" href="#catalogue" > § </a><a href="#catalogue"> ⇧ </a></h2>

<ul>
<li><a id="_$1_" href="#_$2_">1. 回顾技术栈 § </a></li>
<li><a id="_$1_" href="#_$2_">2. 选择模仿目标 § </a></li>
<li><a id="_$1_" href="#_$2_">3. 创建和使用 § </a></li>
<li><a id="_$1_" href="#_$2_">4. 图形制作过程 § </a></li>
<li><a id="_$1_" href="#_$2_">6. 动态显示代码 § </a></li>
<li><a id="_$1_" href="#_$2_">7. 总结 § </a></li>
</ul>

<hr />

<h2 id="回顾技术栈">回顾技术栈</h2>

<blockquote>
<p>CSS3 + ES6综合应用</p>
</blockquote>

<ul>
<li>必备知识：CSS3布局和定位、CSS3 transform、JS DOM操作</li>
</ul>

<blockquote>
<p>浏览器 JS 的能力</p>
</blockquote>

<ul>
<li>操作DOM</li>
<li>操作AJAX</li>
</ul>

<blockquote>
<p>目前的目标</p>
</blockquote>

<ul>
<li>用jQuery操作DOM（之后改成Vue React）</li>
<li>用axios操作AJAX</li>
</ul>

<blockquote>
<p>一个项目</p>
</blockquote>

<ul>
<li>60%的时间在写CSS 布局</li>
<li>20%的时间在写JS</li>
<li>20%的时间在想错在哪</li>
</ul>

<hr />

<h2 id="选择模仿目标">选择模仿目标</h2>

<blockquote>
<p>勿原创，不是设计师</p>
</blockquote>

<ul>
<li>模仿别人的界面，代码自己写</li>
<li>codepen.io</li>
</ul>

<h2 id="项目介绍">项目介绍</h2>

<h3 id="特点">特点</h3>

<ul>
<li>移动端支持</li>
<li>CSS绘制任意图形，并同步显示代码</li>
<li>界面简洁友好</li>
<li>使用指南</li>
</ul>

<h3 id="技术栈">技术栈</h3>

<ul>
<li><code>SCSS</code></li>
<li><code>parcel</code>实时预览</li>
<li><code>@media</code>媒体查询</li>
<li>表驱动编程-自动绑定事件</li>
<li><code>Git</code> &amp; <code>GitHub</code></li>
<li>短链处理</li>
<li>二维码链接</li>
</ul>

<h3 id="后续更新">后续更新</h3>

<ul>
<li>vue版本</li>
<li>react版本</li>
</ul>

<h3 id="思路">思路</h3>

<ul>
<li>实现手机端

<ul>
<li>写 HTML</li>
<li>写 SCSS</li>
<li>写 JS(事件监听、DOM 操作)</li>
</ul></li>
<li>实现PC端

<ul>
<li>加 媒体查询 CSS</li>
<li>写 JS(单独处理PC端逻辑)</li>
</ul></li>
<li>发布到 <code>GitHub</code> <code>Gitee</code></li>
</ul>

<hr />

<h2 id="创建和使用">创建和使用</h2>

<h2 id="开发">开发</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">yarn global add parcel-bundler
parcel src/index.html</code></pre></td></tr></table>
</div>
</div>
<h2 id="build-命令">build 命令</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">yarn build</code></pre></td></tr></table>
</div>
</div>
<h2 id="修改-package-json">修改 <code>package.json</code></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JSON" data-lang="JSON"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JSON" data-lang="JSON"><span class="p">{</span>
  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;sass&#34;</span><span class="p">:</span> <span class="s2">&#34;^1.26.9&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;rm -rf dist &amp;&amp; parcel build src/index.html --no-minify --public-url ./&#34;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<hr />

<p>取色工具 Snipaste</p>

<hr />

<h2 id="制作过程">制作过程</h2>

<blockquote>
<p>index.html</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;IE=edge,chrome=1&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
    <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,viewport-fit=cover&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>PiKaChu<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://cdn.bootcdn.net/ajax/libs/modern-normalize/0.6.0/modern-normalize.min.css&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;style.scss&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;face&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;eye&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;eye eye-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;noseTip&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek-left&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;mouth&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip-left&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;jaw&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lowerJaw&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>基础SCSS样式</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="o">*,</span>
<span class="o">*</span><span class="nd">::before</span><span class="o">,</span>
<span class="o">*</span><span class="nd">::after</span> <span class="p">{</span>
  <span class="nt">box-sizing</span><span class="nd">:</span> <span class="nt">border-box</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">body</span> <span class="p">{</span>
  <span class="nt">width</span><span class="nd">:</span> <span class="nt">100vw</span><span class="p">;</span>
  <span class="nt">min-height</span><span class="nd">:</span> <span class="nt">100vh</span><span class="p">;</span>
  <span class="nt">background-color</span><span class="nd">:</span> <span class="nn">#ffe035</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@mixin</span><span class="nf"> widthHeight</span><span class="p">(</span><span class="nv">$width</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="o">,</span> <span class="nv">$height</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">width</span><span class="nd">:</span> <span class="err">$</span><span class="nt">width</span><span class="p">;</span>
  <span class="nt">height</span><span class="nd">:</span> <span class="err">$</span><span class="nt">height</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@function</span> <span class="nt">boxSize</span><span class="o">(</span><span class="err">$</span><span class="nt">width</span><span class="nd">:</span> <span class="nt">0px</span><span class="o">,</span> <span class="err">$</span><span class="nt">height</span><span class="nd">:</span> <span class="nt">false</span><span class="o">)</span> <span class="p">{</span>
  <span class="k">@if</span> <span class="nv">$height</span><span class="o">==</span><span class="n">false</span> <span class="p">{</span>
    <span class="nv">$height</span><span class="o">:</span> <span class="nv">$width</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// @warn $width;
</span><span class="c1"></span>  <span class="c1">// @warn $height;
</span><span class="c1"></span>  <span class="c1">// while invoke need `...`
</span><span class="c1"></span>  <span class="k">@return</span> <span class="o">(</span><span class="err">$</span><span class="nt">width</span><span class="o">,</span> <span class="err">$</span><span class="nt">height</span><span class="o">)</span><span class="p">;</span>
<span class="p">}</span>

<span class="err">%</span><span class="nt">pseudo</span> <span class="p">{</span>
  <span class="nt">content</span><span class="nd">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
  <span class="nt">display</span><span class="nd">:</span> <span class="nt">block</span><span class="p">;</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<hr />

<h3 id="制作鼻子和眼睛样式">制作鼻子和眼睛样式</h3>

<blockquote>
<p>以页面宽度中线为基准，画鼻子</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="cm">/* ... */</span>
<span class="k">@mixin</span><span class="nf"> widthHeight</span><span class="p">(</span><span class="nv">$width</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="o">,</span> <span class="nv">$height</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">width</span><span class="nd">:</span> <span class="err">$</span><span class="nt">width</span><span class="p">;</span>
  <span class="nt">height</span><span class="nd">:</span> <span class="err">$</span><span class="nt">height</span><span class="p">;</span>
<span class="p">}</span>
<span class="err">%</span><span class="nt">pseudo</span> <span class="p">{</span>
  <span class="nt">content</span><span class="nd">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
  <span class="nt">display</span><span class="nd">:</span> <span class="nt">block</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* ... */</span>
<span class="nc">.face</span> <span class="p">{</span>
  <span class="nt">position</span><span class="nd">:</span> <span class="nt">relative</span><span class="p">;</span>

  <span class="nc">.noseTip</span> <span class="p">{</span>
    <span class="nt">z-index</span><span class="nd">:</span> <span class="nt">2</span><span class="p">;</span>
    <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
    <span class="nt">left</span><span class="nd">:</span> <span class="nt">50</span><span class="err">%</span><span class="p">;</span>
    <span class="nt">top</span><span class="nd">:</span> <span class="nt">310px</span><span class="p">;</span>
    <span class="nt">margin-left</span><span class="nd">:</span> <span class="nt">-10px</span><span class="p">;</span>

    <span class="nt">border</span><span class="nd">:</span> <span class="nt">10px</span> <span class="nt">solid</span> <span class="nn">#ffe035</span><span class="p">;</span>
    <span class="nt">border-top-color</span><span class="nd">:</span> <span class="nt">black</span><span class="p">;</span>
    <span class="nt">border-bottom-width</span><span class="nd">:</span> <span class="nt">0px</span><span class="p">;</span> <span class="c1">// border-bottom: none;
</span><span class="c1"></span>
    <span class="c1">// Nasal bridge
</span><span class="c1"></span>    <span class="k">&amp;</span><span class="nd">::before</span> <span class="p">{</span>
      <span class="k">@extend</span> <span class="err">%</span><span class="nt">pseudo</span><span class="p">;</span>
      <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="mi">20</span><span class="kt">px</span><span class="o">,</span> <span class="mi">10</span><span class="kt">px</span><span class="p">);</span>

      <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
      <span class="nt">top</span><span class="nd">:</span> <span class="nt">-16px</span><span class="p">;</span>
      <span class="nt">left</span><span class="nd">:</span> <span class="nt">-10px</span><span class="p">;</span>

      <span class="nt">background-color</span><span class="nd">:</span> <span class="nt">black</span><span class="p">;</span>
      <span class="nt">border-radius</span><span class="nd">:</span> <span class="nt">10px</span> <span class="o">/</span> <span class="nt">5px</span><span class="p">;</span>
      <span class="nt">box-shadow</span><span class="nd">:</span> <span class="nt">0px</span> <span class="nt">0px</span> <span class="nt">1px</span> <span class="nt">0px</span> <span class="nt">black</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nc">.eye</span><span class="p">{</span>
  <span class="c1">//...
</span><span class="c1"></span>  <span class="p">}</span>
  <span class="nc">.cheek</span><span class="p">{</span>
  <span class="c1">//...
</span><span class="c1"></span>  <span class="p">}</span>
  <span class="nc">.mouth</span><span class="p">{</span>
  <span class="c1">//...
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li>注意当写border 不同方向上数值的时候， 指的是那个方向上的厚度</li>
<li>CSS用border模拟图形（三角 + 圆/椭圆）</li>
<li>tips提示条</li>
<li>各同级元素的单位保持一致（px / em ），和百分比 / vh vm 混用注意</li>
<li>使用绝对定位时，没有普通文档流元素，body 元素高度设为<code>{min-height: 100vh;}</code></li>
<li>对具体某个元素使用绝对定位时，父元素设为相对定位</li>
<li>平滑椭圆边线圆弧 <code>border-bottom-left-radius: 60px 30px;</code></li>
<li><code>transform</code>属性会相互覆盖，必须一次性写出<code>transform: translate(110px, -30px) scaleX(-1) rotate(-20deg);</code></li>
</ul>

<h3 id="制作眼睛">制作眼睛</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS">  <span class="nc">.eye</span> <span class="p">{</span>
    <span class="nt">border</span><span class="nd">:</span> <span class="nt">2px</span> <span class="nt">solid</span> <span class="nn">#000</span><span class="p">;</span>
    <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="nf">boxSize</span><span class="p">(</span><span class="mi">64</span><span class="kt">px</span><span class="p">)</span><span class="o">...</span><span class="p">);</span>
    <span class="nt">background</span><span class="nd">:</span> <span class="nn">#2e2e2e</span><span class="p">;</span>
    <span class="nt">border-radius</span><span class="nd">:</span> <span class="nt">100</span><span class="err">%</span><span class="p">;</span>

    <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
    <span class="nt">top</span><span class="nd">:</span> <span class="nt">270px</span><span class="p">;</span>
    <span class="nt">left</span><span class="nd">:</span> <span class="nt">50</span><span class="err">%</span><span class="p">;</span>
    <span class="nt">margin-left</span><span class="nd">:</span> <span class="nt">-32px</span><span class="p">;</span>
    <span class="nt">transform</span><span class="nd">:</span> <span class="nt">translateX</span><span class="o">(</span><span class="nt">-150px</span><span class="o">)</span><span class="p">;</span>

    <span class="k">&amp;</span><span class="nt">-right</span> <span class="p">{</span>
      <span class="nt">transform</span><span class="nd">:</span> <span class="nt">translateX</span><span class="o">(</span><span class="nt">150px</span><span class="o">)</span><span class="p">;</span>
      <span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// pupil
</span><span class="c1"></span>    <span class="k">&amp;</span><span class="nd">::before</span> <span class="p">{</span>
      <span class="k">@extend</span> <span class="err">%</span><span class="nt">pseudo</span><span class="p">;</span>
      <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="nf">boxSize</span><span class="p">(</span><span class="mi">30</span><span class="kt">px</span><span class="p">)</span><span class="o">...</span><span class="p">);</span>
      <span class="nt">border-radius</span><span class="nd">:</span> <span class="nt">100</span><span class="err">%</span><span class="p">;</span>
      <span class="nt">background-color</span><span class="nd">:</span> <span class="nt">whitesmoke</span><span class="p">;</span>
      <span class="nt">position</span><span class="nd">:</span> <span class="nt">relative</span><span class="p">;</span>
      <span class="nt">left</span><span class="nd">:</span> <span class="nt">5px</span><span class="p">;</span>
      <span class="nt">top</span><span class="nd">:</span> <span class="nt">5px</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="制作上嘴唇">制作上嘴唇</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS">  <span class="nc">.mouth</span> <span class="p">{</span>
    <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="mi">220</span><span class="kt">px</span><span class="o">,</span> <span class="mi">200</span><span class="kt">px</span><span class="p">);</span>
    <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
    <span class="nt">left</span><span class="nd">:</span> <span class="nt">50</span><span class="err">%</span><span class="p">;</span>
    <span class="nt">top</span><span class="nd">:</span> <span class="nt">350px</span><span class="p">;</span>
    <span class="nt">margin-left</span><span class="nd">:</span> <span class="nt">-110px</span><span class="p">;</span>

    <span class="nc">.lip</span> <span class="p">{</span>
      <span class="nt">z-index</span><span class="nd">:</span> <span class="nt">1</span><span class="p">;</span>
      <span class="nt">position</span><span class="nd">:</span> <span class="nt">relative</span><span class="p">;</span>

      <span class="err">%</span><span class="nt">lips</span> <span class="p">{</span>
        <span class="nt">background-color</span><span class="nd">:</span> <span class="nn">#ffe035</span><span class="p">;</span>
        <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="mi">110</span><span class="kt">px</span><span class="o">,</span> <span class="mi">30</span><span class="kt">px</span><span class="p">);</span>

        <span class="nt">border</span><span class="nd">:</span> <span class="nt">4px</span> <span class="nt">solid</span> <span class="nt">black</span><span class="p">;</span>
        <span class="nt">border-top-width</span><span class="nd">:</span> <span class="nt">0px</span><span class="p">;</span>
        <span class="nt">border-right-width</span><span class="nd">:</span> <span class="nt">0px</span><span class="p">;</span>
        <span class="nt">border-top-color</span><span class="nd">:</span> <span class="nn">#ffe035</span><span class="p">;</span>
        <span class="nt">border-top-right-radius</span><span class="nd">:</span> <span class="nt">60px</span> <span class="nt">30px</span><span class="p">;</span>

        <span class="c1">// mustache hide lip
</span><span class="c1"></span>        <span class="k">&amp;</span><span class="nd">::after</span> <span class="p">{</span>
          <span class="k">@extend</span> <span class="err">%</span><span class="nt">pseudo</span><span class="p">;</span>

          <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="mi">100</span><span class="kt">%</span><span class="o">,</span> <span class="mi">0</span><span class="mf">.01</span><span class="kt">px</span><span class="p">);</span>
          <span class="nt">border</span><span class="nd">:</span> <span class="nt">2px</span> <span class="nt">solid</span> <span class="nn">#ffe035</span><span class="p">;</span>
          <span class="nt">outline</span><span class="nd">:</span> <span class="nt">1px</span> <span class="nt">solid</span> <span class="nn">#ffe035</span><span class="p">;</span>
          <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
          <span class="nt">top</span><span class="nd">:</span> <span class="nt">-3px</span><span class="p">;</span>
          <span class="nt">left</span><span class="nd">:</span> <span class="nt">1px</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="k">@mixin</span><span class="nf"> border</span><span class="p">(</span><span class="nv">$bd-b-l-rad</span><span class="o">:</span> <span class="mi">60</span><span class="kt">px</span> <span class="mi">30</span><span class="kt">px</span><span class="o">,</span> <span class="nv">$rotate</span><span class="o">:</span><span class="nf">rotate</span><span class="p">(</span><span class="mi">-20</span><span class="kt">deg</span><span class="p">))</span> <span class="p">{</span>
        <span class="nt">border-bottom-left-radius</span><span class="nd">:</span> <span class="err">$</span><span class="nt">bd-b-l-rad</span><span class="p">;</span>
        <span class="nt">transform</span><span class="nd">:</span> <span class="err">$</span><span class="nt">rotate</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">&amp;</span><span class="o">&gt;</span><span class="nc">.lip-left</span> <span class="p">{</span>
        <span class="k">@extend</span> <span class="err">%</span><span class="nt">lips</span><span class="p">;</span>
        <span class="k">@include</span><span class="nd"> border</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">&amp;</span><span class="o">&gt;</span><span class="nc">.lip-right</span> <span class="p">{</span>
        <span class="k">@extend</span> <span class="err">%</span><span class="nt">lips</span><span class="p">;</span>
        <span class="k">@include</span><span class="nd"> border</span><span class="p">(</span><span class="mi">60</span><span class="kt">px</span> <span class="mi">30</span><span class="kt">px</span><span class="o">,</span> <span class="nf">translate</span><span class="p">(</span><span class="mi">110</span><span class="kt">px</span><span class="o">,</span> <span class="mi">-30</span><span class="kt">px</span><span class="p">)</span> <span class="nf">scaleX</span><span class="p">(</span><span class="mi">-1</span><span class="p">)</span> <span class="nf">rotate</span><span class="p">(</span><span class="mi">-20</span><span class="kt">deg</span><span class="p">));</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nc">.jaw</span><span class="p">{</span>
        <span class="c1">//...
</span><span class="c1"></span>    <span class="p">}</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="制作下嘴唇">制作下嘴唇</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS">    <span class="nc">.jaw</span> <span class="p">{</span>
      <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="mi">100</span><span class="kt">%</span><span class="o">,</span> <span class="mi">220</span><span class="kt">px</span><span class="p">);</span>

      <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
      <span class="nt">top</span><span class="nd">:</span> <span class="nt">8px</span><span class="p">;</span>

      <span class="c1">// hide lower jaw
</span><span class="c1"></span>      <span class="nt">overflow</span><span class="nd">:</span> <span class="nt">hidden</span><span class="p">;</span>
      <span class="nt">border-radius</span><span class="nd">:</span> <span class="nt">50</span><span class="err">%</span> <span class="nt">50</span><span class="err">%</span> <span class="nt">00</span><span class="o">/</span> <span class="nt">25</span><span class="err">%</span> <span class="nt">25</span><span class="err">%</span> <span class="nt">0</span> <span class="nt">0</span><span class="p">;</span>

      <span class="nc">.lowerJaw</span> <span class="p">{</span>
        <span class="nv">$jaw-width</span><span class="o">:</span> <span class="mi">180</span><span class="kt">px</span><span class="p">;</span>
        <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="nv">$jaw-width</span><span class="o">,</span> <span class="mi">580</span><span class="kt">px</span><span class="p">);</span>

        <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
        <span class="nt">bottom</span><span class="nd">:</span> <span class="nt">0</span><span class="p">;</span>
        <span class="nt">left</span><span class="nd">:</span> <span class="nt">50</span><span class="err">%</span><span class="p">;</span>
        <span class="nt">margin-left</span><span class="nd">:</span> <span class="nt">-</span><span class="o">(</span><span class="err">$</span><span class="nt">jaw-width</span><span class="o">)/</span><span class="nt">2</span><span class="p">;</span>

        <span class="nt">border</span><span class="nd">:</span> <span class="nt">3px</span> <span class="nt">solid</span> <span class="nn">#000</span><span class="p">;</span>
        <span class="nt">border-radius</span><span class="nd">:</span> <span class="nt">50</span><span class="err">%</span> <span class="o">/</span> <span class="nt">50</span><span class="err">%</span><span class="p">;</span>
        <span class="nt">background-color</span><span class="nd">:</span> <span class="nn">#9b000a</span><span class="p">;</span>

        <span class="c1">// hide tongue
</span><span class="c1"></span>        <span class="nt">overflow</span><span class="nd">:</span> <span class="nt">hidden</span><span class="p">;</span>

        <span class="c1">// tongue
</span><span class="c1"></span>        <span class="k">&amp;</span><span class="nd">::after</span> <span class="p">{</span>
          <span class="k">@extend</span> <span class="err">%</span><span class="nt">pseudo</span><span class="p">;</span>
          <span class="nv">$tongue-width</span><span class="o">:</span> <span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
          <span class="nv">$tongue-height</span><span class="o">:</span> <span class="mi">380</span><span class="kt">px</span><span class="p">;</span>
          <span class="k">@include</span><span class="nd"> widthHeight</span><span class="p">(</span><span class="nv">$tongue-width</span><span class="o">,</span> <span class="nv">$tongue-height</span><span class="p">);</span>
          <span class="nt">background-color</span><span class="nd">:</span> <span class="nn">#ff485f</span><span class="p">;</span>

          <span class="nt">position</span><span class="nd">:</span> <span class="nt">absolute</span><span class="p">;</span>
          <span class="nt">bottom</span><span class="nd">:</span> <span class="nt">-</span><span class="err">$</span><span class="nt">tongue-height</span><span class="o">/</span><span class="nt">2</span><span class="p">;</span>
          <span class="nt">left</span><span class="nd">:</span> <span class="nt">50</span><span class="err">%</span><span class="p">;</span>
          <span class="nt">margin-left</span><span class="nd">:</span> <span class="nt">-</span><span class="err">$</span><span class="nt">tongue-width</span><span class="o">/</span><span class="nt">2</span><span class="p">;</span>
          <span class="nt">border-radius</span><span class="nd">:</span> <span class="nt">100px</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="添加动态效果">添加动态效果</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-SCSS" data-lang="SCSS"><span class="nc">.noseTip</span><span class="p">{</span>
    <span class="cm">/* ... */</span>
    <span class="nv">$n</span><span class="o">:</span> <span class="mi">5</span><span class="kt">deg</span><span class="p">;</span>
    <span class="nv">$step</span><span class="o">:</span> <span class="mi">33</span><span class="kt">%</span><span class="p">;</span>

    <span class="k">@keyframes</span> <span class="nt">shakeNose</span> <span class="p">{</span>
      <span class="nt">0</span><span class="err">%</span> <span class="p">{</span>
        <span class="nt">transform</span><span class="nd">:</span> <span class="nt">rotate</span><span class="o">(</span><span class="nt">0deg</span><span class="o">)</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">@for</span> <span class="nv">$i</span> <span class="ow">from</span> <span class="mi">1</span> <span class="ow">to</span> <span class="mi">3</span> <span class="p">{</span>
        <span class="nn">#</span><span class="p">{</span><span class="err">$</span><span class="nt">i</span> <span class="o">*</span> <span class="err">$</span><span class="nt">step</span><span class="p">}</span> <span class="p">{</span>
          <span class="k">@if</span> <span class="nv">$i</span> <span class="o">%</span> <span class="mi">2</span><span class="o">==</span><span class="mi">0</span> <span class="p">{</span>
            <span class="nt">transform</span><span class="nd">:</span> <span class="nt">rotate</span><span class="o">(</span><span class="nt">-</span><span class="err">$</span><span class="nt">n</span><span class="o">)</span><span class="p">;</span>
          <span class="p">}</span>

          <span class="k">@else</span> <span class="p">{</span>
            <span class="nt">transform</span><span class="nd">:</span> <span class="nt">rotate</span><span class="o">(</span><span class="err">$</span><span class="nt">n</span><span class="o">)</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="nt">100</span><span class="err">%</span> <span class="p">{</span>
        <span class="nt">transform</span><span class="nd">:</span> <span class="nt">rotate</span><span class="o">(</span><span class="nt">0</span><span class="o">)</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">&amp;</span><span class="nd">:hover</span> <span class="p">{</span>
      <span class="nt">transform-origin</span><span class="nd">:</span> <span class="nt">center</span> <span class="nt">bottom</span><span class="p">;</span>
      <span class="nt">animation</span><span class="nd">:</span> <span class="nt">shakeNose</span> <span class="nt">infinite</span> <span class="nt">300ms</span> <span class="nt">linear</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<hr />

<h2 id="移动端适配">移动端适配</h2>

<p>px -&gt; rem</p>

<hr />

<h2 id="动态显示代码">动态显示代码</h2>

<h3 id="简单的测试">简单的测试</h3>

<blockquote>
<p>蹦字</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// &lt;div id=&#34;demo&#34;&gt;&lt;/div&gt;
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`大家好，我是这里是`</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="c1">// console.log(n);
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="c1">// console.log(n + &#39;:&#39; + string.substr(0, n) + &#39;/&#39; + string.length);
</span><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">300</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>动态样式</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">// const string = `大家好，我是这里是`;
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">&lt;style&gt;
</span><span class="sb">    body {
</span><span class="sb">    background-color: red;
</span><span class="sb">    }
</span><span class="sb">&lt;/style&gt;
</span><span class="sb">`</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="c1">// console.log(n);
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="c1">// console.log(n + &#39;:&#39; + string.substr(0, n) + &#39;/&#39; + string.length);
</span><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">300</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
<h3 id="同时以文本和html的形式展示style标签">同时以文本和HTML的形式展示style标签</h3>

<blockquote>
<p>同时输出两种形式，一个用 <code>innerHTML</code>，另一个用<code>innerText</code></p>
</blockquote>

<ul>
<li>用<code>innerText</code>，以文本形式展示，但标签不会生效</li>

<li><p>同时用<code>innerHTML</code>写入标签</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// &lt;div id=&#34;demo&#34;&gt;&lt;/div&gt;
</span><span class="c1">// &lt;div id=&#34;demo2&#34;&gt;&lt;/div&gt;
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">&lt;style&gt;
</span><span class="sb">body {
</span><span class="sb">background-color: red;
</span><span class="sb">}
</span><span class="sb">&lt;/style&gt;
</span><span class="sb">`</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="c1">// console.log(n);
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">// console.log(n + &#39;:&#39; + string.substr(0, n) + &#39;/&#39; + string.length);
</span><span class="c1"></span><span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="k">return</span>
<span class="p">}</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<hr />

<blockquote>
<p>先写好HTML到 <code>&lt;div id=&quot;html&quot;&gt;&lt;/div&gt;</code>里</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;html&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;face&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;eye&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;eye eye-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nose-tip &#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek-left&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;mouth&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip&#34;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip-left&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;jaw&#34;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lower-jaw&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>再动态显示 CSS 代码 动态加载CSS</p>
</blockquote>

<ul>
<li>分屏固定显示代码文本和效果</li>
<li>隐藏展示样式<code>#demo2</code>的代码，不影响效果</li>
<li>写自动滚动到底部的代码，每写一句，就往下拉滚动条</li>
<li>滚动距离为 可滚动高度 <code>demo.scrollHeight</code>，再减去滚动条本身的高度</li>
<li>下拉的距离等于滚动的高度<code>demo.scrollTop = demo.scrollHeight</code></li>
<li>对JS来说，有没有滚动条，都可以滚动页面，只是用户不能操作滚动，设置<code>overflow-y: auto</code></li>

<li><p>或者用另一种隐藏滚动条的方法（搜CSS 隐藏滚动条） <code>#demo::-webkit-scrollbar{display: none;}</code>只是只能效果上看不见，仍可以用滚轮滚动页面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">#</span><span class="nn">demo2</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">demo</span> <span class="p">{</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
    <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">30</span><span class="kt">vh</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">red</span><span class="p">;</span>
    <span class="k">overflow</span><span class="p">:</span> <span class="kc">scroll</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">html</span> <span class="p">{</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
    <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">80</span><span class="kt">vh</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

<blockquote>
<p>优化</p>
</blockquote>

<ul>
<li>先写好style标签，将<code>#demo2</code>的div标签改为style标签</li>
<li>去除会影响页面整体样式的代码，写到别处，或者用<a href="https://www.bootcdn.cn/modern-normalize/">BootCDN 的<code>normalize.css</code></a></li>

<li><p>只显示对页面有直观效果的CSS代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;demo2&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;demo&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">#</span><span class="nn">demo2</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">demo</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">whitesmoke</span><span class="p">;</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
    <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">30</span><span class="kt">vh</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">red</span><span class="p">;</span>
    <span class="k">overflow-y</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">demo</span><span class="p">::</span><span class="nd">-webkit-scrollbar</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">#</span><span class="nn">html</span> <span class="p">{</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
    <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">80</span><span class="kt">vh</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;html&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;face&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;eye&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;eye eye-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nose-tip &#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek-left&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;cheek-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;mouth&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip-left&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lip-right&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;jaw&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;lower-jaw&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;test.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

<blockquote>
<p>抽出默认样式代码</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">stringDefault</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">.face .nose-tip::after, .face .nose-tip::before, .face .eye::before, .face .mouth .lip &gt; .lip-left::after, .face .mouth .lip &gt; .lip-right::after, .face .mouth .jaw .lower-jaw::after {
</span><span class="sb">  content: &#39;&#39;;
</span><span class="sb">  display: block;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .cheek {
</span><span class="sb">  z-index: 2;
</span><span class="sb">}
</span><span class="sb">`</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>抽出动画代码</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">stringAnimation</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">@keyframes shakeNose {
</span><span class="sb">  0% {
</span><span class="sb">    transform: rotate(0deg);
</span><span class="sb">  }
</span><span class="sb">  33% {
</span><span class="sb">    transform: rotate(5deg);
</span><span class="sb">  }
</span><span class="sb">  66% {
</span><span class="sb">    transform: rotate(-5deg);
</span><span class="sb">  }
</span><span class="sb">  100% {
</span><span class="sb">    transform: rotate(0);
</span><span class="sb">  }
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .nose-tip:hover {
</span><span class="sb">  animation: shakeNose infinite 300ms linear;
</span><span class="sb">  transform-origin: center bottom;
</span><span class="sb">}
</span><span class="sb">`</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>抽出string样式代码</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">body {
</span><span class="sb">  background-color: #ffe035;
</span><span class="sb">  min-height: 100vh;
</span><span class="sb">  width: 100vw;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face {
</span><span class="sb">  min-height: 35vh;
</span><span class="sb">  height: 300px;
</span><span class="sb">  left: 50%;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: 50%;
</span><span class="sb">  transform: translateY(-50%) translateX(-50%);
</span><span class="sb">  width: 500px;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .nose-tip {
</span><span class="sb">  border: 10px solid #ffe035;
</span><span class="sb">  border-bottom-width: 1px;
</span><span class="sb">  border-left-color: #ffe035;
</span><span class="sb">  border-right-color: #ffe035;
</span><span class="sb">  border-top-color: #000;
</span><span class="sb">  left: 50%;
</span><span class="sb">  margin-left: -10px;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: 100px;
</span><span class="sb">  z-index: 2;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .nose-tip::after {
</span><span class="sb">  height: 22px;
</span><span class="sb">  width: 22px;
</span><span class="sb">  border: 3px solid #ffe035;
</span><span class="sb">  border-radius: 0 0 12px 12px / 0 0 20px 20px;
</span><span class="sb">  border-top-color: transparent;
</span><span class="sb">  left: -11px;
</span><span class="sb">  overflow: hidden;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: -11px;
</span><span class="sb">  z-index: 1;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .nose-tip::before {
</span><span class="sb">  height: 10px;
</span><span class="sb">  width: 20px;
</span><span class="sb">  background-color: #000;
</span><span class="sb">  border-radius: 10px / 5px;
</span><span class="sb">  left: -10px;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: -16px;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .eye {
</span><span class="sb">  height: 64px;
</span><span class="sb">  width: 64px;
</span><span class="sb">  background: #2e2e2e;
</span><span class="sb">  border: 2px solid #000;
</span><span class="sb">  border-radius: 100%;
</span><span class="sb">  left: 50%;
</span><span class="sb">  margin-left: -32px;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: 70px;
</span><span class="sb">  transform: translateX(-150px);
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .eye-right {
</span><span class="sb">  transform: translateX(150px);
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .eye::before {
</span><span class="sb">  height: 30px;
</span><span class="sb">  width: 30px;
</span><span class="sb">  background-color: #f5f5f5;
</span><span class="sb">  border-radius: 50%;
</span><span class="sb">  left: 5px;
</span><span class="sb">  position: relative;
</span><span class="sb">  top: 5px;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .cheek .cheek-left, .face .cheek .cheek-right {
</span><span class="sb">  height: 86px;
</span><span class="sb">  width: 86px;
</span><span class="sb">  background-color: #f00;
</span><span class="sb">  border: 2px solid #000;
</span><span class="sb">  border-radius: 50%;
</span><span class="sb">  left: 50%;
</span><span class="sb">  margin-left: -43px;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: 180px;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .cheek-left {
</span><span class="sb">  transform: translateX(-180px);
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .cheek-right {
</span><span class="sb">  transform: translateX(180px);
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth {
</span><span class="sb">  height: 200px;
</span><span class="sb">  width: 220px;
</span><span class="sb">  left: 50%;
</span><span class="sb">  margin-left: -110px;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: 135px;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .lip &gt; .lip-left, .face .mouth .lip &gt; .lip-right {
</span><span class="sb">  height: 30px;
</span><span class="sb">  width: 110px;
</span><span class="sb">  background-color: #ffe035;
</span><span class="sb">  border: 4px solid #000;
</span><span class="sb">  border-top-color: #ffe035;
</span><span class="sb">  border-top-right-radius: 60px 30px;
</span><span class="sb">  border-top-width: 0;
</span><span class="sb">  border-right-width: 0;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .lip &gt; .lip-left::after, .face .mouth .lip &gt; .lip-right::after {
</span><span class="sb">  height: 0.01px;
</span><span class="sb">  width: 100%;
</span><span class="sb">  border: 2px solid #ffe035;
</span><span class="sb">  left: 1px;
</span><span class="sb">  outline: 1px solid #ffe035;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: -3px;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .lip {
</span><span class="sb">  position: relative;
</span><span class="sb">  z-index: 1;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .lip &gt; .lip-left {
</span><span class="sb">  border-bottom-left-radius: 60px 30px;
</span><span class="sb">  transform: rotate(-20deg);
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .lip &gt; .lip-right {
</span><span class="sb">  border-bottom-left-radius: 60px 30px;
</span><span class="sb">  transform: translate(110px, -30px) scaleX(-1) rotate(-20deg);
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .jaw {
</span><span class="sb">  height: 220px;
</span><span class="sb">  width: 100%;
</span><span class="sb">  border-radius: 50% 50% 0 0 / 25% 25% 0 0;
</span><span class="sb">  overflow: hidden;
</span><span class="sb">  position: absolute;
</span><span class="sb">  top: 8px;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .jaw .lower-jaw {
</span><span class="sb">  height: 580px;
</span><span class="sb">  width: 180px;
</span><span class="sb">  background-color: #9b000a;
</span><span class="sb">  border: 3px solid #000;
</span><span class="sb">  border-radius: 50% / 50%;
</span><span class="sb">  bottom: 0;
</span><span class="sb">  left: 50%;
</span><span class="sb">  margin-left: -90px;
</span><span class="sb">  overflow: hidden;
</span><span class="sb">  position: absolute;
</span><span class="sb">}
</span><span class="sb">
</span><span class="sb">.face .mouth .jaw .lower-jaw::after {
</span><span class="sb">  height: 380px;
</span><span class="sb">  width: 200px;
</span><span class="sb">  background-color: #ff485f;
</span><span class="sb">  border-radius: 100px;
</span><span class="sb">  bottom: -190px;
</span><span class="sb">  left: 50%;
</span><span class="sb">  margin-left: -100px;
</span><span class="sb">  position: absolute;
</span><span class="sb">}
</span><span class="sb">`</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<hr />

<h2 id="模块化导出js独立代码">模块化导出JS独立代码</h2>

<blockquote>
<p>将不相关的独立代码写到单独的文件中，导出，在需要的时候导入</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// 模块化
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">stringDefault</span> <span class="nx">from</span> <span class="s1">&#39;./stringDefault.js&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">string</span> <span class="nx">from</span> <span class="s1">&#39;./string.js&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">stringAnimation</span> <span class="nx">from</span> <span class="s1">&#39;./stringAnimation.js&#39;</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>stringDefault.js</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">stringDefault</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">`</span>
<span class="kr">export</span> <span class="k">default</span> <span class="nx">stringDefault</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>string.js</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">string</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">`</span>
<span class="kr">export</span> <span class="k">default</span> <span class="nx">string</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>stringAnimation.js</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">stringAnimation</span> <span class="o">=</span> <span class="sb">`
</span><span class="sb">`</span>
<span class="kr">export</span> <span class="k">default</span> <span class="nx">stringAnimation</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>集中导入</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// 模块化
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">stringDefault</span> <span class="nx">from</span> <span class="s1">&#39;./stringDefault.js&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">string</span> <span class="nx">from</span> <span class="s1">&#39;./string.js&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">stringAnimation</span> <span class="nx">from</span> <span class="s1">&#39;./stringAnimation.js&#39;</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="c1">// console.log(n);
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="c1">// console.log(n + &#39;:&#39; + string.substr(0, n) + &#39;/&#39; + string.length);
</span><span class="c1"></span>    <span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">+=</span> <span class="nx">stringAnimation</span><span class="p">;</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="c1">// console.log(n);
</span><span class="c1"></span>    <span class="nx">demo</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">demo</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="p">;</span>
<span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>导出的可以使变量、函数等</li>

<li><p>重构代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">run</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">+=</span> <span class="nx">stringAnimation</span><span class="p">;</span>
    <span class="k">return</span>
<span class="p">}</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">demo</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<hr />

<h2 id="添加暂停-变速按钮">添加暂停、变速按钮</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;demo&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;buttons&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btnPause&#34;</span><span class="p">&gt;</span>暂停<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btnPlay&#34;</span><span class="p">&gt;</span>播放<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btnSlow&#34;</span><span class="p">&gt;</span>快速<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btnNormal&#34;</span><span class="p">&gt;</span>超快速<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btnFast&#34;</span><span class="p">&gt;</span>最快速<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-CSS" data-lang="CSS"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-CSS" data-lang="CSS"><span class="p">#</span><span class="nn">buttons</span> <span class="p">{</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
    <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">right</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">z-index</span><span class="p">:</span> <span class="mi">10</span><span class="p">;</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
    <span class="k">margin-right</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">#</span><span class="nn">buttons</span><span class="o">&gt;</span><span class="nt">button</span> <span class="p">{</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">@</span><span class="k">media</span> <span class="o">(</span> <span class="nt">min-width</span><span class="o">:</span> <span class="nt">320px</span><span class="o">)</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">720px</span><span class="o">)</span> <span class="p">{</span>
    <span class="p">#</span><span class="nn">buttons</span><span class="o">&gt;</span><span class="nt">button</span> <span class="p">{</span>
        <span class="k">padding</span><span class="p">:</span> <span class="mi">4</span><span class="kt">px</span> <span class="mi">8</span><span class="kt">px</span><span class="p">;</span>
        <span class="k">font-size</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>暂停就是取消计时器，播放就是再设置一个计时器，变速就是更改间隔秒数</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// 暂停：取消计时器
</span><span class="c1"></span><span class="nx">btnPause</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 播放：再设置一个计时器
</span><span class="c1"></span><span class="nx">btnPlay</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span> <span class="p">()=&gt;{</span>
        <span class="nx">run</span><span class="p">();</span>
    <span class="p">},</span> <span class="nx">intervalTime</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// 变速：更改间隔秒数
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
<span class="nx">btnSlow</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="nx">intervalTime</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>重复即丑，重构JS代码</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">btnSlow</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="nx">intervalTime</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">btnNormal</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="nx">intervalTime</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">btnFast</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="nx">intervalTime</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>按作用抽象成函数，重构后的代码，主逻辑清晰</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// const run = () =&gt; {...}
</span><span class="c1">// const play = () =&gt; {...}
</span><span class="c1">// const pause = () =&gt; {...}
</span><span class="c1"></span>
<span class="kr">const</span> <span class="nx">run</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">+=</span> <span class="nx">stringAnimation</span><span class="p">;</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">demo</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">play</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setInterval</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="nx">intervalTime</span><span class="p">);</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">pause</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>把相似的代码封装成一个函数，取个名字，调用它</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="nx">btnPause</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">pause</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">btnPlay</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">btnSlow</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;{</span>
    <span class="nx">pause</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
<span class="p">};</span>
<span class="nx">btnNormal</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">pause</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
<span class="p">};</span>
<span class="nx">btnFast</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">pause</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>抽象事件函数，再重构</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// let intervalTime = 80;
</span><span class="c1">// const run = () =&gt; {...}
</span><span class="c1">// const play = () =&gt; {...}
</span><span class="c1">// const pause = () =&gt; {...}
</span><span class="c1">// const slow = () =&gt; {...}
</span><span class="c1">// const normal = () =&gt; {...}
</span><span class="c1">// const fast = () =&gt; {...}
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">slow</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">pause</span><span class="p">();</span>
    <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">normal</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">pause</span><span class="p">();</span>
    <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">fast</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">pause</span><span class="p">();</span>
    <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>
<span class="c1">// ...
</span><span class="c1"></span>
<span class="nx">btnSlow</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">slow</span><span class="p">;</span>
<span class="nx">btnNormal</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">normal</span><span class="p">;</span>
<span class="nx">btnFast</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">fast</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>使用正规的语法，获取元素</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">demo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#demo&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">demo2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#demo2&#39;</span><span class="p">);</span>
<span class="cm">/* 以下之后可以省略到属性 eventBind 里 document.querySelector(key).onclick = player[value]; */</span>
<span class="kr">const</span> <span class="nx">btnPause</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#btnPause&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">btnPlay</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#btnPlay&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">btnSlow</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#btnSlow&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">btnNormal</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#btnNormal&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">btnFast</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#btnFast&#39;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>用面向对象，再重构</p>
</blockquote>

<ul>
<li>先声明<code>const player = {...}</code>，后使用<code>let id = player.play();</code></li>
<li><code>player.run</code></li>

<li><p><code>player.pause</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">//init
</span><span class="c1">// 先声明 n， 再使用 n
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>

<span class="c1">// let intervalTime = 80;
</span><span class="c1">// const run = () =&gt; {...}
</span><span class="c1">// const play = () =&gt; {...}
</span><span class="c1">// const pause = () =&gt; {...}
</span><span class="c1">// let id = play();
</span><span class="c1">// const slow = () =&gt; {...}
</span><span class="c1">// const normal = () =&gt; {...}
</span><span class="c1">// const fast = () =&gt; {...}
</span><span class="c1">// btnPause.onclick = pause;
</span><span class="c1">// btnPlay.onclick = () =&gt; {...}
</span><span class="c1">// btnSlow.onclick = slow;
</span><span class="c1">// btnNormal.onclick = normal;
</span><span class="c1">// btnFast.onclick = fast;
</span><span class="c1"></span>
<span class="c1">// init
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
<span class="nx">run</span><span class="o">:</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">+=</span> <span class="nx">stringAnimation</span><span class="p">;</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">demo</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="p">;</span>
<span class="p">},</span>
<span class="nx">play</span><span class="o">:</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">run</span><span class="p">,</span> <span class="nx">intervalTime</span><span class="p">);</span>
<span class="p">},</span>
<span class="nx">pause</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">},</span>
<span class="nx">slow</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
    <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="p">},</span>
<span class="nx">normal</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
    <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="p">},</span>
<span class="nx">fast</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
    <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>

<span class="nx">btnPause</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">;</span>
<span class="nx">btnPlay</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="nx">id</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">btnSlow</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">slow</span><span class="p">;</span>
<span class="nx">btnNormal</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">normal</span><span class="p">;</span>
<span class="nx">btnFast</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">fast</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<blockquote>
<p>初始化方法</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// ...
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">id</span><span class="p">;</span> <span class="c1">// id初始化放外面
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
        <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
        <span class="nx">id</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="c1">// ...
</span><span class="c1"></span><span class="p">}</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>内置功能 <code>id = player.play();</code> 到 <code>player.play</code>中</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>    
    <span class="c1">//...
</span><span class="c1"></span>    <span class="nx">play</span><span class="o">:</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
            <span class="c1">//return setInterval(player.run, intervalTime);
</span><span class="c1"></span>            <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">run</span><span class="p">,</span> <span class="nx">intervalTime</span><span class="p">);</span>
        <span class="p">},</span>
    <span class="nx">slow</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
        <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
        <span class="c1">// id = player.play();
</span><span class="c1"></span>        <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="nx">normal</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
        <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
        <span class="c1">// id = player.play();
</span><span class="c1"></span>        <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="nx">fast</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
        <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="c1">// id = player.play();
</span><span class="c1"></span>        <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="c1">//...
</span><span class="c1"></span><span class="p">}</span>
    <span class="c1">//...
</span><span class="c1"></span>    <span class="nx">btnPlay</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>将绑定事件放入初始化函数</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
        <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
        <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
        <span class="nx">player</span><span class="p">.</span><span class="nx">eventBind</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;绑定了事件&#34;</span><span class="p">);</span>
        <span class="nx">btnPause</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">;</span>
        <span class="nx">btnPlay</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">;</span>
        <span class="nx">btnSlow</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">slow</span><span class="p">;</span>
        <span class="nx">btnNormal</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">normal</span><span class="p">;</span>
        <span class="nx">btnFast</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">fast</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="c1">// ...
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>表驱动编程：哈希Map 避免重复代码声明事件</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">eventBind</span><span class="p">();</span> <span class="c1">// `player.eventBind()`是`player.init()`执行后才执行的；再去绑定事件是可以的
</span><span class="c1"></span>    <span class="p">},</span>
    <span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
     <span class="c1">// `player.eventBind()`是`player.init()`执行后才执行的；再去绑定事件是可以的
</span><span class="c1"></span>        <span class="kr">const</span> <span class="nx">events</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;#btnPause&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">,</span>
            <span class="s1">&#39;#btnPlay&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">,</span>
            <span class="s1">&#39;#btnSlow&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">slow</span><span class="p">,</span>
            <span class="s1">&#39;#btnNormal&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">normal</span><span class="p">,</span>
            <span class="s1">&#39;#btnFast&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">fast</span>
        <span class="p">};</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">events</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">key</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">events</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="c1">//...
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>将hashTable放到声明中去</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">eventBind</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="c1">// 在声明player时用使用player，报错 player 是 undefined
</span><span class="c1"></span>    <span class="nx">events</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s1">&#39;#btnPause&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">,</span> <span class="c1">// 报错 在定义对象时调用此对象
</span><span class="c1"></span>        <span class="s1">&#39;#btnPlay&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">,</span> <span class="c1">// 报错 在定义对象时调用此对象
</span><span class="c1"></span>        <span class="s1">&#39;#btnSlow&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">slow</span><span class="p">,</span> <span class="c1">// 报错 在定义对象时调用此对象
</span><span class="c1"></span>        <span class="s1">&#39;#btnNormal&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">normal</span><span class="p">,</span> <span class="c1">// 报错 在定义对象时调用此对象
</span><span class="c1"></span>        <span class="s1">&#39;#btnFast&#39;</span><span class="o">:</span> <span class="nx">player</span><span class="p">.</span><span class="nx">fast</span> <span class="c1">// 报错 在定义对象时调用此对象
</span><span class="c1"></span>    <span class="p">},</span>
    <span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">events</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">key</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">events</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="c1">//...
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<ul>
<li>哈希Map，读取字符串</li>
<li>不能在定义对象时调用此对象</li>

<li><p>区别于函数，函数可以延迟定义</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
<span class="nx">xxx</span><span class="o">:</span> <span class="nx">a</span><span class="p">;</span> <span class="c1">// a 未定义
</span><span class="c1"></span><span class="p">}</span>
<span class="nx">a</span>
<span class="c1">// {xxx: undefined}
</span></code></pre></td></tr></table>
</div>
</div></li>
</ul>

<blockquote>
<p>防御型编程</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">eventBind</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="nx">events</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s1">&#39;#btnPause&#39;</span><span class="o">:</span> <span class="s1">&#39;pause&#39;</span><span class="p">,</span>
        <span class="s1">&#39;#btnPlay&#39;</span><span class="o">:</span> <span class="s1">&#39;play&#39;</span><span class="p">,</span>
        <span class="s1">&#39;#btnSlow&#39;</span><span class="o">:</span> <span class="s1">&#39;slow&#39;</span><span class="p">,</span>
        <span class="s1">&#39;#btnNormal&#39;</span><span class="o">:</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span>
        <span class="s1">&#39;#btnFast&#39;</span><span class="o">:</span> <span class="s1">&#39;fast&#39;</span>
    <span class="p">},</span>
    <span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 沙雕
</span><span class="c1"></span>        <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">地雷</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span> <span class="c1">// ...#btn... x
</span><span class="c1"></span>        <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span> <span class="c1">// pause /play / slow /...
</span><span class="c1"></span>        <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">key</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="c1">//...
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<ul>
<li><code>player.events.toString</code> <code>player.events.valueOf</code>等原型链上继承的方法虽然默认是不可枚举</li>
<li>但不排除对象的原型链被沙雕加了可遍历的属性<code>Object.prototype.x = 1</code>，然而这是不希望被遍历到的<code>console.log('key'+ key)</code></li>
<li>用<code>for in</code> 遍历对象时会遍历到继承的属性，必须判断排除</li>

<li><p>用<code>hasOwnProperty</code>判断</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
<span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">eventBind</span><span class="p">();</span>
<span class="p">},</span>
<span class="nx">events</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;#btnPause&#39;</span><span class="o">:</span> <span class="s1">&#39;pause&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnPlay&#39;</span><span class="o">:</span> <span class="s1">&#39;play&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnSlow&#39;</span><span class="o">:</span> <span class="s1">&#39;slow&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnNormal&#39;</span><span class="o">:</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnFast&#39;</span><span class="o">:</span> <span class="s1">&#39;fast&#39;</span>
<span class="p">},</span>
<span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 防御型编程
</span><span class="c1"></span>        <span class="k">if</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">)){</span>
            <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span> <span class="c1">// pause /play / slow /...
</span><span class="c1"></span>            <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">key</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span> <span class="c1">// 用不同的变量去作为对象属性名
</span><span class="c1"></span>        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">},</span>
<span class="c1">//...
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>

<li><p>这就属于防御型编程</p></li>
</ul>

<blockquote>
<p>另一种方法</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// ...
</span><span class="c1"></span>    <span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="cm">/*
</span><span class="cm">        for(let key in player.events) {
</span><span class="cm">            // 防御型编程
</span><span class="cm">            /!* 避免取到原型链上的属性 *!/
</span><span class="cm">            if(player.events.hasOwnProperty(key)){
</span><span class="cm">                const value = player.events[key] // pause /play / slow /...
</span><span class="cm">                document.querySelector(key).onclick = player[value]
</span><span class="cm">            }
</span><span class="cm">        }
</span><span class="cm">        */</span>
        <span class="c1">// 防御型编程
</span><span class="c1"></span>        <span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span>
            <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="cm">/* 避免取到原型链上的属性 */</span>
                <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="c1">// pause /play / slow /...
</span><span class="c1"></span>                <span class="c1">// console.log(player.events);
</span><span class="c1"></span>                <span class="c1">// console.log(player.events[key]);
</span><span class="c1"></span>                <span class="c1">// console.log(typeof player.events[key]);
</span><span class="c1"></span>                <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">key</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span>
            <span class="p">});</span>
    <span class="c1">// ...
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>目前代码的结构</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kr">const</span> <span class="nx">demo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#demo&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">demo2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#demo2&#39;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="nx">events</span> <span class="o">:</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="nx">pause</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="nx">play</span><span class="o">:</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="nx">slow</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="nx">normal</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">},</span>
    <span class="nx">fast</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">};</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>将<code>player</code>对象声明和初始化以及模块化的外代码全干掉</p>
</blockquote>

<ul>
<li>将<code>n: 1,</code>放到player里 -&gt; <code>player.n</code></li>
<li>将<code>intervalTime: 80,</code>放到player里 -&gt; <code>player.intervalTime</code></li>
<li>将<code>id: undefined</code>放到player里 -&gt; <code>player.id</code></li>

<li><p>用<code>ui</code>放两个页面元素，表示UI界面 <code>player.ui.demo</code> <code>player.ui.demo2</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="c1">// 模块化
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">stringDefault</span> <span class="nx">from</span> <span class="s1">&#39;./stringDefault.js&#39;</span>
<span class="kr">import</span> <span class="nx">string</span> <span class="nx">from</span> <span class="s1">&#39;./string.js&#39;</span>
<span class="kr">import</span> <span class="nx">stringAnimation</span> <span class="nx">from</span> <span class="s1">&#39;./stringAnimation.js&#39;</span>

<span class="kr">const</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
<span class="nx">id</span><span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
<span class="nx">n</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nx">intervalTime</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span>
<span class="nx">ui</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">demo</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#demo&#39;</span><span class="p">),</span>
    <span class="nx">demo2</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#demo2&#39;</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">init</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">()</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">eventBind</span><span class="p">()</span>
<span class="p">},</span>
<span class="nx">events</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;#btnPause&#39;</span><span class="o">:</span> <span class="s1">&#39;pause&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnPlay&#39;</span><span class="o">:</span> <span class="s1">&#39;play&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnSlow&#39;</span><span class="o">:</span> <span class="s1">&#39;slow&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnNormal&#39;</span><span class="o">:</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span>
    <span class="s1">&#39;#btnFast&#39;</span><span class="o">:</span> <span class="s1">&#39;fast&#39;</span>
<span class="p">},</span>
<span class="nx">eventBind</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="cm">/* 避免取到原型链上的属性 */</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span>
    <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="c1">// pause /play / slow /...
</span><span class="c1"></span>        <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">key</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">player</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">},</span>
<span class="nx">pause</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">run</span><span class="o">:</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
        <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">()</span>
        <span class="nx">player</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">+=</span> <span class="nx">stringAnimation</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">demo</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">demo2</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">stringDefault</span> <span class="o">+</span> <span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">demo</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">demo</span><span class="p">.</span><span class="nx">scrollHeight</span>
<span class="p">},</span>
<span class="nx">play</span><span class="o">:</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">()</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">run</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">intervalTime</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">slow</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">()</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">80</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">()</span>
<span class="p">},</span>
<span class="nx">normal</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">()</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">16</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">()</span>
<span class="p">},</span>
<span class="nx">fast</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">pause</span><span class="p">()</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">intervalTime</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">play</span><span class="p">()</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">init</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<hr />

<blockquote>
<p>美化按钮</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-HTML" data-lang="HTML"></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript">
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-CSS" data-lang="CSS"></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-CSS" data-lang="CSS"></code></pre></td></tr></table>
</div>
</div>
<hr />

<h2 id="总结">总结</h2>

<h3 id="vscode-v-s-webstorm">VSCode V.S. WebStorm</h3>

<p><code>xxx.log</code> -&gt; <code>console.log(xxx)</code></p>

<hr />

<h2 id="部署到-github-pages">部署到 GitHub Pages</h2>

<blockquote>
<p>演示中，不能把<code>&lt;style&gt;&lt;/style&gt;</code>写到<code>&lt;body&gt;&lt;/body&gt;</code>里，会被<code>parcel</code>删掉</p>
</blockquote>

<ul>
<li>单独保存样式到一个<code>style.css</code>里，就好了</li>
</ul>

<h3 id="gitignore"><code>.gitignore</code></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/node_modules/
/.cache/
/.idea
/.vscode/
/.sass-cache/</code></pre></td></tr></table>
</div>
</div>
<h2 id="部署方式">部署方式</h2>

<ul>
<li><p>每次改完代码，必须运行这一行，才能正确的请求 JS 和 CSS：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">parcel build src/index.html --public-url .</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<h2 id="yarn-build-一键发布">yarn build 一键发布</h2>

<blockquote>
<p>再次build的时，只需用<code>yarn init -y</code> 创建<code>package.json</code></p>
</blockquote>

<ul>
<li><p>在<code>package.json</code>中加一段脚本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="s2">&#34;scripts&#34;</span><span class="o">:</span> <span class="p">{</span>
<span class="s2">&#34;build&#34;</span><span class="o">:</span><span class="s2">&#34;rm -rf dist &amp;&amp; parcel build src/index.html --no-minify --public-url ./&#34;</span>
<span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<p>再次 <code>yarn build</code></p>

<!-- Article End -->

<hr />

<!-- test -->

<div style="text-align:center;">·未完待续·</div>

<!-- ok -->

<hr />

<h3 id="参考文章">参考文章</h3>

<ul>
<li><a href="https://static.xiedaimala.com/xdml/file/3ac7c224-c23d-491f-84b5-4fabfbeab9b8/2019-11-12-14-25-10.pdf">卡通人物制作（上）.pdf</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/33365160">知乎 我们来画一只皮卡丘吧 方应杭</a></li>
<li><a href="http://xmasuhai.xyz/post/js/js%E9%9D%9E%E5%85%A8%E8%A7%A307js-%E5%AE%9E%E6%88%98%E4%BC%9A%E5%8A%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%85%A8%E7%A8%8B%E8%AE%B0%E5%BD%95/">【JS非全解07】JS 实战，会动的代码实现全程记录</a></li>
</ul>

<h3 id="相关文章">相关文章</h3>

<ul>
<li>画一只皮卡丘 <a href="http://xmasuhai.xyz/pikachu/dist/index.html">预览链接</a></li>
<li>会动的代码 <a href="http://xmasuhai.xyz/pikachu/dist/test.html">预览链接</a></li>
<li><a href="https://fangyinghang.com/make-a-pikachu/">点击动画效果预览</a></li>
<li><a href="https://tony984321.github.io/pikachu/dist/index.html">示例作品，声音，快慢播放</a></li>
<li><a href="https://github.com/FrankFang/pikachu-2/blob/master/src/test.html">代码 test.html</a></li>
<li><a href="https://github.com/FrankFang/pikachu-1">源代码1</a> <a href="https://github.com/FrankFang/pikachu-2">源代码2</a> <a href="https://github.com/FrankFang/make-a-pikachu">旧版代码</a></li>
<li><a href="https://codepen.io/thewizardjs/pen/GVrJNE">CodePen -
Pure CSS PokeBall Radio Button</a></li>
</ul>

<hr />

<ul>
<li>作者： Joel</li>
<li>文章链接：</li>
<li><a href="http://xmasuhai.xyz/posts/版权声明链接/">版权声明</a></li>
<li>非自由转载-非商用-非衍生-保持署名</li>
<li><a style='color:#DB2D5D;' href='https://xiedaimala.com/bbs/users/8c266e6f-55a2-4348-a180-17cb8cdb2c46#/?page=1' target='_blank' rel='noreferrer noopener'>河</a>
<a style='color:#006CFF;' href='https://juejin.im/user/59abfad26fb9a0248f4aa221' target='_blank' rel='noreferrer noopener'>掘</a>
<a style='color:#009A61;' href='https://segmentfault.com/u/joel_59b17eb9d2155' target='_blank' rel='noreferrer noopener'>思</a>
<a style='color:#0084FF;' href='https://www.zhihu.com/people/xue-shou-41/posts' target='_blank' rel='noreferrer noopener'>知</a>
<a style='color:#EA6F5A;' href='https://www.jianshu.com/u/079916729823' target='_blank' rel='noreferrer noopener'>简</a></li>
</ul>

<hr />

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Joel Xu</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2022-09-03
      
        
        
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://xmasuhai.xyz/tags/scss/">SCSS</a>
          <a href="http://xmasuhai.xyz/tags/es6/">ES6</a>
          <a href="http://xmasuhai.xyz/tags/hashtable/">HashTable</a>
          <a href="http://xmasuhai.xyz/tags/css/">CSS</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/mvc/mvc-%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">MVC 理论与实践</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/ajax/%E5%89%8D%E5%90%8E%E5%88%86%E7%A6%BBajax%E5%AE%9E%E6%88%98cookiesession-%E5%8A%A8%E6%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8dynamic-server/">
            <span class="next-text nav-default">【前后端分离2】AJAX 实战：Cookie、Session 动态服务器Dynamic Server</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xmasuhai@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/xmasuhai" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/people/xue-shou-41/posts" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="http://xmasuhai.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2026
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Joel Xu
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
