<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>【项目 喵内记账 Meoney 07】功能扩展包 DLC-使用统计图表 echarts - Joel in The House</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Joel Xu" />
  <meta name="description" content="【项目-喵内0∞0记账-meowney-07】功能扩展包 DLC-使用统计图表 echarts 大纲 统计图表 【数据可视化】Echarts 使用指南 在 Vue 记账中加入" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.91.2" />


<link rel="canonical" href="http://xmasuhai.xyz/post/project/money/%E9%A1%B9%E7%9B%AE-%E5%96%B5%E5%86%85%E8%AE%B0%E8%B4%A6-meoney-07%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95%E5%8C%85-dlc-%E4%BD%BF%E7%94%A8%E7%BB%9F%E8%AE%A1%E5%9B%BE%E8%A1%A8-echarts/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="【项目 喵内记账 Meoney 07】功能扩展包 DLC-使用统计图表 echarts" />
<meta property="og:description" content="【项目-喵内0∞0记账-meowney-07】功能扩展包 DLC-使用统计图表 echarts 大纲 统计图表 【数据可视化】Echarts 使用指南 在 Vue 记账中加入" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://xmasuhai.xyz/post/project/money/%E9%A1%B9%E7%9B%AE-%E5%96%B5%E5%86%85%E8%AE%B0%E8%B4%A6-meoney-07%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95%E5%8C%85-dlc-%E4%BD%BF%E7%94%A8%E7%BB%9F%E8%AE%A1%E5%9B%BE%E8%A1%A8-echarts/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-12-09T12:16:39+08:00" />
<meta property="article:modified_time" content="2022-03-31T15:18:34+08:00" />

<meta itemprop="name" content="【项目 喵内记账 Meoney 07】功能扩展包 DLC-使用统计图表 echarts">
<meta itemprop="description" content="【项目-喵内0∞0记账-meowney-07】功能扩展包 DLC-使用统计图表 echarts 大纲 统计图表 【数据可视化】Echarts 使用指南 在 Vue 记账中加入"><meta itemprop="datePublished" content="2021-12-09T12:16:39+08:00" />
<meta itemprop="dateModified" content="2022-03-31T15:18:34+08:00" />
<meta itemprop="wordCount" content="12210">
<meta itemprop="keywords" content="FrontEnd,Project,money," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="【项目 喵内记账 Meoney 07】功能扩展包 DLC-使用统计图表 echarts"/>
<meta name="twitter:description" content="【项目-喵内0∞0记账-meowney-07】功能扩展包 DLC-使用统计图表 echarts 大纲 统计图表 【数据可视化】Echarts 使用指南 在 Vue 记账中加入"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Joel in The House</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          <div class="mobile-menu-parent">
            <span class="mobile-submenu-open"></span>
            <a href="http://xmasuhai.xyz/">
              docs
            </a>
          </div>
          <ul class="mobile-submenu-list">
            
              <li>
                <a href="http://xmasuhai.xyz/post/test/syntax-highlighting/">Syntax Highlighting</a>
              </li>
            
              <li>
                <a href="http://xmasuhai.xyz/post/test/mytest/">my Syntax Highlighting &amp; ShortCode Test</a>
              </li>
            
          </ul>
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Joel in The House
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          <a class="menu-item-link menu-parent" href="http://xmasuhai.xyz/">docs</a>
          <ul class="submenu">
            
              <li>
                <a href="http://xmasuhai.xyz/post/test/syntax-highlighting/">Syntax Highlighting</a>
              </li>
            
              <li>
                <a href="http://xmasuhai.xyz/post/test/mytest/">my Syntax Highlighting &amp; ShortCode Test</a>
              </li>
            
          </ul>

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">【项目 喵内记账 Meoney 07】功能扩展包 DLC-使用统计图表 echarts</h1>
      
      <div class="post-meta">
        <time datetime="2021-12-09" class="post-time">
          2021-12-09
        </time>
        <div class="post-category">
            <a href="http://xmasuhai.xyz/categories/frontend/"> FrontEnd </a>
            <a href="http://xmasuhai.xyz/categories/project/"> Project </a>
            
          </div>
        <span class="more-meta"> 约 12210 字 </span>
          <span class="more-meta"> 预计阅读 25 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#统计图表">统计图表</a>
      <ul>
        <li><a href="#数据可视化echarts-使用指南">【数据可视化】Echarts 使用指南</a></li>
        <li><a href="#echarts-图表绘制思路"><code>echarts</code> 图表绘制思路</a></li>
        <li><a href="#引入-echarts">引入 <code>echarts</code></a></li>
        <li><a href="#什么是数据可视化">什么是数据可视化</a></li>
      </ul>
    </li>
    <li><a href="#在-vue-记账项目中加入-echarts">在 Vue 记账项目中加入 ECharts</a>
      <ul>
        <li><a href="#添加日期选择组件">添加日期选择组件</a></li>
        <li><a href="#使用vue-charts的官方封装">使用<code>vue-charts</code>的官方封装</a></li>
        <li><a href="#自己封装echarts">自己封装<code>echarts</code></a></li>
        <li><a href="#构造数据-前端用到的算法">构造数据 前端用到的算法</a></li>
        <li><a href="#echarts-的-axislabel">echarts 的 axisLabel</a></li>
        <li><a href="#当-optioins-变化时更新-chart">当 optioins 变化时，更新 chart</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <h1 id="项目-喵内00记账-meowney-07功能扩展包-dlc-使用统计图表-echarts">【项目-喵内0∞0记账-meowney-07】功能扩展包 DLC-使用统计图表 echarts</h1>
<blockquote>
<p>大纲</p>
</blockquote>
<ul>
<li>统计图表
<ul>
<li>【数据可视化】Echarts 使用指南</li>
<li>在 Vue 记账中加入 ECharts</li>
</ul>
</li>
<li><a href="https://github.com/xmasuhai/echarts-demo-1">代码仓库xmasuhai/echarts-demo-1</a></li>
</ul>
<p>[toc]</p>
<hr>
<h2 id="统计图表">统计图表</h2>
<h3 id="数据可视化echarts-使用指南">【数据可视化】Echarts 使用指南</h3>
<blockquote>
<p>分别介绍</p>
</blockquote>
<ul>
<li>JS里使用 <code>echarts</code></li>
<li>Vue里使用 <code>echarts</code></li>
<li>React里使用 <code>echarts</code></li>
</ul>
<hr>
<h3 id="echarts-图表绘制思路"><code>echarts</code> 图表绘制思路</h3>
<ol>
<li>获取一个有宽高的 <code>DOM</code> 元素</li>
<li>初始化<code>echarts</code>实例(<code>const myChart = echarts.init(chartDom)</code>)</li>
<li>指定图表的配置项和数据(<code>option={...}</code>)</li>
<li>使用指定的配置项和数据显示图表(<code>myChart.setOption(chartOptions)</code>))</li>
</ol>
<h3 id="引入-echarts">引入 <code>echarts</code></h3>
<h4 id="无打包工具webpackparcel用于快速调试demo">无打包工具（<code>webpack/parcel</code>）用于快速调试demo</h4>
<ul>
<li>直接在 <code>index.html</code>引入<code>&lt;script src=&quot;[path]/echarts.min.js&quot;&gt;&lt;/script&gt;</code>，使用bootCDN</li>
<li>使用全局变量<code>window.echarts</code></li>
</ul>
<blockquote>
<p><code>src/index.html</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
        <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>echarts-demo-1<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.bootcdn.net/ajax/libs/echarts/5.1.1/echarts.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c1">// 查看控制台是否正确引入
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">echarts</span><span class="p">)</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="打包工具搭建调试测试项目">打包工具搭建/调试测试项目</h4>
<ul>
<li>安装<code>http-server</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn global add http-server
</code></pre></td></tr></table>
</div>
</div><ul>
<li>使用<code>http-server</code>打开<code>src/index.html</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">hs src/ -c-1
</code></pre></td></tr></table>
</div>
</div><h4 id="使用webpackparcelvuecli-vite--ts-用于一般项目">使用<code>webpack/parcel</code>(<code>vue/cli</code> <code>vite</code>) + <code>TS</code> 用于一般项目</h4>
<blockquote>
<p>安装（以使用<a href="https://www.parceljs.cn/"><code>Parcel 1+</code></a>为例）</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn global add parcel-bundler
<span class="c1"># yarn init -y # enter all the time # 无需此步骤 第一次安装包 自动初始化项目</span>
yarn add echarts
yarn add --dev @types/echarts
</code></pre></td></tr></table>
</div>
</div><ul>
<li>安装<code>yarn global add parcel-bundler</code>而 <strong>不是<code>yarn global add parcel</code></strong>
<ul>
<li><code>yarn global add parcel</code>安装的是<a href="https://v2.parceljs.cn/"><code>Parcel 2+</code></a></li>
</ul>
</li>
<li>安装<code>yarn add --dev @types/echarts</code>是为了在<code>WebStorm</code>中输入代码会有提示</li>
<li>遇坑，不显示属性名提示（灰色表示）
<ul>
<li>保证安装包安装在项目目录下的<code>node_modules</code>，而不是安装在<code>~/</code>根目录</li>
<li>去掉 <code>设置 &gt; 终端 &gt; “将'node_modules/.bin'从项目根添加到%PATH%”</code> 前面的勾选</li>
<li>重新初始化一遍项目</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>src/index.html</code>中引入入口文件<code>main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
        <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>echarts-demo-1<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>import * as echarts from 'echarts';'</code> 全局引入</li>
</ul>
<blockquote>
<p>或者按需导入模块：</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span>
    <span class="nx">TitleComponent</span><span class="p">,</span>
    <span class="nx">TooltipComponent</span><span class="p">,</span>
    <span class="nx">GridComponent</span><span class="p">,</span>
    <span class="nx">LegendComponent</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/components&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
    <span class="nx">BarChart</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/charts&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
    <span class="nx">CanvasRenderer</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/renderers&#39;</span><span class="p">;</span>

<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
    <span class="p">[</span><span class="nx">TitleComponent</span><span class="p">,</span> <span class="nx">TooltipComponent</span><span class="p">,</span> <span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LegendComponent</span><span class="p">,</span> <span class="nx">BarChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">);</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// import echarts from &#39;echarts&#39; // 旧版本@5.00- 导入语句
</span><span class="c1"></span><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">echarts</span> <span class="nx">from</span> <span class="s1">&#39;echarts&#39;</span><span class="p">;</span> <span class="c1">// echarts@5.1.2
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">echarts</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>使用<code>parcel</code>运行</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">parcel src/index.html --no-cache
<span class="c1"># --no-cache 无缓存</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>无缓存完整编译完成后，查看效果点击<code>Server running at http://localhost:1234</code></li>
</ul>
<blockquote>
<p>CRM学习法</p>
</blockquote>
<ul>
<li>Copy 去官网炒栗子</li>
<li>Run 在自己的项目里运行</li>
<li>Modify 修改代码，理解作用（半黑箱）</li>
</ul>
<hr>
<h4 id="echarts-第一个例子"><code>echarts</code> 第一个例子</h4>
<blockquote>
<p><code>index.html</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
        <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>echarts-demo-1<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;barChart&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: 600px; height:400px;&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><ul>
<li>在绘图前需要为 <code>ECharts</code> 准备一个具备高宽的 DOM 容器 <code>&lt;div id=&quot;barChart&quot; style=&quot;width: 600px; height:400px;&quot;&gt;&lt;/div&gt;</code></li>
</ul>
<hr>
<blockquote>
<p><code>./modules/barChart.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">echarts</span> <span class="nx">from</span> <span class="s1">&#39;echarts/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">TitleComponent</span><span class="p">,</span>
  <span class="nx">TooltipComponent</span><span class="p">,</span>
  <span class="nx">GridComponent</span><span class="p">,</span>
  <span class="nx">LegendComponent</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/components&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">BarChart</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/charts&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">CanvasRenderer</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/renderers&#39;</span><span class="p">;</span>

<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="p">[</span><span class="nx">TitleComponent</span><span class="p">,</span> <span class="nx">TooltipComponent</span><span class="p">,</span> <span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LegendComponent</span><span class="p">,</span> <span class="nx">BarChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">);</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 初始化加载DOM
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">chartDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;barChart&#39;</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">,</span> <span class="s1">&#39;dark&#39;</span><span class="p">)</span>
<span class="c1">// 配置选项
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;ECharts 柱状图示例&#39;</span>
    <span class="p">},</span>
    <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{},</span>
    <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;bug数&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;1月&#39;</span><span class="p">,</span> <span class="s1">&#39;2月&#39;</span><span class="p">,</span> <span class="s1">&#39;3月&#39;</span><span class="p">,</span> <span class="s1">&#39;4月&#39;</span><span class="p">,</span> <span class="s1">&#39;5月&#39;</span><span class="p">,</span> <span class="s1">&#39;6月&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{},</span>
    <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;bug数&#39;</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
    <span class="p">}]</span>
  <span class="p">}</span>
<span class="c1">// 使用配置项和数据显示图表
</span><span class="c1"></span>  <span class="nx">option</span> <span class="o">&amp;&amp;</span> <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>legend.data</code>与<code>series.name</code>的名称必须相互对应 ，一致时才能显示项目名称</li>
</ul>
<blockquote>
<p><code>src/main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">barChart</span> <span class="nx">from</span> <span class="s1">&#39;./modules/barChart.js&#39;</span>
<span class="nx">barChart</span><span class="p">()</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="增加一个线形图">增加一个线形图</h4>
<blockquote>
<p><code>src/index.html</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
        <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>echarts-demo-1<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;barChart&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: 600px; height:400px;&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;lineChart&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: 600px; height:400px;&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">barChart</span> <span class="nx">from</span> <span class="s1">&#39;./modules/barChart&#39;</span>
<span class="nx">barChart</span><span class="p">()</span>

<span class="kr">import</span> <span class="nx">lineChart</span> <span class="nx">from</span> <span class="s1">&#39;./modules/lineChart&#39;</span>
<span class="nx">lineChart</span><span class="p">()</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>./modules/lineChart.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">echarts</span> <span class="nx">from</span> <span class="s1">&#39;echarts/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">GridComponent</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/components&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">LineChart</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/charts&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">CanvasRenderer</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/renderers&#39;</span><span class="p">;</span>

<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="p">[</span><span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LineChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">);</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 初始化加载DOM
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">chartDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;lineChart&#39;</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">,</span> <span class="s1">&#39;light&#39;</span><span class="p">)</span>
<span class="c1">// 配置选项
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;ECharts 线形图示例&#39;</span>
    <span class="p">},</span>
    <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;bug数&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">,</span> <span class="s1">&#39;Sun&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span>
    <span class="p">},</span>
    <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;bug数&#39;</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">147</span><span class="p">,</span> <span class="mi">260</span><span class="p">],</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;line&#39;</span>
    <span class="p">}]</span>
  <span class="p">}</span>
<span class="c1">// 使用配置项和数据显示图表
</span><span class="c1"></span>  <span class="nx">option</span> <span class="o">&amp;&amp;</span> <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="echarts功能"><code>echarts</code>功能</h4>
<h5 id="换主题">换主题</h5>
<ul>
<li><code>ecahrts.init</code>支持传第二个参数<code>echarts.init(xxx, 'dark')</code>
<ul>
<li>主题默认<code>default</code></li>
<li>暗系主题<code>dark</code></li>
<li>亮系主题<code>light</code></li>
</ul>
</li>
</ul>
<h5 id="webstormvscode技巧"><code>WebStorm/VSCode</code>技巧</h5>
<ul>
<li>安装<code>@types/echarts</code>加强代码提示
<ul>
<li>遇坑，不显示属性名提示（灰色表示）
<ul>
<li>保证安装包安装在项目目录下的<code>node_modules</code>，而不是安装在<code>~/</code>根目录</li>
<li>去掉 <code>设置 &gt; 终端 &gt; “将'node_modules/.bin'从项目根添加到%PATH%”</code> 前面的勾选</li>
<li>重新初始化一遍项目</li>
</ul>
</li>
</ul>
</li>
<li><code>WebStorm</code>查看历史版本<code>local history &gt; show history</code>，比较对应变更</li>
</ul>
<h5 id="细节配置">细节配置</h5>
<ul>
<li>如何修改、提示等</li>
<li>如何查看<a href="https://echarts.apache.org/zh/cheat-sheet.html"><code>echarts</code>术语速查手册</a></li>
</ul>
<blockquote>
<p>以重构<code>lineCharts.js</code>为例</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// import ...;
</span><span class="c1"></span>
<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 初始化加载DOM
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">chartDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;barChart&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chartDom</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
  <span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">,</span> <span class="s1">&#39;dark&#39;</span><span class="p">)</span>

<span class="c1">// 使用配置项和数据显示图表
</span><span class="c1"></span>  <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
    <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;ECharts 柱状图示例&#39;</span>
    <span class="p">},</span>
    <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{},</span>
    <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;bug数&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;1月&#39;</span><span class="p">,</span> <span class="s1">&#39;2月&#39;</span><span class="p">,</span> <span class="s1">&#39;3月&#39;</span><span class="p">,</span> <span class="s1">&#39;4月&#39;</span><span class="p">,</span> <span class="s1">&#39;5月&#39;</span><span class="p">,</span> <span class="s1">&#39;6月&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{},</span>
    <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;bug数&#39;</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
    <span class="p">}]</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>直接将配置写在<code>myChart.setOption</code>里，由于安装了<code>@types/echarts</code>，写属性时会有代码提示</li>
</ul>
<h5 id="echarts-如何改外观数据"><code>echarts</code> 如何改外观/数据</h5>
<ul>
<li><a href="https://echarts.apache.org/zh/cheat-sheet.html"><code>echarts</code>术语速查手册</a></li>
<li>改线型 项目点样式 <code>series.lineStyle</code> <code>series.itemStyle</code>等</li>
<li>显示提示文字 <code>tooltip.show</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// import ...;
</span><span class="c1"></span>
<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 初始化加载DOM
</span><span class="c1"></span>  <span class="kr">const</span> <span class="nx">chartDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;lineChart&#39;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chartDom</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">;}</span>
  <span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">,</span> <span class="s1">&#39;light&#39;</span><span class="p">);</span>

<span class="c1">// 使用配置项和数据显示图表
</span><span class="c1"></span>  <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
    <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;销售数据&#39;</span><span class="p">,</span>
      <span class="nx">left</span><span class="o">:</span> <span class="mi">20</span>
    <span class="p">},</span>
    <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;金额&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">axisLine</span><span class="o">:</span> <span class="p">{</span>
      <span class="p">},</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;2021-06-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2021-06-02&#39;</span><span class="p">,</span> <span class="s1">&#39;2021-06-03&#39;</span><span class="p">,</span> <span class="s1">&#39;2021-06-04&#39;</span><span class="p">,</span> <span class="s1">&#39;2021-06-05&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span>
    <span class="p">},</span>
    <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;金额&#39;</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">135</span><span class="p">],</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;line&#39;</span><span class="p">,</span>
      <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s2">&#34;#0074d9&#34;</span>
      <span class="p">},</span>
      <span class="nx">itemStyle</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">borderWidth</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s2">&#34;#ff4136&#34;</span>
      <span class="p">}</span>
    <span class="p">}]</span>
  <span class="p">});</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="echarts-更新数据"><code>echarts</code> 更新数据</h4>
<blockquote>
<p>目前只能显示静态的数据，需要更新数据，只需更新配置后，再次 <code>setOption</code> 即可</p>
</blockquote>
<ul>
<li><code>option</code>只需更新需要改的部分配置属性
<ul>
<li>但是 <strong>坐标轴</strong> 等数据需要包括 <strong>原来的旧数据</strong> 和 <strong>新数据</strong></li>
</ul>
</li>
<li><code>echarts</code>会自动找出差异，并更新图表</li>
<li><a href="https://echarts.apache.org/examples/zh/editor.html?c=doc-example/tutorial-dynamic-data">更复杂的示例</a></li>
</ul>
<blockquote>
<p>封装模拟数据<code>storage/chartData.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="kd">let</span> <span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span>

<span class="kr">export</span> <span class="kd">function</span> <span class="nx">createKey</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="sb">`2021-6-</span><span class="si">${</span><span class="nx">n</span><span class="si">}</span><span class="sb">`</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="kd">function</span> <span class="nx">createValue</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">m</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="nx">m</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">dateList</span><span class="o">:</span> <span class="p">[</span><span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">()],</span>
  <span class="nx">valueList</span><span class="o">:</span> <span class="p">[</span><span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">()]</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/modules/lineCharts.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// import ...;
</span><span class="c1"></span>
<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="p">[</span><span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LineChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">)</span>

<span class="kr">import</span> <span class="nx">chartData</span> <span class="nx">from</span> <span class="s1">&#39;../storage/chartData&#39;</span>

<span class="c1">// 初始化加载DOM
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">chartDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;lineChart&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chartDom</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
<span class="kr">export</span> <span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">,</span> <span class="s1">&#39;light&#39;</span><span class="p">)</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
<span class="c1">// 使用配置项和数据显示图表
</span><span class="c1"></span>  <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
    <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;销售数据&#39;</span><span class="p">,</span>
      <span class="nx">left</span><span class="o">:</span> <span class="mi">20</span>
    <span class="p">},</span>
    <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;金额&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">axisLine</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#0074d9&#39;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span>
    <span class="p">},</span>
    <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span>
    <span class="p">},</span>
    <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;金额&#39;</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;line&#39;</span><span class="p">,</span>
      <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#28a745&#39;</span>
      <span class="p">},</span>
      <span class="nx">itemStyle</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">borderWidth</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#ff4136&#39;</span>
      <span class="p">}</span>
    <span class="p">}]</span>
  <span class="p">})</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/utils/loadMoreButton.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">chartData</span><span class="p">,</span> <span class="p">{</span><span class="nx">createKey</span><span class="p">,</span> <span class="nx">createValue</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../storage/chartData&#39;</span>

<span class="kr">const</span> <span class="nx">loadMoreButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;loadMore&#39;</span><span class="p">)</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">myChart</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">loadMoreButton</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">createKey</span><span class="p">()</span>
    <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">createValue</span><span class="p">()</span>
    <span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span><span class="p">,</span> <span class="nx">key</span><span class="p">]</span>
    <span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span><span class="p">,</span> <span class="nx">value</span><span class="p">]</span>
    
    <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
      <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span>
      <span class="p">},</span>
      <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span>
      <span class="p">}]</span>
    <span class="p">})</span>

  <span class="p">})</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">barChart</span> <span class="nx">from</span> <span class="s1">&#39;./modules/barChart.js&#39;</span>
<span class="nx">barChart</span><span class="p">()</span>

<span class="kr">import</span> <span class="nx">lineChart</span><span class="p">,</span> <span class="p">{</span><span class="nx">myChart</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./modules/lineChart.js&#39;</span>
<span class="nx">lineChart</span><span class="p">()</span>

<span class="kr">import</span> <span class="nx">loadMoreButton</span> <span class="nx">from</span> <span class="s1">&#39;./modules/loadMoreButton&#39;</span>

<span class="nx">loadMoreButton</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>index.html</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
        <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>echarts-demo-1<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;lineChart&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: 600px; height:400px;&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;loadMore&#34;</span><span class="p">&gt;</span>加载更多<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><h4 id="echarts-展示-loading"><code>echarts</code> 展示 <code>loading</code></h4>
<ul>
<li>使用内置的<code>loading</code>动画：<code>showLoading() / hideLoading()</code> 显示/隐藏加载中动画</li>
<li>事件锁控制触发事件的时机，防止频繁触发 <code>let isLoading = false</code>
<ul>
<li>设定计时器前<code>myChart.showLoading(); isLoading = true</code></li>
<li>计时器完毕<code>myChart.hideLoading(); isLoading = false</code></li>
</ul>
</li>
</ul>
<blockquote>
<p><code>src/utils/loadMoreButton.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">chartData</span><span class="p">,</span> <span class="p">{</span><span class="nx">createKey</span><span class="p">,</span> <span class="nx">createValue</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../storage/chartData&#39;</span>

<span class="kr">const</span> <span class="nx">loadMoreButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;loadMore&#39;</span><span class="p">)</span>

<span class="kd">let</span> <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">false</span>
<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">myChart</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">loadMoreButton</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
    <span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">createKey</span><span class="p">()</span>
    <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">createValue</span><span class="p">()</span>
    <span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span><span class="p">,</span> <span class="nx">key</span><span class="p">]</span>
    <span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span><span class="p">,</span> <span class="nx">value</span><span class="p">]</span>

    <span class="nx">myChart</span><span class="p">.</span><span class="nx">showLoading</span><span class="p">()</span>
    <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
        <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span>
        <span class="p">},</span>
        <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
          <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span>
        <span class="p">}]</span>
      <span class="p">})</span>
      <span class="nx">myChart</span><span class="p">.</span><span class="nx">hideLoading</span><span class="p">()</span>
      <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="p">},</span> <span class="mi">1500</span><span class="p">)</span>

  <span class="p">})</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="echart-点击事件"><code>echart</code> 点击事件</h4>
<blockquote>
<p>让用户可以和图表进行交互</p>
<p>在初始化后的 echarts 实例( <code>const myChart = echarts.init(chartDom, 'light')</code> )上使用 API <code>on</code> 即可</p>
</blockquote>
<ul>
<li>只有图表中允许用户操作(比如点击)的部分才能设置用户交互</li>
<li>获取<code>dataIndex</code>和<code>seriesIndex</code></li>
<li>其他查看文档：<a href="https://echarts.apache.org/zh/tutorial.html#ECharts%20%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%92%8C%E8%A1%8C%E4%B8%BA">ECharts 中的事件和行为</a></li>
</ul>
<blockquote>
<p><code>src/utils/clickChart.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">myChart</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">myChart</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;e.name: &#34;</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;e.dataIndex: &#34;</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">dataIndex</span><span class="p">)</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;e.data: &#34;</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="sb">`https://www/baidu.com/?time=</span><span class="si">${</span><span class="nx">e</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">barChart</span> <span class="nx">from</span> <span class="s1">&#39;./modules/barChart.js&#39;</span>
<span class="nx">barChart</span><span class="p">()</span>

<span class="kr">import</span> <span class="nx">lineChart</span><span class="p">,</span> <span class="p">{</span><span class="nx">myChart</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./modules/lineChart.js&#39;</span>
<span class="nx">lineChart</span><span class="p">()</span>

<span class="kr">import</span> <span class="nx">loadMoreButton</span> <span class="nx">from</span> <span class="s1">&#39;./modules/loadMoreButton&#39;</span>

<span class="nx">loadMoreButton</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span>

<span class="kr">import</span> <span class="nx">clickChart</span> <span class="nx">from</span> <span class="s1">&#39;./modules/clickChart.js&#39;</span>
<span class="nx">clickChart</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="echarts移动端适配"><code>echarts</code>移动端适配</h4>
<h5 id="常规技巧">常规技巧</h5>
<ul>
<li><code>meta:viewport</code> 抄淘宝手机版</li>
<li>用<code>JS</code>获取屏幕宽度设置在<code>div</code>上
<ul>
<li>设定宽高比</li>
</ul>
</li>
<li>使用<code>echarts</code>提供的媒体查询API</li>
</ul>
<blockquote>
<p><code>main.m.taobao.com</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
    <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>iPhoneX</code> 的宽度 <code>375px</code>  PC端设计稿是 <code>1920*1080</code></p>
</blockquote>
<ul>
<li>用代码获取屏幕宽度，来适配</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">width</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span>
</code></pre></td></tr></table>
</div>
</div><h5 id="echarts提供的媒体查询功能"><code>echarts</code>提供的媒体查询功能</h5>
<ul>
<li><code>baseOption</code> + <code>media</code>
<ul>
<li>将共有的选项放入 <code>baseOption: {...}</code></li>
<li>将独有的选项放入 <code>media: [{query: {...}, option: {...}}, ...]</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>封装自动获取容器尺寸的方法 <code>./src/utils/fitScreen.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 当前视口宽度
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">myScreenWidth</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">chartDom</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chartDom</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
  <span class="kd">let</span> <span class="nx">coefficient</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">myScreenWidth</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">coefficient</span> <span class="o">=</span> <span class="p">.</span><span class="mi">45</span>
  <span class="p">}</span>
  <span class="nx">chartDom</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="sb">`</span><span class="si">${</span><span class="nx">myScreenWidth</span> <span class="o">*</span> <span class="nx">coefficient</span><span class="si">}</span><span class="sb">px`</span>
  <span class="nx">chartDom</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="sb">`</span><span class="si">${</span><span class="nx">myScreenWidth</span> <span class="o">*</span> <span class="nx">coefficient</span> <span class="o">*</span> <span class="mf">1.2</span><span class="si">}</span><span class="sb">px`</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/modules/lineChart.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// import ...
</span><span class="c1"></span>
<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="p">[</span><span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LineChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">)</span>

<span class="kr">import</span> <span class="nx">chartData</span> <span class="nx">from</span> <span class="s1">&#39;../storage/chartData&#39;</span>
<span class="kr">import</span> <span class="nx">fitScreen</span> <span class="nx">from</span> <span class="s1">&#39;./fitScreen.js&#39;</span>

<span class="c1">// 初始化加载DOM
</span><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">chartDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;lineChart&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chartDom</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
<span class="nx">fitScreen</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">)</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">,</span> <span class="s1">&#39;light&#39;</span><span class="p">)</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
<span class="c1">// 使用配置项和数据显示图表
</span><span class="c1"></span>  <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
    <span class="nx">baseOption</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;数据&#39;</span><span class="p">,</span>
        <span class="nx">left</span><span class="o">:</span> <span class="mi">20</span>
      <span class="p">},</span>
      <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;金额&#39;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">},</span>
      <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">axisLine</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#0074d9&#39;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">dateList</span>
      <span class="p">},</span>
      <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span>
      <span class="p">},</span>
      <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;金额&#39;</span><span class="p">,</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">chartData</span><span class="p">.</span><span class="nx">valueList</span><span class="p">,</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;line&#39;</span><span class="p">,</span>
        <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#28a745&#39;</span>
        <span class="p">},</span>
        <span class="nx">itemStyle</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">borderWidth</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
          <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#ff4136&#39;</span>
        <span class="p">}</span>
      <span class="p">}]</span>
    <span class="p">},</span>
    <span class="nx">media</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nx">query</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">maxWidth</span><span class="o">:</span> <span class="mi">500</span>
        <span class="p">},</span>
        <span class="nx">option</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;移动端数据&#39;</span><span class="p">,</span>
            <span class="nx">left</span><span class="o">:</span> <span class="mi">20</span>
          <span class="p">},</span>
          <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
            <span class="nx">itemStyle</span><span class="o">:</span> <span class="p">{</span>
              <span class="nx">borderWidth</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>
              <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#ff4136&#39;</span>
            <span class="p">}</span>
          <span class="p">}]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">})</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="字体">字体</h4>
<blockquote>
<p>按比例缩放字体</p>
</blockquote>
<ul>
<li>图表中的<code>fontSize</code>和<code>legend</code>的大小等默认都是<code>px</code>单位
<ul>
<li><code>legend</code>中的<code>itemWidth</code>，<code>itemHeight</code>，<code>itemGap</code></li>
<li>柱状图中的<code>barWidth</code>，坐标系中的<code>axisLine</code>的<code>width</code></li>
<li>传入<code>vw</code>，<code>rem</code>单位是没有用</li>
<li>定位方式传的单位可以是百分比，大小尺寸不能</li>
</ul>
</li>
<li>不只是字体的问题 各种图的比例也是</li>
<li>将实际窗口的大小与设计图窗口大小做比得到要给相对的比率</li>
<li>每个单位数值和这个比率相乘即可</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 当前视口宽度
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">myScreenWidth</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span>

<span class="c1">// 换算方法
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">nowSize</span><span class="p">(</span><span class="nx">originalFontSizePX</span><span class="p">,</span> <span class="nx">initWidth</span> <span class="o">=</span> <span class="mi">1920</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">originalFontSizePX</span> <span class="o">*</span> <span class="p">(</span><span class="nx">myScreenWidth</span> <span class="o">/</span> <span class="nx">initWidth</span><span class="p">)</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">barChartOption</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">backgroundColor</span><span class="o">:</span> <span class="s1">&#39;transparent&#39;</span><span class="p">,</span>
  <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">trigger</span><span class="o">:</span> <span class="s1">&#39;axis&#39;</span><span class="p">,</span>
    <span class="nx">axisPointer</span><span class="o">:</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;shadow&#39;</span><span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;门禁进入&#39;</span><span class="p">,</span> <span class="s1">&#39;门禁外出&#39;</span><span class="p">],</span>
    <span class="nx">align</span><span class="o">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="nx">top</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">18</span><span class="p">),</span>
    <span class="nx">right</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
    <span class="nx">textStyle</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#c1c5cd&#39;</span><span class="p">,</span>
      <span class="nx">fontSize</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">itemWidth</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
    <span class="nx">itemHeight</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
    <span class="nx">itemGap</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">grid</span><span class="o">:</span> <span class="p">{</span><span class="nx">top</span><span class="o">:</span> <span class="s1">&#39;24%&#39;</span><span class="p">,</span> <span class="nx">left</span><span class="o">:</span> <span class="s1">&#39;3%&#39;</span><span class="p">,</span> <span class="nx">right</span><span class="o">:</span> <span class="s1">&#39;3%&#39;</span><span class="p">,</span> <span class="nx">bottom</span><span class="o">:</span> <span class="s1">&#39;3%&#39;</span><span class="p">,</span> <span class="nx">containLabel</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
  <span class="nx">xAxis</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;1号楼&#39;</span><span class="p">,</span> <span class="s1">&#39;2号楼&#39;</span><span class="p">,</span> <span class="s1">&#39;3号楼&#39;</span><span class="p">,</span> <span class="s1">&#39;4号楼&#39;</span><span class="p">,</span> <span class="s1">&#39;5号楼&#39;</span><span class="p">,</span> <span class="s1">&#39;6号楼&#39;</span><span class="p">,</span> <span class="s1">&#39;7号楼&#39;</span><span class="p">,</span> <span class="s1">&#39;8号楼&#39;</span><span class="p">,],</span>
    <span class="nx">axisLine</span><span class="o">:</span> <span class="p">{</span><span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#45647f&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;solid&#39;</span><span class="p">}},</span>
    <span class="nx">axisTick</span><span class="o">:</span> <span class="p">{</span><span class="nx">show</span><span class="o">:</span> <span class="kc">false</span><span class="p">,},</span>
    <span class="nx">axisLabel</span><span class="o">:</span> <span class="p">{</span><span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">textStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#a1d8f1&#39;</span><span class="p">,</span> <span class="nx">fontSize</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">12</span><span class="p">)}},</span>
  <span class="p">}],</span>
  <span class="nx">yAxis</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="nx">axisTick</span><span class="o">:</span> <span class="p">{</span><span class="nx">show</span><span class="o">:</span> <span class="kc">false</span><span class="p">,},</span>
    <span class="nx">axisLine</span><span class="o">:</span> <span class="p">{</span><span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#45647f&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;solid&#39;</span><span class="p">},},</span>
    <span class="nx">splitLine</span><span class="o">:</span> <span class="p">{</span><span class="nx">show</span><span class="o">:</span> <span class="kc">false</span><span class="p">},</span>
    <span class="nx">axisLabel</span><span class="o">:</span> <span class="p">{</span><span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">textStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#a1d8f1&#39;</span><span class="p">,</span> <span class="nx">fontSize</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">12</span><span class="p">)}}</span>
  <span class="p">}],</span>
  <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;门禁进入&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
    <span class="nx">barWidth</span><span class="o">:</span> <span class="nx">nowSize</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="c1">// 柱子宽度
</span><span class="c1"></span>    <span class="c1">// barGap: 1, // 柱子之间间距
</span><span class="c1"></span>    <span class="c1">// itemStyle: { color: &#39;#14e3cc&#39; }}, { name: &#39;门禁外出&#39;, type: &#39;bar&#39;, data: [50, 70, 60, 61, 75, 87, 60, 62],
</span><span class="c1"></span>    <span class="c1">// barWidth: nowSize(8), // barGap: 1, itemStyle: { color: &#39;#f84f55&#39; } }]
</span><span class="c1"></span>  <span class="p">}]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>参考</p>
</blockquote>
<ul>
<li><a href="https://www.jianshu.com/p/091c6812b0ad">echarts 图表 PC/移动端自适应方案</a></li>
<li><a href="https://juejin.cn/post/6897857163918573582">echarts图表文字如何适配大屏分辨率</a></li>
<li><a href="https://www.huaweicloud.com/articles/273c606c14d0371b9f0ce160d6971b83.html">echarts改变字体单位实现自适应</a></li>
</ul>
<hr>
<h4 id="vue里使用-echarts">Vue里使用 <code>echarts</code></h4>
<h5 id="自己封装组件">自己封装组件</h5>
<blockquote>
<p>准备一个<code>vue-index.html</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span>
        <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;style/reset.scss&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>echarts-demo-1<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">section</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;vueChartDemo&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;vue-main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<blockquote>
<p>安装演示用的依赖</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn add vue@2.6.11
yarn add --dev @types/vue
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>遇坑</p>
</blockquote>
<ul>
<li>vue版本依赖包（<code>vue@2.6.11</code> ） （<code>vue-template-compiler@2.6.14</code>）不匹配</li>
<li>把版本号改成一样<code>yarn add --dev vue-template-compiler@2.6.11</code></li>
<li>在 vue 工程中，安装依赖时，需要 <code>vue</code> 和 <code>vue-template-compiler</code> 版本必须保持一致，否则会报错</li>
</ul>
<blockquote>
<p>入口文件<code>vue-main.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="kr">import</span> <span class="nx">VueApp</span> <span class="nx">from</span> <span class="s1">&#39;./vue-app.vue&#39;</span>

<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="nx">h</span> <span class="p">=&gt;</span> <span class="nx">h</span><span class="p">(</span><span class="nx">VueApp</span><span class="p">)</span>
<span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;vueChartDemo&#39;</span><span class="p">))</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>入口组件<code>vue-app.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    Hi
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;vue-app&#39;</span>
<span class="p">};</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>启动服务运行，自动安装所需依赖</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">parcel src/vue-index.html --no-cache
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>遇坑</p>
</blockquote>
<ul>
<li>注意之前安装的是<code>yarn global add parcel-bundler</code>，而 <strong>不是<code>yarn global add parcel</code></strong></li>
<li>查看版本是否一致：<code>parcel --version</code>或<code>parcel -V</code>，返回的是否是<code>1.12.5</code>，非<code>@2.0.0beta</code>版</li>
<li><a href="https://www.parceljs.cn/">官方地址：https://www.parces.cn/</a></li>
<li>否则会报错
<ul>
<li><code>console: [@vue/compiler-sfc] compileTemplate now requires the </code>id<code> option.</code>.`</li>
<li><code>xxx Uncaught TypeError: _vue.withScopeId is not a function</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>更换Vue 版本：完整版/runtime版（默认） <code>package.json</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="err">...</span>
    <span class="s2">&#34;alias&#34;</span><span class="err">:</span> <span class="p">{</span>
        <span class="nt">&#34;vue&#34;</span><span class="p">:</span> <span class="s2">&#34;./node_modules/vue/dist/vue.common.js&#34;</span>
    <span class="p">}</span>
<span class="err">...</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h5 id="vue引入外部-js-变量和方法"><code>Vue</code>引入外部 js 变量和方法</h5>
<ul>
<li>Vue中引入静态JS文件需要在有特殊含义的路径下，否则无效</li>
<li><code>store</code> 数据</li>
<li><code>view</code> 展示页面</li>
<li><code>components</code> 组件</li>
<li><code>utils</code> 工具函数</li>
<li><code>vendor</code>或者<code>libs</code>第三方库</li>
<li>脚本代码不放在<code>assets</code>或者<code>static</code>目录下
<ul>
<li><a href="https://segmentfault.com/q/1010000009842688">assets 和 static 的区别</a>- <a href="http://vuejs-templates.github.io/webpack/static.html">webpack 模板的文档 - Handing Static Assets</a></li>
<li><code>assests</code>放置的是组件的资源，<code>static</code>放置的是非组件的资源</li>
<li><code>assests</code>-&gt; bundle(编译到一起) 内容会被 webpack 打包到一起</li>
<li><code>static</code>下的文件资源作为src路径传入组件中 -&gt; resources(远程URL请求) 浏览器直接去请求文件</li>
</ul>
</li>
</ul>
<hr>
<h5 id="vue中局部使用-echarts"><code>Vue</code>中局部使用 <code>echarts</code></h5>
<blockquote>
<p>演示组件<code>./view/vue-charts.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    vue-echarts
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;vue-echarts&#39;</span><span class="p">,</span>
  <span class="nx">mounted</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">container</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>Vue</code>中，通过另一种方式获取组件的 <code>DOM</code>，代替使用<code>document.getElementById('...')</code>
<ul>
<li>因为<code>Vue</code>是单页面应用，如果将以上的组件使用两次，一个页面内 id 是不允许相同</li>
<li>否则会出现第一个组件正常显示，第二个组件无法显示</li>
</ul>
</li>
<li>使用<code>Vue</code>的<code>$refs</code>对象，只要将组件注册属性<code>ref=&quot;xxx&quot;</code></li>
<li>在<code>mounted</code>时调用<code>this.$refs.xxx</code>，避免 <code>echarts</code> 的容器还没有生成就进行初始化</li>
</ul>
<hr>
<blockquote>
<p>引入到<code>vue-app.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;vueChartDemo&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>在 Vue 中使用 echarts<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">vue-echarts</span><span class="p">&gt;&lt;/</span><span class="nt">vue-echarts</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">import</span> <span class="nx">VueEcharts</span> <span class="nx">from</span> <span class="s1">&#39;./components/vue-echarts.vue&#39;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;vue-app&#39;</span><span class="p">,</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">VueEcharts</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>拆开并封装组件<code>./src/modules/lineChart.js</code>和<code>./src/store/options/lineChartOptions.js</code></p>
<p>重构<code>./src/store/chartData.js</code>和<code>./src/utils/loadMoreButton.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// lineChartOptions.js
</span><span class="c1"></span><span class="kr">import</span> <span class="p">{</span><span class="nx">dateList</span><span class="p">,</span> <span class="nx">valueList</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../chartData.js&#39;</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">chartOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">baseOption</span><span class="o">:</span> <span class="p">{...},</span>
  <span class="nx">media</span><span class="o">:</span> <span class="p">[...]</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/modules/lineChart.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// import ...
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">fitScreen</span> <span class="nx">from</span> <span class="s1">&#39;../utils/fitScreen.js&#39;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">chartOptions</span> <span class="nx">as</span> <span class="nx">lineChartOptions</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../store/options/lineChartOptions.js&#39;</span>

<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="p">[</span><span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LineChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1">// 初始化加载DOM
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">chartDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;lineChart&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chartDom</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
<span class="nx">fitScreen</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartDom</span><span class="p">,</span> <span class="s1">&#39;light&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">chartOptions</span>
  <span class="o">=</span> <span class="nx">lineChartOptions</span>

<span class="kr">export</span> <span class="p">{</span>
  <span class="nx">chartDom</span><span class="p">,</span>
  <span class="nx">myChart</span><span class="p">,</span>
  <span class="nx">chartOptions</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>chartData.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="kd">let</span> <span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span>

<span class="kd">function</span> <span class="nx">createKey</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="sb">`2021-6-</span><span class="si">${</span><span class="nx">n</span><span class="si">}</span><span class="sb">`</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createValue</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">m</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="nx">m</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">dateList</span> <span class="o">=</span> <span class="p">[</span><span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">(),</span> <span class="nx">createKey</span><span class="p">()]</span>
<span class="kd">let</span> <span class="nx">valueList</span> <span class="o">=</span> <span class="p">[</span><span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">(),</span> <span class="nx">createValue</span><span class="p">()]</span>

<span class="kr">export</span> <span class="p">{</span>
  <span class="nx">m</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span>
  <span class="nx">createKey</span><span class="p">,</span> <span class="nx">createValue</span><span class="p">,</span>
  <span class="nx">dateList</span><span class="p">,</span> <span class="nx">valueList</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>src/utils/loadMoreButton.js</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span><span class="nx">dateList</span><span class="p">,</span> <span class="nx">valueList</span><span class="p">,</span> <span class="nx">createKey</span><span class="p">,</span> <span class="nx">createValue</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../store/chartData.js&#39;</span>

<span class="kr">const</span> <span class="nx">loadMoreButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;loadMore&#39;</span><span class="p">)</span>
<span class="kd">let</span> <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">false</span>
<span class="kd">let</span> <span class="nx">newDateList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">dateList</span><span class="p">]</span>
<span class="kd">let</span> <span class="nx">newValueList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">valueList</span><span class="p">]</span>

<span class="kr">const</span> <span class="nx">renewData</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">createKey</span><span class="p">()</span>
  <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">createValue</span><span class="p">()</span>
  <span class="nx">newDateList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">newDateList</span><span class="p">,</span> <span class="nx">key</span><span class="p">]</span>
  <span class="nx">newValueList</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">newValueList</span><span class="p">,</span> <span class="nx">value</span><span class="p">]</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">resetOption</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">({</span>
    <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">newDateList</span>
    <span class="p">},</span>
    <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">newValueList</span>
    <span class="p">}]</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">mockLoadData</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">resetOption</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span>
    <span class="nx">myChart</span><span class="p">.</span><span class="nx">hideLoading</span><span class="p">()</span>
    <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="p">},</span> <span class="mi">1500</span><span class="p">)</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">loadMoreData</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">myChart</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
  <span class="nx">renewData</span><span class="p">()</span>
  <span class="nx">myChart</span><span class="p">.</span><span class="nx">showLoading</span><span class="p">()</span>
  <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">true</span>
  <span class="nx">mockLoadData</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">buttonElement</span><span class="p">,</span> <span class="nx">myChart</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">buttonElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">loadMoreData</span><span class="p">(</span><span class="nx">myChart</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="p">{</span>
  <span class="nx">loadMoreButton</span><span class="p">,</span>
  <span class="nx">newDateList</span><span class="p">,</span>
  <span class="nx">newValueList</span><span class="p">,</span>
  <span class="nx">loadMoreData</span><span class="p">,</span>
  <span class="nx">renewData</span><span class="p">,</span>
  <span class="nx">resetOption</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>vue-charts.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    <span class="nx">vue</span><span class="o">-</span><span class="nx">echarts</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c1">// 按需引入 echarts 模块
</span><span class="c1"></span><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">echarts</span> <span class="nx">from</span> <span class="s1">&#39;echarts/core&#39;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">TitleComponent</span><span class="p">,</span> <span class="nx">TooltipComponent</span><span class="p">,</span> <span class="nx">LegendComponent</span><span class="p">,</span> <span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">TimelineComponent</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/components&#39;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">LineChart</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/charts&#39;</span>
<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">CanvasRenderer</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts/renderers&#39;</span>
<span class="kr">import</span> <span class="nx">fitScreen</span> <span class="nx">from</span> <span class="s1">&#39;../utils/fitScreen.js&#39;</span>
<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="p">[</span><span class="nx">TitleComponent</span><span class="p">,</span> <span class="nx">LegendComponent</span><span class="p">,</span> <span class="nx">TooltipComponent</span><span class="p">,</span> <span class="nx">TimelineComponent</span><span class="p">,</span> <span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LineChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">)</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;vue-echarts&#39;</span><span class="p">,</span>
  <span class="nx">props</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;moreData&#39;</span><span class="p">,</span> <span class="s1">&#39;isLoading&#39;</span><span class="p">],</span>
  <span class="nx">mounted</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fitScreen</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">container</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">chart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span> <span class="s1">&#39;light&#39;</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">option</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">watch</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">option</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">option</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">moreData</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;giveMoreData&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">isLoading</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">isLoading</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">showLoading</span><span class="p">()</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">hideLoading</span><span class="p">()</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><ul>
<li>将初始化后的<code>chart</code>挂在<code>this</code>上：<code>this.chart = myChart.setOption({...})</code>
<ul>
<li>可访问<code>this.chart</code></li>
<li>当外部数据<code>moreData</code>改变，触发自定义事件<code>giveMoreData</code>给父组件<code>vue-app.vue</code>，并传参<code>this.chart</code></li>
</ul>
</li>
<li>外部数据<code>props</code>传入<code>echars</code>所需的<code>option</code></li>
</ul>
<blockquote>
<p><code>vue-app.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">在</span> <span class="nx">Vue</span> <span class="nx">中使用</span> <span class="nx">echarts</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">vue-echarts</span> <span class="nt">:option</span><span class="s">=&#34;option&#34;</span>
                 <span class="nt">:moreData</span><span class="s">=&#34;n&#34;</span>
                 <span class="nt">@giveMoreData</span><span class="s">=&#34;renewOptions($event)&#34;</span><span class="p">&gt;</span>
    <span class="err">&lt;/</span><span class="na">vue</span><span class="nt">-echarts</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;loadMore&#34;</span><span class="p">&gt;</span><span class="na">加载更多</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c1">// import ...;
</span><span class="c1"></span>
<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
  <span class="p">[</span><span class="nx">GridComponent</span><span class="p">,</span> <span class="nx">LineChart</span><span class="p">,</span> <span class="nx">CanvasRenderer</span><span class="p">]</span>
<span class="p">)</span>

<span class="kr">import</span> <span class="nx">VueEcharts</span> <span class="nx">from</span> <span class="s1">&#39;./view/vue-echarts.vue&#39;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">chartOptions</span> <span class="nx">as</span> <span class="nx">lineChartOptions</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./store/options/lineChartOptions.js&#39;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">resetOption</span><span class="p">,</span> <span class="nx">renewData</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./utils/loadMoreButton.js&#39;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;vue-app&#39;</span><span class="p">,</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">VueEcharts</span>
  <span class="p">},</span>
  <span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">n</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nx">isLoading</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">option</span><span class="o">:</span> <span class="nx">lineChartOptions</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">loadMore</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">n</span><span class="o">++</span>
    <span class="p">},</span>
    <span class="nx">renewOptions</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">}</span>
      <span class="nx">renewData</span><span class="p">()</span>
      <span class="nx">container</span><span class="p">.</span><span class="nx">showLoading</span><span class="p">()</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">true</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">resetOption</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
        <span class="nx">container</span><span class="p">.</span><span class="nx">hideLoading</span><span class="p">()</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">false</span>
      <span class="p">},</span> <span class="mi">1500</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><h5 id="vue中全局使用-echarts"><code>Vue</code>中全局使用 <code>echarts</code></h5>
<blockquote>
<p>在项目文件的入口js文 <code>main.js</code> 中引入 <code>echarts</code>，并使用该插件，这样就可以对其进行全局使用</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">echarts</span> <span class="nx">from</span> <span class="s1">&#39;echarts&#39;</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">echarts</span><span class="p">)</span>
<span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$echarts</span> <span class="o">=</span> <span class="nx">echarts</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 基于准备好的dom，初始化ECharts实例
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">$echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">));</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><a href="https://www.jianshu.com/p/f5afdedce2ef">Vue.prototype.$echarts</a></li>
<li><a href="https://juejin.cn/post/6844903911845789703">vue添加全局的方法、组件、过滤器、和自定义指令等</a></li>
</ul>
<h5 id="封装一个动态渲染数据的echarts折线图组件">封装一个动态渲染数据的<code>Echarts</code>折线图组件</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
<span class="c1">// 自己封装echarts组件 可替换为使用vue-charts的官方封装
</span><span class="c1"></span><span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">Prop</span><span class="p">,</span> <span class="nx">Watch</span><span class="p">,</span> <span class="nx">Vue</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue-property-decorator&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">echart</span><span class="p">,</span> <span class="p">{</span><span class="nx">EChartOption</span><span class="p">,</span> <span class="nx">ECharts</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;echarts&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span>
<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">Chart</span> <span class="kr">extends</span> <span class="nx">Vue</span> <span class="p">{</span>
  <span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;Chart&#39;</span><span class="p">;</span>
  <span class="nx">chart</span><span class="o">?:</span> <span class="nx">ECharts</span><span class="p">;</span>

  <span class="err">@</span><span class="nx">Prop</span><span class="p">()</span> <span class="nx">options</span><span class="o">?:</span> <span class="nx">EChartOption</span><span class="p">;</span>

  <span class="err">@</span><span class="nx">Watch</span><span class="p">(</span><span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">immediate</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">deep</span><span class="o">:</span> <span class="kc">true</span><span class="p">})</span>
  <span class="nx">onOptionChange</span><span class="p">(</span><span class="nx">newOption</span><span class="o">:</span> <span class="nx">EChartOption</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="nx">newOption</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">initChart</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 挂载时 必须先初始化 echart
</span><span class="c1"></span>    <span class="c1">// 挂载先于@Watch(&#39;options&#39;) 监听变化，即使用了 immediate 参数
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;options is empty&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">chart</span> <span class="o">=</span> <span class="nx">echart</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">content</span> <span class="nx">as</span> <span class="nx">HTMLDivElement</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">mounted</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">initChart</span><span class="p">();</span>
  <span class="p">}</span>

<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h5 id="引入其第三方封装好的库">引入其第三方封装好的库</h5>
<ul>
<li><a href="https://github.com/ecomfe/vue-echarts">vue-echarts</a></li>
</ul>
<blockquote>
<p>参考</p>
</blockquote>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/355180255">Vue-ECharts v6 发布</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1185523?from=information.detail.vue%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5js%E6%96%87%E4%BB%B6">Vue封装引入外部脚本的组件</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1394002?from=information.detail.vue%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5js%E6%96%87%E4%BB%B6">Vue.js引入 <strong>外部CSS样式</strong> 和 <strong>外部JS文件</strong> 的方法</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1425087?from=information.detail.vue%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5js%E6%96%87%E4%BB%B6">Vue 中如何正确引入 <strong>第三方模块</strong> </a></li>
<li><a href="http://www.uxys.com/html/Vue/20200301/26862.html">Vue引入第三方js包及调用方法</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1356013?from=information.detail.vue%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5js%E6%96%87%E4%BB%B6">Vue 动态加载 <strong>远程js</strong> 完美实践</a></li>
<li><a href="https://www.bbsmax.com/A/ZOJPDaQOJv/">Vue引入 <strong>远程JS文件</strong></a></li>
<li><a href="https://cloud.tencent.com/developer/article/1573469?from=information.detail.vue%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5js%E6%96%87%E4%BB%B6">Vue 2.x  中的片段 vue-fragment 额外的节点包装器技术 Vue v3 中引入片段功能</a></li>
<li><a href="https://www.bbsmax.com/A/WpdK4EaXzV/">vue页面引入外部js文件遇到的问题</a></li>
<li><a href="https://www.bbsmax.com/A/x9J2e47jz6/">vue组件内部引入远程js文件</a></li>
<li><a href="https://www.jb51.net/article/178777.htm">vue组件内部引入外部js文件的方法</a></li>
<li><a href="https://segmentfault.com/a/1190000012427886">Parcel+vue 入门实战</a></li>
</ul>
<blockquote>
<p>代码仓库</p>
</blockquote>
<ul>
<li><a href="https://github.com/xmasuhai/echarts-demo-1">源码 echarts-demo-1</a></li>
</ul>
<hr>
<h4 id="react里使用-echarts">React里使用 <code>echarts</code></h4>
<h5 id="自己封装组件-1">自己封装组件</h5>
<h5 id="引入其他封装">引入其他封装</h5>
<ul>
<li><a href="https://github.com/hustcc/echarts-for-react">echarts-for-react</a></li>
</ul>
<blockquote>
<p>参考</p>
</blockquote>
<hr>
<h4 id="总结">总结</h4>
<ul>
<li><code>echarts x Vue x TypeScript</code>
<ul>
<li>监听图表<code>option</code>的变化，执行<code>setOption({...})</code></li>
</ul>
</li>
<li><code>echarts x React x TypeScript</code></li>
</ul>
<hr>
<h3 id="什么是数据可视化">什么是数据可视化</h3>
<ul>
<li>用<code>echarts</code>做页面是最初级的可视化</li>
<li>深入<code>d3.js</code></li>
<li>大屏项目</li>
</ul>
<hr>
<blockquote>
<p>参考</p>
</blockquote>
<ul>
<li><a href="chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/https://static.xiedaimala.com/xdml/file/3ac7c224-c23d-491f-84b5-4fabfbeab9b8/2020-5-17-21-21-26.pdf">Echarts 使用指南 PDF</a></li>
<li><a href="https://www.runoob.com/echarts/echarts-tutorial.html">ECharts 教程 RUNOOB</a></li>
</ul>
<hr>
<h2 id="在-vue-记账项目中加入-echarts">在 Vue 记账项目中加入 ECharts</h2>
<ul>
<li>先完善 <code>Money.vue</code> 和 <code>FormItem.vue</code> 组件，添加日期选择组件</li>
<li>使用<code>vue-charts</code>的官方封装</li>
<li>自己封装<code>echarts</code>组件</li>
</ul>
<blockquote>
<p>参考</p>
</blockquote>
<ul>
<li>设计稿：<a href="https://www.figma.com/file/493MWONLQcmwH5bAHUbWEw/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6-%E6%9C%AC%E5%9C%B0%E7%89%88?node-id=3969%3A20">Figma</a></li>
<li>初始代码：https://github.com/FrankFang/morney-test-9</li>
<li>最终代码：https://github.com/FrankFang/morney-test-vue-echarts</li>
</ul>
<hr>
<h3 id="添加日期选择组件">添加日期选择组件</h3>
<blockquote>
<p>重构<code>FormItem.vue</code>，添加外部数据<code>type</code>，控制<code>&lt;input/&gt;</code>的类型</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-wrapper&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-item&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;{{</span> <span class="nx">fieldName</span> <span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">template</span> <span class="nt">v-if</span><span class="s">=&#34;type === &#39;date&#39;&#34;&gt;
</span><span class="s">        &lt;input :type=&#34;type || &#39;text&#39;&#34;
</span><span class="s">               :placeholder=&#34;placeholder&#34;
</span><span class="s">               :value=&#34;dateFormat(inputValue)&#34;
</span><span class="s">               @input=&#34;oninputValueChanged($event.target.value)&#34;/&gt;
</span><span class="s">      &lt;/template&gt;
</span><span class="s">      &lt;template v-else&gt;
</span><span class="s">        &lt;input :type=&#34;type || &#39;text&#39;&#34;
</span><span class="s">               :placeholder=&#34;placeholder&#34;
</span><span class="s">               :value=&#34;inputValue&#34;
</span><span class="s">               @input=&#34;oninputValueChanged($event.target.value)&#34;/&gt;
</span><span class="s">      &lt;/template&gt;
</span><span class="s">    &lt;/label&gt;
</span><span class="s">  &lt;/div&gt;
</span><span class="s">&lt;/template&gt;
</span><span class="s">&lt;script lang=&#34;ts&#34;</span><span class="p">&gt;</span>
<span class="na">import</span> <span class="na">Vue</span> <span class="na">from</span> <span class="err">&#39;</span><span class="na">vue</span><span class="err">&#39;;</span>
<span class="na">import</span> <span class="p">{</span><span class="na">Component</span><span class="err">,</span> <span class="na">Prop</span><span class="p">}</span> <span class="na">from</span> <span class="err">&#39;</span><span class="na">vue</span><span class="nt">-property-decorator</span><span class="err">&#39;;</span>
<span class="na">import</span> <span class="na">dayjs</span> <span class="na">from</span> <span class="err">&#39;</span><span class="na">dayjs</span><span class="err">&#39;;</span>

<span class="err">@</span><span class="na">Component</span>
<span class="na">export</span> <span class="na">default</span> <span class="na">class</span> <span class="na">FormItem</span> <span class="na">extends</span> <span class="na">Vue</span> <span class="p">{</span>
  <span class="err">@</span><span class="na">Prop</span><span class="err">(</span><span class="p">{</span><span class="na">default</span><span class="o">:</span> <span class="err">&#39;&#39;</span><span class="p">}</span><span class="err">)</span> <span class="na">inputValue</span><span class="err">!</span><span class="o">:</span> <span class="na">string</span><span class="err">;</span>
  <span class="err">@</span><span class="na">Prop</span><span class="err">(</span><span class="p">{</span><span class="na">required</span><span class="o">:</span> <span class="na">true</span><span class="p">}</span><span class="err">)</span> <span class="na">fieldName</span><span class="err">!</span><span class="o">:</span> <span class="na">string</span><span class="err">;</span>
  <span class="err">@</span><span class="na">Prop</span><span class="err">(</span><span class="p">{</span><span class="na">default</span><span class="o">:</span> <span class="err">&#39;&#39;</span><span class="p">}</span><span class="err">)</span> <span class="na">placeholder</span><span class="err">?</span><span class="o">:</span> <span class="na">string</span><span class="err">;</span>
  <span class="err">@</span><span class="na">Prop</span><span class="err">()</span> <span class="na">type</span><span class="err">?</span><span class="o">:</span> <span class="na">string</span><span class="err">;</span>

  <span class="na">oninputValueChanged</span><span class="err">(</span><span class="na">newValue</span><span class="o">:</span> <span class="na">string</span><span class="err">)</span> <span class="p">{</span>
    <span class="na">this.</span><span class="err">$</span><span class="na">emit</span><span class="err">(&#39;</span><span class="na">update</span><span class="o">:</span><span class="na">inputValue</span><span class="err">&#39;,</span> <span class="na">newValue</span><span class="err">);</span>
    <span class="na">if</span><span class="err">(</span><span class="na">this.type</span> <span class="err">===</span> <span class="err">&#39;</span><span class="na">date</span><span class="err">&#39;)</span> <span class="p">{</span>
      <span class="na">this.</span><span class="err">$</span><span class="na">store.commit</span><span class="err">(&#39;</span><span class="na">updateDateStore</span><span class="err">&#39;,</span> <span class="na">newValue</span><span class="err">)</span>
    <span class="p">}</span> <span class="na">else</span> <span class="na">if</span><span class="err">(</span><span class="na">this.type</span> <span class="err">===</span> <span class="err">&#39;</span><span class="na">text</span><span class="err">&#39;)</span> <span class="p">{</span>
      <span class="na">this.</span><span class="err">$</span><span class="na">store.commit</span><span class="err">(&#39;</span><span class="na">updateTipsText</span><span class="err">&#39;,</span> <span class="na">newValue</span><span class="err">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="na">dateFormat</span><span class="err">(</span><span class="na">isoString</span><span class="o">:</span> <span class="na">string</span><span class="err">)</span> <span class="p">{</span>
    <span class="na">return</span> <span class="na">dayjs</span><span class="err">(</span><span class="na">isoString</span><span class="err">)</span><span class="na">.format</span><span class="err">(&#39;</span><span class="na">YYYY</span><span class="nt">-MM-DD</span><span class="err">&#39;)</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">style</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;scss&#34;</span> <span class="na">scoped</span><span class="p">&gt;</span>
<span class="p">.</span><span class="nx">form</span><span class="o">-</span><span class="nx">wrapper</span> <span class="p">{</span>
  <span class="nx">background</span><span class="o">:</span> <span class="nx">transparent</span><span class="p">;</span>

  <span class="p">.</span><span class="nx">form</span><span class="o">-</span><span class="nx">item</span> <span class="p">{</span>
    <span class="nx">align</span><span class="o">-</span><span class="nx">items</span><span class="o">:</span> <span class="nx">center</span><span class="p">;</span>
    <span class="nx">display</span><span class="o">:</span> <span class="nx">flex</span><span class="p">;</span>
    <span class="nx">font</span><span class="o">-</span><span class="nx">size</span><span class="o">:</span> <span class="mi">14</span><span class="nx">px</span><span class="p">;</span>
    <span class="nx">padding</span><span class="o">-</span><span class="nx">left</span><span class="o">:</span> <span class="mi">16</span><span class="nx">px</span><span class="p">;</span>

    <span class="p">.</span><span class="nx">name</span> <span class="p">{</span>
      <span class="nx">padding</span><span class="o">-</span><span class="nx">right</span><span class="o">:</span> <span class="mi">16</span><span class="nx">px</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">input</span> <span class="p">{</span>
      <span class="nx">height</span><span class="o">:</span> <span class="mi">40</span><span class="nx">px</span><span class="p">;</span>
      <span class="nx">flex</span><span class="o">-</span><span class="nx">grow</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
      <span class="nx">background</span><span class="o">:</span> <span class="nx">transparent</span><span class="p">;</span>
      <span class="nx">padding</span><span class="o">-</span><span class="nx">right</span><span class="o">:</span> <span class="mi">16</span><span class="nx">px</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>Money.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Layout</span> <span class="na">class</span><span class="nt">-prefix</span><span class="err">=&#34;</span><span class="na">layout</span><span class="err">&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;layout-content&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">HeaderBar</span> <span class="nt">:header-title</span><span class="s">=&#34;&#39;记账&#39;&#34;</span>
               <span class="nt">:hasIcon</span><span class="s">=&#34;false&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">HeaderBar</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Tags</span> <span class="nt">@update:selectedTags</span><span class="s">=&#34;pickTags&#34;</span>
          <span class="nt">:is-deselect-tags</span><span class="s">=&#34;emptyTags&#34;</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&#34;tags&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">FormItem</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-item&#34;</span>
              <span class="na">field</span><span class="nt">-name</span><span class="err">=&#34;</span><span class="na">备注</span><span class="err">&#34;</span>
              <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;在这里输入备注&#34;</span>
              <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span>
              <span class="nt">:inputValue.sync</span><span class="s">=&#34;record.tips&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;creatAt&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">FormItem</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-item&#34;</span>
                <span class="na">field</span><span class="nt">-name</span><span class="err">=&#34;</span><span class="na">日期</span><span class="err">&#34;</span>
                <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;在这里选择日期&#34;</span>
                <span class="na">type</span><span class="o">=</span><span class="s">&#34;date&#34;</span>
                <span class="nt">:inputValue.sync</span><span class="s">=&#34;record.createdAt&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;datePicker&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">date-getter</span><span class="p">&gt;</span><span class="o">&lt;</span><span class="err">/date-getter&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Tabs</span> <span class="nt">:data-source</span><span class="s">=&#34;recordTypeList&#34;</span>
          <span class="nt">:type.sync</span><span class="s">=&#34;record.type&#34;</span>
          <span class="na">class</span><span class="o">=</span><span class="s">&#34;fuckAnt-tabs&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Numpad</span> <span class="nt">:amount.sync</span><span class="s">=&#34;record.amount&#34;</span>
            <span class="nt">@submit</span><span class="s">=&#34;submit&#34;</span>
            <span class="nt">@update:deselectTags</span><span class="s">=&#34;deselectTags&#34;</span>
            <span class="nt">@checkZero</span><span class="s">=&#34;alertInform(&#39;case3&#39;)&#34;</span>
            <span class="nt">:is-reset</span><span class="s">=&#34;checkoutResult&#34;</span><span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">Layout</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
<span class="c1">// 框架组件
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">Numpad</span> <span class="nx">from</span> <span class="s1">&#39;@/components/Money/Numpad.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="cm">/*Vue*/</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue-property-decorator&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">NavigationGuardNext</span><span class="p">,</span> <span class="nx">Route</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue-router&#39;</span><span class="p">;</span>
<span class="c1">// 页面模块组件
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">HeaderBar</span> <span class="nx">from</span> <span class="s1">&#39;@/components/HeaderBar.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">Tags</span> <span class="nx">from</span> <span class="s1">&#39;@/components/Money/Tags.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">FormItem</span> <span class="nx">from</span> <span class="s1">&#39;@/components/Money/FormItem.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">Tabs</span> <span class="nx">from</span> <span class="s1">&#39;@/components/Tabs.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">DateGetter</span> <span class="nx">from</span> <span class="s1">&#39;@/components/Money/DateGetter.vue&#39;</span><span class="p">;</span>
<span class="c1">// 数据
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">recordTypeList</span> <span class="nx">from</span> <span class="s1">&#39;@/constants/recordTypeList.ts&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span><span class="nx">HeaderBar</span><span class="p">,</span> <span class="nx">Tabs</span><span class="p">,</span> <span class="nx">FormItem</span><span class="p">,</span> <span class="nx">Tags</span><span class="p">,</span> <span class="nx">Numpad</span><span class="p">,</span> <span class="nx">DateGetter</span><span class="p">},</span>
  <span class="c1">// 路由守卫放在@Component选项中
</span><span class="c1"></span>  <span class="nx">beforeRouteEnter</span><span class="p">(</span><span class="nx">to</span><span class="o">:</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">from</span><span class="o">:</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">next</span><span class="o">:</span> <span class="nx">NavigationGuardNext</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeRouteEnter&#39;</span><span class="p">);</span>
    <span class="nx">next</span><span class="p">(</span><span class="nx">vm</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="c1">// 通过 `vm` 访问组件实例 代替this
</span><span class="c1"></span>      <span class="nx">vm</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;loadMoneySessionStore&#39;</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="nx">next</span><span class="p">()</span>
  <span class="p">},</span>
  <span class="nx">beforeRouteLeave</span><span class="p">(</span><span class="nx">to</span><span class="o">:</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">from</span><span class="o">:</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">next</span><span class="o">:</span> <span class="nx">NavigationGuardNext</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeRouteLeave&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;saveMoneySessionStore&#39;</span><span class="p">);</span>
    <span class="nx">next</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">Money</span> <span class="kr">extends</span> <span class="nx">Vue</span> <span class="p">{</span>
  <span class="c1">// data
</span><span class="c1"></span>  <span class="nx">record</span><span class="o">:</span> <span class="nx">RecordItem</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">tags</span><span class="o">:</span> <span class="p">[],</span>
    <span class="nx">tips</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span>
    <span class="nx">amount</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">createdAt</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">(),</span>
  <span class="p">};</span>
  <span class="nx">recordTypeList</span> <span class="o">=</span> <span class="nx">recordTypeList</span><span class="p">;</span>
  <span class="nx">checkoutResult</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="nx">emptyTags</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="c1">// computed
</span><span class="c1"></span>  <span class="nx">get</span> <span class="nx">recordList</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">recordStore</span><span class="p">.</span><span class="nx">recordList</span> <span class="nx">as</span> <span class="nx">RecordItem</span><span class="p">[];</span>
  <span class="p">}</span>

  <span class="c1">// methods
</span><span class="c1"></span>  <span class="nx">pickTags</span><span class="p">(</span><span class="nx">selectedTags</span><span class="o">:</span> <span class="nx">Tag</span><span class="p">[])</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emptyTags</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">record</span><span class="p">.</span><span class="nx">tags</span> <span class="o">=</span> <span class="nx">selectedTags</span><span class="p">;</span>
    <span class="c1">// 页面暂存 selectedTags
</span><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;updateTagsList&#39;</span><span class="p">,</span> <span class="nx">selectedTags</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">deselectTags</span><span class="p">(</span><span class="nx">deselect</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span> <span class="p">{...}</span>
  <span class="nx">checkoutRecord</span><span class="p">()</span> <span class="p">{...}</span>
  <span class="nx">alertInform</span><span class="p">(</span><span class="nx">caseName</span><span class="o">:</span> <span class="s1">&#39;case1&#39;</span> <span class="o">|</span> <span class="s1">&#39;case2&#39;</span> <span class="o">|</span> <span class="s1">&#39;case3&#39;</span><span class="p">)</span> <span class="p">{...}</span>
  <span class="nx">saveRecord</span><span class="p">()</span> <span class="p">{...}</span>
  <span class="nx">reset</span><span class="p">()</span> <span class="p">{...}</span>
  <span class="nx">submit</span><span class="p">()</span> <span class="p">{...}</span>

<span class="p">}</span>

<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">style</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;scss&#34;</span> <span class="na">scoped</span><span class="p">&gt;</span>
<span class="p">...</span>
<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><ul>
<li>查看<a href="https://note.youdao.com/"><code>&lt;input type=&quot;datetime-local&quot;&gt; MDN</code></a>兼容性</li>
<li>检查<code>{{record.createdAt}}</code>显示为<code>202X-XX-XXTXX:XX:XX.***Z</code>
<ul>
<li>去掉毫秒部分<code>.***Z</code>之后的值传给<code>input</code>的<code>value</code>就可以正常显示日期了</li>
<li>格式化<code>dayjs(isoString).format('YYYY-MM-DDTHH:mm:ss')</code></li>
<li>精确日期到分钟<code>.format('YYYY-MM-DDTHH:mm')</code></li>
</ul>
</li>
<li>只要日期部分，改用<code>&lt;input type=&quot;date&quot;&gt; MDN</code></li>
</ul>
<hr>
<h3 id="使用vue-charts的官方封装">使用<code>vue-charts</code>的官方封装</h3>
<blockquote>
<p>安装<code>echarts@4.8.0</code>、<code>vue-echarts@4.1.0</code>和<code>@types/echarts</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn add echarts@4.8.0 vue-echarts@4.1.0 @types/echarts
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>引入</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
<span class="kr">import</span> <span class="nx">ECharts</span> <span class="nx">from</span> <span class="s1">&#39;vue-echarts&#39;</span>

<span class="c1">// 引入 ECharts 各模块来减小打包体积
</span><span class="c1"></span><span class="kr">import</span> <span class="s1">&#39;echarts/lib/chart/bar&#39;</span>
<span class="kr">import</span> <span class="s1">&#39;echarts/lib/component/tooltip&#39;</span>
<span class="p">...</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>由于<code>vue-echarts</code>无TS类型声明，改用<code>const ECharts = require('vue-echarts').default;</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// echarts
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">ECharts</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;vue-echarts&#39;</span><span class="p">).</span><span class="k">default</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;echarts/lib/component/tooltip&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;echarts/lib/chart/line&#39;</span><span class="p">;</span>
<span class="p">...</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>配置<code>Vue CLI 3+</code> 在 <code>vue.config.js</code> 中的 <code>transpileDependencies</code> 增加 <code>vue-echarts</code> 及 <code>resize-detector</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// vue.config.js
</span><span class="c1"></span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">transpileDependencies</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">&#39;vue-echarts&#39;</span><span class="p">,</span>
    <span class="s1">&#39;resize-detector&#39;</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>参考<a href="https://github.com/ecomfe/vue-echarts/blob/5.x/README.zh_CN.md"><code>vue-echarts@4.1.0</code>旧版文档</a></li>
</ul>
<hr>
<h4 id="抄一个示例">抄一个示例</h4>
<blockquote>
<p><code>./src/view/Statistics.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="c1">// ...
</span><span class="c1"></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
<span class="c1">// basic
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue-property-decorator&#39;</span><span class="p">;</span>
<span class="c1">// vendor
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">dayjs</span> <span class="nx">from</span> <span class="s1">&#39;dayjs&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;dayjs/locale/zh-cn&#39;</span><span class="p">;</span>
<span class="nx">dayjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">(</span><span class="s1">&#39;zh-cn&#39;</span><span class="p">);</span>
<span class="c1">// utils
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">clone</span> <span class="nx">from</span> <span class="s1">&#39;@/lib/clone.ts&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">clearJetLag</span> <span class="nx">from</span> <span class="s1">&#39;@/lib/clearJetLag&#39;</span><span class="p">;</span>
<span class="c1">// components
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">Tabs</span> <span class="nx">from</span> <span class="s1">&#39;@/components/Tabs.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">HeaderBar</span> <span class="nx">from</span> <span class="s1">&#39;@/components/HeaderBar.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">recordTypeList</span> <span class="nx">from</span> <span class="s1">&#39;@/constants/recordTypeList.ts&#39;</span><span class="p">;</span>
<span class="c1">// echarts
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">ECharts</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;vue-echarts&#39;</span><span class="p">).</span><span class="k">default</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;echarts/lib/chart/line&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;echarts/lib/component/tooltip&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span><span class="nx">HeaderBar</span><span class="p">,</span> <span class="nx">Tabs</span><span class="p">,</span> <span class="nx">ECharts</span><span class="p">},</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">Statistics</span> <span class="kr">extends</span> <span class="nx">Vue</span> <span class="p">{</span>
  <span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">;</span>
  <span class="nx">recordTypeList</span> <span class="o">=</span> <span class="nx">recordTypeList</span><span class="p">;</span>

  <span class="nx">beforeCreate</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;fetchRecords&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">get</span> <span class="nx">showEChart</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span>
        <span class="nx">data</span><span class="o">:</span> <span class="p">[</span>
          <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">,</span> <span class="s1">&#39;Sun&#39;</span><span class="p">,</span>
          <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">,</span> <span class="s1">&#39;Sun&#39;</span><span class="p">,</span>
          <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">,</span> <span class="s1">&#39;Sun&#39;</span><span class="p">,</span>
          <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">,</span> <span class="s1">&#39;Sun&#39;</span><span class="p">,</span>
          <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span>
      <span class="p">},</span>
      <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">triggeron</span><span class="o">:</span> <span class="s1">&#39;click&#39;</span>
      <span class="p">},</span>
      <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
        <span class="nx">data</span><span class="o">:</span> <span class="p">[</span>
          <span class="mi">820</span><span class="p">,</span> <span class="mi">932</span><span class="p">,</span> <span class="mi">901</span><span class="p">,</span> <span class="mi">934</span><span class="p">,</span> <span class="mi">1290</span><span class="p">,</span> <span class="mi">1330</span><span class="p">,</span> <span class="mi">1320</span><span class="p">,</span>
          <span class="mi">820</span><span class="p">,</span> <span class="mi">932</span><span class="p">,</span> <span class="mi">901</span><span class="p">,</span> <span class="mi">934</span><span class="p">,</span> <span class="mi">1290</span><span class="p">,</span> <span class="mi">1330</span><span class="p">,</span> <span class="mi">1320</span><span class="p">,</span>
          <span class="mi">820</span><span class="p">,</span> <span class="mi">932</span><span class="p">,</span> <span class="mi">901</span><span class="p">,</span> <span class="mi">934</span><span class="p">,</span> <span class="mi">1290</span><span class="p">,</span> <span class="mi">1330</span><span class="p">,</span> <span class="mi">1320</span><span class="p">,</span>
          <span class="mi">820</span><span class="p">,</span> <span class="mi">932</span><span class="p">,</span> <span class="mi">901</span><span class="p">,</span> <span class="mi">934</span><span class="p">,</span> <span class="mi">1290</span><span class="p">,</span> <span class="mi">1330</span><span class="p">,</span> <span class="mi">1320</span><span class="p">,</span>
          <span class="mi">820</span><span class="p">,</span> <span class="mi">932</span>
        <span class="p">],</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;line&#39;</span><span class="p">,</span>
        <span class="nx">showBackground</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">}],</span>
      <span class="nx">animationDuration</span><span class="o">:</span> <span class="mi">888</span>
    <span class="p">};</span>

  <span class="p">}</span>

  <span class="nx">get</span> <span class="nx">recordList</span><span class="p">()</span> <span class="p">{...}</span>
  <span class="nx">get</span> <span class="nx">groupedList</span><span class="p">()</span> <span class="p">{...}</span>
  <span class="nx">tagToString</span><span class="p">(</span><span class="nx">tags</span><span class="o">:</span> <span class="nx">Tag</span><span class="p">[])</span> <span class="p">{...}</span>
  <span class="nx">showDay</span><span class="p">(</span><span class="nx">someday</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{...}</span>

<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>使用封装好的组件<code>&lt;ECharts :options=&quot;showEChart&quot;/&gt;</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Layout</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;statistics&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">HeaderBar</span> <span class="nt">:header-title</span><span class="s">=&#34;&#39;统计&#39;&#34;</span> <span class="na">router</span><span class="nt">-path</span><span class="err">=&#34;/</span><span class="na">money</span><span class="err">&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">HeaderBar</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Tabs</span> <span class="na">class</span><span class="nt">-prefix</span><span class="err">=&#34;</span><span class="na">type</span><span class="err">&#34;</span> <span class="nt">:data-source</span><span class="s">=&#34;recordTypeList&#34;</span> <span class="nt">:type.sync</span><span class="s">=&#34;type&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">ECharts</span> <span class="nt">:options</span><span class="s">=&#34;showEChart&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">ol</span> <span class="nt">v-if</span><span class="s">=&#34;groupedList.length &gt; 0&#34;&gt;
</span><span class="s">      &lt;li v-for=&#34;(group, index) in groupedList&#34; </span><span class="nt">:key</span><span class="s">=&#34;index&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;{{</span> <span class="nx">showDay</span><span class="p">(</span><span class="nx">group</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span> <span class="p">}}</span> <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="nx">共计</span><span class="err">：</span> <span class="err">￥</span><span class="p">{{</span> <span class="nx">group</span><span class="p">.</span><span class="nx">total</span> <span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;record&#34;</span> <span class="nt">v-for</span><span class="s">=&#34;item in group.items&#34; :key=&#34;item.id&#34;&gt;
</span><span class="s">            &lt;span class=&#34;recordTag&#34;&gt;{{ tagToString(item.tags) }}&lt;/span&gt;
</span><span class="s">            &lt;div class=&#34;notes&#34;&gt;
</span><span class="s">              &lt;span class=&#34;tips&#34;&gt;备注：&lt;/span&gt;&lt;span class=&#34;text&#34;&gt;{{ item.tips }}&lt;/span&gt;
</span><span class="s">            &lt;/div&gt;
</span><span class="s">            &lt;span&gt;￥ {{ item.amount }}&lt;/span&gt;
</span><span class="s">          &lt;/li&gt;
</span><span class="s">        &lt;/ol&gt;
</span><span class="s">      &lt;/li&gt;
</span><span class="s">    &lt;/ol&gt;
</span><span class="s">    &lt;div v-else class=&#34;noResult&#34;</span><span class="p">&gt;</span>
      <span class="na">目前没有相关记录</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">Layout</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><h4 id="调整样式">调整样式</h4>
<blockquote>
<p>在外部包裹一层<code>div</code>，加上<code>echarts-wrapper</code>样式</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">...</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;echarts-wrapper&#34;</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;vChartWrapper&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ECharts</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;echarts&#34;</span> <span class="nt">:options</span><span class="s">=&#34;showEChart&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">...</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="nc">.echarts</span> <span class="p">{</span>
    <span class="na">margin</span><span class="o">:</span> <span class="mi">0</span> <span class="ni">auto</span><span class="p">;</span>
    <span class="na">max-width</span><span class="o">:</span> <span class="mi">80</span><span class="kt">%</span><span class="p">;</span>
      <span class="na">height</span><span class="o">:</span> <span class="mi">400</span><span class="kt">px</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>拉长图表，可滚动显示</p>
</blockquote>
<ul>
<li>父元素加上<code>overflow: auto;</code> 可滚动</li>
<li>计算一屏显示7个数据 <code>30 / 7</code> -&gt; <code>4---3</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="c1">// ...
</span><span class="c1"></span>    <span class="nc">.echarts</span> <span class="p">{</span>
      <span class="na">margin</span><span class="o">:</span> <span class="mi">0</span> <span class="ni">auto</span><span class="p">;</span>
      <span class="na">width</span><span class="o">:</span> <span class="mi">430</span><span class="kt">%</span><span class="p">;</span>
      <span class="na">height</span><span class="o">:</span> <span class="mi">180</span><span class="kt">px</span><span class="p">;</span>

      <span class="k">&amp;</span><span class="o">-</span><span class="nt">wrapper</span> <span class="p">{</span>
        <span class="na">overflow</span><span class="o">:</span> <span class="ni">auto</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
<span class="c1">// ...
</span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>隐藏滚动条</p>
</blockquote>
<ul>
<li>使用伪类选择器 <strong><code>::-webkit-scrollbar {display: none;}</code></strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="k">@import</span> <span class="s2">&#34;~@/assets/style/global.scss&#34;</span><span class="p">;</span>

<span class="o">%</span><span class="nc">sticky</span> <span class="p">{</span>
  <span class="na">position</span><span class="o">:</span> <span class="ni">sticky</span><span class="p">;</span>
  <span class="na">z-index</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.statistics</span> <span class="p">{</span>
  <span class="na">max-width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>

  <span class="nd">::-webkit-scrollbar</span> <span class="p">{</span>
    <span class="na">display</span><span class="o">:</span> <span class="ni">none</span><span class="p">;</span> <span class="cm">/* Chrome Safari */</span>
  <span class="p">}</span>

  <span class="na">scroll-behavior</span><span class="o">:</span> <span class="ni">smooth</span><span class="p">;</span>
  <span class="nc">...</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>实现滚动到最新数据</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div><hr>
<blockquote>
<p>参考</p>
</blockquote>
<p><a href="https://www.codeleading.com/article/80172487941/">https://www.codeleading.com/article/80172487941/</a> | vue设置scrollLeft 一直为0的原因 - 代码先锋网
<a href="https://www.geek-share.com/detail/2789848542.html">https://www.geek-share.com/detail/2789848542.html</a> | vue设置scrollLeft 一直为0的原因 - 极客分享
<a href="https://www.jc2182.com/javascript/javascript-element-scrollleft-attr.html">https://www.jc2182.com/javascript/javascript-element-scrollleft-attr.html</a> | JavaScript Element scrollLeft 属性 - 蝴蝶教程
<a href="https://blog.csdn.net/a393007511/article/details/103026943">https://blog.csdn.net/a393007511/article/details/103026943</a> | vue设置scrollLeft 一直为0的原因_a393007511的博客-CSDN博客
<a href="https://www.codenong.com/js3a2317be4a44/">https://www.codenong.com/js3a2317be4a44/</a> | vue绑定scroll-top、scroll-left属性 | 码农家园
<a href="https://codepen.io/Jayesh_v/pen/oMgwRO">https://codepen.io/Jayesh_v/pen/oMgwRO</a> | VueJs Scroll Horizontally
<a href="https://www.programmersought.com/article/1465747270/">https://www.programmersought.com/article/1465747270/</a> | The VUE acquires the scroll bar position of the element or component according to the ref. - Programmer Sought
<a href="https://js.devexpress.com/Documentation/ApiReference/UI_Components/dxScrollView/Methods/">https://js.devexpress.com/Documentation/ApiReference/UI_Components/dxScrollView/Methods/</a> | Documentation 21.1: DevExtreme - JavaScript Scroll View Methods
<a href="https://stackoverflow.com/questions/51222035/horizontal-scroll-using-buttons-in-vuejs">https://stackoverflow.com/questions/51222035/horizontal-scroll-using-buttons-in-vuejs</a> | javascript - Horizontal Scroll Using Buttons in VueJS - Stack Overflow
<a href="https://forum.vuejs.org/t/help-with-scrollleft-interactions/3209">https://forum.vuejs.org/t/help-with-scrollleft-interactions/3209</a> | Help with scrollLeft interactions - Get Help - Vue Forum
<a href="https://www.cnblogs.com/liAnran/p/12069953.html">https://www.cnblogs.com/liAnran/p/12069953.html</a> | vue 横向滚动样式&amp;&amp;$ref.scrollLeft初始化数据滚动位置 - liAnran - 博客园
<a href="https://segmentfault.com/q/1010000016689396">https://segmentfault.com/q/1010000016689396</a> | vue关于设置scrollLeft值问题 - SegmentFault 思否
<a href="https://blog.csdn.net/qq_39224266/article/details/107958068">https://blog.csdn.net/qq_39224266/article/details/107958068</a> | vue 中横向滚动设置scrollLeft，并且加上过渡动画_小白阿里里的博客-CSDN博客
<a href="https://my.oschina.net/u/4405061/blog/3326999">https://my.oschina.net/u/4405061/blog/3326999</a> | vue 横向滚动样式&amp;&amp;$ref.scrollLeft初始化数据滚动位置 - osc_ozlday8e的个人空间 - OSCHINA - 中文开源技术交流社区
<a href="https://github.com/metawin-m/vue-scroll-sync/blob/master/src/ScrollSync.vue">https://github.com/metawin-m/vue-scroll-sync/blob/master/src/ScrollSync.vue</a> | vue-scroll-sync/ScrollSync.vue at master · metawin-m/vue-scroll-sync
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetLeft">https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetLeft</a> | HTMLElement.offsetLeft - Web API 接口参考 | MDN
<a href="https://blog.csdn.net/qq_22222499/article/details/52863951">https://blog.csdn.net/qq_22222499/article/details/52863951</a> | 完美理解csss中offsetLeft，offsetWidth，scrollLeft区别。_csdn问鼎-CSDN博客
<a href="https://blog.csdn.net/qq_43353619/article/details/86703253">https://blog.csdn.net/qq_43353619/article/details/86703253</a> | JS中的offsetLeft和clientLeft和scrollLeft的一些区别_小傲哥哥的博客-CSDN博客
<a href="https://stackoverflow.com/questions/18498652/scrollleft-to-end-of-main-div-not-offset-left">https://stackoverflow.com/questions/18498652/scrollleft-to-end-of-main-div-not-offset-left</a> | javascript - scrollLeft: to END OF MAIN DIV not offset().left - Stack Overflow
<a href="https://github.com/pramper/blog/issues/10">https://github.com/pramper/blog/issues/10</a> | 一张图彻底掌握scrollTop, offsetTop, scrollLeft, offsetLeft&hellip;&hellip; · Issue #10 · pramper/Blog
<a href="https://juejin.cn/post/6844903443383975949">https://juejin.cn/post/6844903443383975949</a> | 一张图彻底掌握 scrollTop, offsetTop, scrollLeft, offsetLeft&hellip;&hellip;
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollLeft">https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollLeft</a> | Element.scrollLeft - Web API 接口参考 | MDN
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame">https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame</a> | window.requestAnimationFrame - Web API 接口参考 | MDN
<a href="https://stackoverflow.com/questions/41205139/javascript-element-scrollleft-not-working">https://stackoverflow.com/questions/41205139/javascript-element-scrollleft-not-working</a> | scroll - javascript element.scrollLeft not working - Stack Overflow
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/scroll">https://developer.mozilla.org/zh-CN/docs/Web/API/Window/scroll</a> | Window.scroll() - Web API 接口参考 | MDN
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/ScrollToOptions">https://developer.mozilla.org/zh-CN/docs/Web/API/ScrollToOptions</a> | ScrollToOptions - Web API 接口参考 | MDN
<a href="https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions#examples">https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions#examples</a> | ScrollToOptions - Web APIs | MDN
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollBy">https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollBy</a> | Element.scrollBy() - Web API 接口参考 | MDN</p>
<hr>
<h3 id="自己封装echarts">自己封装<code>echarts</code></h3>
<blockquote>
<p><code>./src/components/Chart.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="nx">Chart</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
<span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,}</span> <span class="nx">from</span> <span class="s1">&#39;vue-property-decorator&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span>
<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">Chart</span> <span class="kr">extends</span> <span class="nx">Vue</span> <span class="p">{</span>
  <span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;Chart&#39;</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">style</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;scss&#34;</span> <span class="na">scoped</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>import Chart from '@/components/Statistics/Chart.vue'</code>中会报错的情况
<ul>
<li><code>&lt;script lang=&quot;ts&quot;&gt;</code>中不写TS</li>
<li><code>'@/components/Statistics/Chart.vue'</code>路径中没写<code>.vue</code></li>
</ul>
</li>
</ul>
<hr>
<blockquote>
<p><code>./src/view/Statistics.vue</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">Layout</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;statistics&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">HeaderBar</span> <span class="nt">:header-title</span><span class="s">=&#34;&#39;统计&#39;&#34;</span> <span class="na">router</span><span class="nt">-path</span><span class="err">=&#34;/</span><span class="na">money</span><span class="err">&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">HeaderBar</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Tabs</span> <span class="na">class</span><span class="nt">-prefix</span><span class="err">=&#34;</span><span class="na">type</span><span class="err">&#34;</span> <span class="nt">:data-source</span><span class="s">=&#34;recordTypeList&#34;</span> <span class="nt">:type.sync</span><span class="s">=&#34;type&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;echarts-wrapper&#34;</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;vChartWrapper&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ECharts</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;echarts&#34;</span> <span class="nt">:options</span><span class="s">=&#34;myChartOption&#34;</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;vChartContent&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ol</span> <span class="nt">v-if</span><span class="s">=&#34;groupedList.length &gt; 0&#34;&gt;
</span><span class="s">      &lt;li v-for=&#34;(group, index) in groupedList&#34; :key=&#34;index&#34;&gt;
</span><span class="s">        &lt;h3 class=&#34;title&#34;&gt;{{ showDay(group.title) }} &lt;span&gt;共计： ￥{{ group.total }}&lt;/span&gt;&lt;/h3&gt;
</span><span class="s">        &lt;ol&gt;
</span><span class="s">          &lt;li class=&#34;record&#34; v-for=&#34;{amount, id, tags, tips} in group.items&#34; </span><span class="nt">:key</span><span class="s">=&#34;id&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;recordTag&#34;</span><span class="p">&gt;{{</span> <span class="nx">tagToString</span><span class="p">(</span><span class="nx">tags</span><span class="p">)</span> <span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;notes&#34;</span><span class="p">&gt;</span>
              <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;tips&#34;</span><span class="p">&gt;</span><span class="nx">备注</span><span class="err">：</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;text&#34;</span><span class="p">&gt;{{</span> <span class="nx">tips</span> <span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span><span class="err">￥</span> <span class="p">{{</span> <span class="nx">amount</span> <span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">v</span><span class="nt">-else</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;noResult&#34;</span><span class="p">&gt;</span>
      <span class="nx">目前没有相关记录</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">Layout</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
<span class="c1">// basic
</span><span class="c1"></span><span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">Vue</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue-property-decorator&#39;</span><span class="p">;</span>
<span class="c1">// vendor
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">dayjs</span> <span class="nx">from</span> <span class="s1">&#39;dayjs&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;dayjs/locale/zh-cn&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">_</span> <span class="nx">from</span> <span class="s1">&#39;lodash&#39;</span><span class="p">;</span>

<span class="nx">dayjs</span><span class="p">.</span><span class="nx">locale</span><span class="p">(</span><span class="s1">&#39;zh-cn&#39;</span><span class="p">);</span>
<span class="c1">// utils
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">clone</span> <span class="nx">from</span> <span class="s1">&#39;@/lib/clone.ts&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">clearJetLag</span> <span class="nx">from</span> <span class="s1">&#39;@/lib/clearJetLag&#39;</span><span class="p">;</span>
<span class="c1">// components
</span><span class="c1"></span><span class="kr">import</span> <span class="nx">Tabs</span> <span class="nx">from</span> <span class="s1">&#39;@/components/Tabs.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">HeaderBar</span> <span class="nx">from</span> <span class="s1">&#39;@/components/HeaderBar.vue&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">recordTypeList</span> <span class="nx">from</span> <span class="s1">&#39;@/constants/recordTypeList.ts&#39;</span><span class="p">;</span>

<span class="c1">// echarts
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">ECharts</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;vue-echarts&#39;</span><span class="p">).</span><span class="k">default</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;echarts/lib/chart/line&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="s1">&#39;echarts/lib/component/tooltip&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">getClientWidth</span> <span class="nx">from</span> <span class="s1">&#39;@/lib/getClientWidth.ts&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span><span class="nx">HeaderBar</span><span class="p">,</span> <span class="nx">Tabs</span><span class="p">,</span> <span class="nx">ECharts</span><span class="p">}</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">Statistics</span> <span class="kr">extends</span> <span class="nx">Vue</span> <span class="p">{</span>
  <span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="p">;</span>
  <span class="nx">recordTypeList</span> <span class="o">=</span> <span class="nx">recordTypeList</span><span class="p">;</span>
  <span class="nx">client</span> <span class="o">=</span> <span class="nx">getClientWidth</span><span class="p">();</span>

  <span class="nx">get</span> <span class="nx">triggerMethod</span><span class="p">()</span><span class="o">:</span> <span class="s1">&#39;click&#39;</span> <span class="o">|</span> <span class="s1">&#39;mousemove&#39;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">===</span> <span class="s1">&#39;mobile&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;click&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">===</span> <span class="s1">&#39;PC&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;mousemove&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">&#39;click&#39;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">get</span> <span class="nx">chartDataKeyValueList</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// 排序桶
</span><span class="c1"></span>    <span class="c1">// 原数据按录入的顺序排列，数据先要排序，按时间排序
</span><span class="c1"></span>    <span class="c1">// 显示最多 31 天的数据， 获取 最近 31天的日期
</span><span class="c1"></span>    <span class="c1">// key为日期， value为当天总计金额
</span><span class="c1"></span>    <span class="c1">// lastDay - i * 24 * 3600 * 1000 得到每天的日期
</span><span class="c1"></span>    <span class="c1">// 等价于 day(lastDay).subtract(i, &#39;day&#39;) 每次减去一天
</span><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">30</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">everyLastDateString</span> <span class="o">=</span> <span class="nx">dayjs</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">subtract</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">)</span> <span class="c1">// 每次减去一天
</span><span class="c1"></span>        <span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="p">);</span> <span class="c1">// 格式化
</span><span class="c1"></span>      <span class="c1">// 找到 在 recordList 中， 每项日期对应的记录
</span><span class="c1"></span>      <span class="kr">const</span> <span class="nx">foundRecord</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">groupedList</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">title</span><span class="o">:</span> <span class="nx">everyLastDateString</span>
      <span class="p">});</span>
      <span class="c1">// foundRecord?.amount 相当于 foundRecord ? foundRecord.amount: 0
</span><span class="c1"></span>      <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
        <span class="p">{</span>
          <span class="nx">key</span><span class="o">:</span> <span class="nx">everyLastDateString</span><span class="p">,</span>
          <span class="nx">value</span><span class="o">:</span> <span class="nx">foundRecord</span><span class="o">?</span><span class="p">.</span><span class="nx">total</span> <span class="o">||</span> <span class="mi">0</span>
        <span class="p">}</span>
      <span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">// 图表的数据
</span><span class="c1"></span>    <span class="nx">array</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">groupedList</span>
      <span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">record</span> <span class="p">=&gt;</span> <span class="nx">_</span><span class="p">.</span><span class="nx">pick</span><span class="p">(</span><span class="nx">record</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;createdAt&#39;</span><span class="p">,</span> <span class="s1">&#39;amount&#39;</span><span class="p">]));</span>
    <span class="k">return</span> <span class="nx">array</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">get</span> <span class="nx">myChartOption</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">keys</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">chartDataKeyValueList</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">key</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">values</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">chartDataKeyValueList</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">keys</span><span class="p">,</span>
        <span class="nx">axisTick</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">alignWithLabel</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="nx">axisLine</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">lineStyle</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#666&#39;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">axisLabel</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">formatter</span><span class="o">:</span> <span class="p">(</span><span class="nx">value</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">value</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
        <span class="nx">show</span><span class="o">:</span> <span class="kc">false</span>
      <span class="p">},</span>
      <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">triggeron</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">triggerMethod</span><span class="p">,</span>
        <span class="nx">confine</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">position</span><span class="o">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
        <span class="nx">formatter</span><span class="o">:</span> <span class="s1">&#39;{c}&#39;</span>
      <span class="p">},</span>
      <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
        <span class="nx">symbol</span><span class="o">:</span> <span class="s1">&#39;circle&#39;</span><span class="p">,</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">values</span><span class="p">,</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;line&#39;</span><span class="p">,</span>
        <span class="nx">itemStyle</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">borderWidth</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="nx">borderColor</span><span class="o">:</span> <span class="s1">&#39;#aaa&#39;</span><span class="p">,</span>
          <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#666&#39;</span>
        <span class="p">},</span>
        <span class="nx">symbolSize</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span>
        <span class="nx">showBackground</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">}],</span>
      <span class="nx">animationDuration</span><span class="o">:</span> <span class="mi">888</span><span class="p">,</span>
      <span class="nx">grid</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">left</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nx">right</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">top</span><span class="o">:</span> <span class="mi">8</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// 读取 记录列表 // computed
</span><span class="c1"></span>  <span class="nx">get</span> <span class="nx">recordList</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 包括 支出和收入
</span><span class="c1"></span>    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">recordList</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// 计算 分组列表 分为 支出/收入
</span><span class="c1"></span>  <span class="nx">get</span> <span class="nx">groupedList</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">{</span><span class="nx">recordList</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="c1">// newList: { tags: Tag[]; tips: string; type: string; amount: number; createdAt: string; }[]
</span><span class="c1"></span>    <span class="kr">const</span> <span class="nx">newList</span> <span class="o">=</span> <span class="nx">clone</span><span class="p">(</span><span class="nx">recordList</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">r</span><span class="o">:</span> <span class="nx">RecordItem</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">r</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="c1">// 按 支出/收入 type: &#39;-&#39; || &#39;+&#39;
</span><span class="c1"></span>      <span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="o">:</span> <span class="nx">RecordItem</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="nx">RecordItem</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span>
        <span class="nx">dayjs</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">createdAt</span><span class="p">).</span><span class="nx">valueOf</span><span class="p">()</span> <span class="o">-</span> <span class="nx">dayjs</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">createdAt</span><span class="p">).</span><span class="nx">valueOf</span><span class="p">()</span>
      <span class="p">));</span>
    <span class="c1">// newList ?[] return
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">newList</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="p">[]</span> <span class="nx">as</span> <span class="nx">GroupedType</span><span class="p">[];}</span>
    <span class="c1">// 排序后的第一项 newList[0] 处理后 作为初始项
</span><span class="c1"></span>    <span class="kr">const</span> <span class="nx">result</span><span class="o">:</span> <span class="nx">GroupedType</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[{</span>
      <span class="nx">title</span><span class="o">:</span> <span class="nx">dayjs</span><span class="p">(</span><span class="nx">newList</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">createdAt</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="p">),</span>
      <span class="nx">items</span><span class="o">:</span> <span class="p">[</span><span class="nx">newList</span><span class="p">[</span><span class="mi">0</span><span class="p">],]</span>
    <span class="p">}];</span>

    <span class="c1">// 判断 newList[i] 从第二项开始的每一项的 title: &#39;20XX-XX-XX&#39;  是否符合当前 分组项
</span><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">newList</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">newList</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="c1">// 当前项
</span><span class="c1"></span>      <span class="kr">const</span> <span class="nx">lastGroupItem</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="nx">result</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="c1">// 分组数据的最后一项
</span><span class="c1"></span>      <span class="kr">const</span> <span class="nx">localDay</span> <span class="o">=</span> <span class="nx">dayjs</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">createdAt</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">dayjs</span><span class="p">(</span><span class="nx">lastGroupItem</span><span class="p">.</span><span class="nx">title</span><span class="p">).</span><span class="nx">isSame</span><span class="p">(</span><span class="nx">localDay</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">lastGroupItem</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">current</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
          <span class="nx">title</span><span class="o">:</span> <span class="nx">localDay</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="p">),</span>
          <span class="nx">items</span><span class="o">:</span> <span class="p">[</span><span class="nx">current</span><span class="p">]</span>
        <span class="p">});</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// 为 result.group 添加 计算总额 group.total 属性
</span><span class="c1"></span>    <span class="c1">// result.group.items: { tags: Tag[]; tips: string; type: string; amount: number; createdAt: string; }[]
</span><span class="c1"></span>    <span class="nx">result</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">group</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">group</span><span class="p">.</span><span class="nx">total</span> <span class="o">=</span> <span class="nx">group</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">sum</span> <span class="o">+</span> <span class="nx">item</span><span class="p">.</span><span class="nx">amount</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">get</span> <span class="nx">tempResult</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">groupedList</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">switchTriggerMethod</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">.</span><span class="nx">myChartOption</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">&#39;test tempResult&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// 显示项目 title 标签组合
</span><span class="c1"></span>  <span class="nx">tagToString</span><span class="p">(</span><span class="nx">tags</span><span class="o">:</span> <span class="nx">Tag</span><span class="p">[])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">tags</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="s1">&#39;无&#39;</span> <span class="o">:</span> <span class="nx">tags</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">tag</span> <span class="p">=&gt;</span> <span class="nx">tag</span><span class="p">.</span><span class="nx">name</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;、&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// 显示标题为 日期分组
</span><span class="c1"></span>  <span class="cm">/**
</span><span class="cm">   * @param {string} someday: from group.title YY-MM-DD
</span><span class="cm">   * @return {string} formattedDate:
</span><span class="cm">   */</span>
  <span class="nx">showDay</span><span class="p">(</span><span class="nx">someday</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">now</span> <span class="o">=</span> <span class="nx">dayjs</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">());</span>
    <span class="kr">const</span> <span class="nx">thatDay</span> <span class="o">=</span> <span class="nx">dayjs</span><span class="p">(</span><span class="nx">clearJetLag</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">someday</span><span class="p">),</span> <span class="s1">&#39;-&#39;</span><span class="p">));</span>
    <span class="kd">let</span> <span class="nx">formattedDate</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">thatDay</span><span class="p">.</span><span class="nx">isSame</span><span class="p">(</span><span class="nx">now</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">formattedDate</span> <span class="o">=</span> <span class="s1">&#39;今天&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">thatDay</span><span class="p">.</span><span class="nx">isSame</span><span class="p">(</span><span class="nx">now</span><span class="p">.</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">),</span> <span class="s1">&#39;day&#39;</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">formattedDate</span> <span class="o">=</span> <span class="s1">&#39;昨天&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">thatDay</span><span class="p">.</span><span class="nx">isSame</span><span class="p">(</span><span class="nx">now</span><span class="p">.</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">),</span> <span class="s1">&#39;day&#39;</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">formattedDate</span> <span class="o">=</span> <span class="s1">&#39;前天&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">thatDay</span><span class="p">.</span><span class="nx">isSame</span><span class="p">(</span><span class="nx">now</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">formattedDate</span> <span class="o">=</span> <span class="nx">thatDay</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;M月D日&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">formattedDate</span> <span class="o">=</span> <span class="nx">thatDay</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY年M月D日&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">formattedDate</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// hooks
</span><span class="c1"></span>  <span class="kr">protected</span> <span class="nx">beforeCreate</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;fetchRecords&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">mounted</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">echartDiv</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">vChartWrapper</span> <span class="nx">as</span> <span class="nx">HTMLDivElement</span><span class="p">);</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">echartDiv</span><span class="p">.</span><span class="nx">scrollLeft</span> <span class="o">=</span> <span class="nx">echartDiv</span><span class="p">.</span><span class="nx">scrollWidth</span><span class="p">;</span>
      <span class="nx">echartDiv</span><span class="p">.</span><span class="nx">scrollBy</span><span class="p">(</span><span class="nx">echartDiv</span><span class="p">.</span><span class="nx">scrollWidth</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">},</span> <span class="mi">800</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">tempResult</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">style</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;scss&#34;</span> <span class="na">scoped</span><span class="p">&gt;</span>
<span class="err">@</span><span class="kr">import</span> <span class="s2">&#34;~@/assets/style/global.scss&#34;</span><span class="p">;</span>

<span class="o">%</span><span class="nx">sticky</span> <span class="p">{</span>
  <span class="nx">position</span><span class="o">:</span> <span class="nx">sticky</span><span class="p">;</span>
  <span class="nx">z</span><span class="o">-</span><span class="nx">index</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nx">statistics</span> <span class="p">{</span>
  <span class="nx">max</span><span class="o">-</span><span class="nx">width</span><span class="o">:</span> <span class="mi">100</span><span class="o">%</span><span class="p">;</span>

  <span class="o">::-</span><span class="nx">webkit</span><span class="o">-</span><span class="nx">scrollbar</span> <span class="p">{</span>
    <span class="nx">display</span><span class="o">:</span> <span class="nx">none</span><span class="p">;</span> <span class="cm">/* Chrome Safari */</span>
  <span class="p">}</span>

  <span class="nx">scroll</span><span class="o">-</span><span class="nx">behavior</span><span class="o">:</span> <span class="nx">smooth</span><span class="p">;</span>

  <span class="o">&amp;::</span><span class="nx">v</span><span class="o">-</span><span class="nx">deep</span> <span class="p">{</span>
    <span class="p">.</span><span class="nx">layout</span><span class="o">-</span><span class="nx">content</span> <span class="p">{</span>
      <span class="nx">display</span><span class="o">:</span> <span class="nx">flex</span><span class="p">;</span>
      <span class="nx">justify</span><span class="o">-</span><span class="nx">content</span><span class="o">:</span> <span class="nx">center</span><span class="p">;</span>
      <span class="nx">align</span><span class="o">-</span><span class="nx">items</span><span class="o">:</span> <span class="nx">center</span><span class="p">;</span>
      <span class="nx">flex</span><span class="o">-</span><span class="nx">direction</span><span class="o">:</span> <span class="nx">column</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nx">headerBar</span> <span class="p">{</span>
      <span class="err">@</span><span class="nx">extend</span> <span class="o">%</span><span class="nx">sticky</span><span class="p">;</span>
      <span class="nx">top</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>

      <span class="o">&gt;</span> <span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">icon</span> <span class="p">{</span>
        <span class="nx">transform</span><span class="o">:</span> <span class="nx">rotate3d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="nx">deg</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nx">type</span><span class="o">-</span><span class="nx">tabs</span> <span class="p">{</span>
      <span class="err">@</span><span class="nx">extend</span> <span class="o">%</span><span class="nx">sticky</span><span class="p">;</span>
      <span class="nx">top</span><span class="o">:</span> <span class="mi">50</span><span class="nx">px</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nx">echarts</span> <span class="p">{</span>
      <span class="nx">margin</span><span class="o">:</span> <span class="mi">0</span> <span class="nx">auto</span><span class="p">;</span>
      <span class="nx">width</span><span class="o">:</span> <span class="mi">430</span><span class="o">%</span><span class="p">;</span>
      <span class="nx">height</span><span class="o">:</span> <span class="mi">220</span><span class="nx">px</span><span class="p">;</span>
      <span class="nx">overflow</span><span class="o">:</span> <span class="nx">auto</span><span class="p">;</span>

      <span class="o">&amp;-</span><span class="nx">wrapper</span> <span class="p">{</span>
        <span class="nx">overflow</span><span class="o">:</span> <span class="nx">auto</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="err">@</span><span class="nx">media</span> <span class="p">(</span><span class="nx">min</span><span class="o">-</span><span class="nx">width</span><span class="o">:</span> <span class="mi">500</span><span class="nx">px</span><span class="p">)</span> <span class="p">{</span>
      <span class="p">.</span><span class="nx">echarts</span> <span class="p">{</span>
        <span class="nx">width</span><span class="o">:</span> <span class="mi">430</span><span class="o">%</span><span class="p">;</span>
        <span class="nx">height</span><span class="o">:</span> <span class="mi">220</span><span class="nx">px</span><span class="p">;</span>
        <span class="nx">overflow</span><span class="o">:</span> <span class="nx">auto</span><span class="p">;</span>

        <span class="o">&amp;-</span><span class="nx">wrapper</span> <span class="p">{</span>
          <span class="nx">overflow</span><span class="o">:</span> <span class="nx">auto</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="o">%</span><span class="nx">item</span> <span class="p">{</span>
    <span class="nx">padding</span><span class="o">:</span> <span class="mi">8</span><span class="nx">px</span> <span class="mi">16</span><span class="nx">px</span><span class="p">;</span>
    <span class="nx">line</span><span class="o">-</span><span class="nx">height</span><span class="o">:</span> <span class="mi">24</span><span class="nx">px</span><span class="p">;</span>
    <span class="c1">//min-height: 40px;
</span><span class="c1"></span>    <span class="nx">display</span><span class="o">:</span> <span class="nx">flex</span><span class="p">;</span>
    <span class="nx">justify</span><span class="o">-</span><span class="nx">content</span><span class="o">:</span> <span class="nx">space</span><span class="o">-</span><span class="nx">between</span><span class="p">;</span>
    <span class="nx">align</span><span class="o">-</span><span class="nx">items</span><span class="o">:</span> <span class="nx">center</span><span class="p">;</span>
    <span class="nx">margin</span><span class="o">-</span><span class="nx">top</span><span class="o">:</span> <span class="mi">1</span><span class="nx">px</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="p">.</span><span class="nx">title</span> <span class="p">{</span>
    <span class="err">@</span><span class="nx">extend</span> <span class="o">%</span><span class="nx">item</span><span class="p">;</span>
    <span class="nx">margin</span><span class="o">-</span><span class="nx">top</span><span class="o">:</span> <span class="mi">8</span><span class="nx">px</span><span class="p">;</span>
    <span class="nx">box</span><span class="o">-</span><span class="nx">shadow</span><span class="o">:</span> <span class="nx">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">)</span> <span class="mi">0</span> <span class="mi">3</span><span class="nx">px</span> <span class="mi">3</span><span class="nx">px</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">rgba</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span><span class="nx">px</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="p">.</span><span class="nx">record</span> <span class="p">{</span>
    <span class="nx">background</span><span class="o">:</span> <span class="err">#</span><span class="nx">fff</span><span class="p">;</span>
    <span class="err">@</span><span class="nx">extend</span> <span class="o">%</span><span class="nx">item</span><span class="p">;</span>

    <span class="p">.</span><span class="nx">recordTag</span> <span class="p">{</span>
      <span class="err">@</span><span class="nx">include</span> <span class="nx">multiline</span><span class="o">-</span><span class="nx">ellipsis</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">5</span><span class="nx">em</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="p">.</span><span class="nx">notes</span> <span class="p">{</span>
      <span class="nx">display</span><span class="o">:</span> <span class="nx">flex</span><span class="p">;</span>
      <span class="nx">margin</span><span class="o">-</span><span class="nx">right</span><span class="o">:</span> <span class="nx">auto</span><span class="p">;</span>
      <span class="nx">margin</span><span class="o">-</span><span class="nx">left</span><span class="o">:</span> <span class="mi">16</span><span class="nx">px</span><span class="p">;</span>
      <span class="nx">color</span><span class="o">:</span> <span class="err">#</span><span class="mi">999</span><span class="p">;</span>

      <span class="p">.</span><span class="nx">tips</span> <span class="p">{</span>
        <span class="err">@</span><span class="nx">include</span> <span class="nx">multiline</span><span class="o">-</span><span class="nx">ellipsis</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">3</span><span class="nx">em</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="p">.</span><span class="nx">text</span> <span class="p">{</span>
        <span class="err">@</span><span class="nx">include</span> <span class="nx">multiline</span><span class="o">-</span><span class="nx">ellipsis</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">3</span><span class="nx">em</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="p">.</span><span class="nx">noResult</span> <span class="p">{</span>
    <span class="nx">padding</span><span class="o">:</span> <span class="mi">16</span><span class="nx">px</span><span class="p">;</span>
    <span class="nx">text</span><span class="o">-</span><span class="nx">align</span><span class="o">:</span> <span class="nx">center</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">}</span>

<span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>

</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="构造数据-前端用到的算法">构造数据 前端用到的算法</h3>
<blockquote>
<p>类似桶排序</p>
</blockquote>
<h3 id="echarts-的-axislabel">echarts 的 axisLabel</h3>
<h3 id="当-optioins-变化时更新-chart">当 optioins 变化时，更新 chart</h3>
<hr>
<blockquote>
<p>参考</p>
</blockquote>
<ul>
<li><a href="https://github.com/xmasuhai/echarts-demo-1">echarts demo代码仓库xmasuhai/echarts-demo-1</a></li>
<li><a href="https://github.com/xmasuhai/money-1">记账项目仓库代码</a></li>
<li><a href="https://gitee.com/xmasuhai/meowney-0-website">gitee部署展示链接</a></li>
<li><a href="https://juejin.cn/post/6976483868689825805?utm_source=gold_browser_extension">vue中设置echarts宽度自适应</a></li>
</ul>
<hr>
<hr>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Joel Xu</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2022-03-31
      
        
        
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://xmasuhai.xyz/tags/frontend/">FrontEnd</a>
          <a href="http://xmasuhai.xyz/tags/project/">Project</a>
          <a href="http://xmasuhai.xyz/tags/money/">money</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/project/money/%E9%A1%B9%E7%9B%AE-%E5%96%B5%E5%86%85%E8%AE%B0%E8%B4%A6-meoney-08%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95%E5%8C%85-dlc-sessionstorage-%E9%A1%B5%E9%9D%A2%E4%BC%9A%E8%AF%9D%E4%BF%9D%E5%AD%98&#43;%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">【项目 喵内记账 Meoney 08】功能扩展包 DLC SessionStorage 页面会话保存&#43;路由守卫</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/project/money/%E9%A1%B9%E7%9B%AE-%E5%96%B5%E5%86%85%E8%AE%B0%E8%B4%A6-meoney-05statistic%E7%BB%84%E4%BB%B6-%E5%88%97%E8%A1%A8%E7%BB%9F%E8%AE%A1%E9%A1%B5%E9%9D%A2/">
            <span class="next-text nav-default">【项目 喵内记账 Meoney 05】Statistic组件 列表统计页面</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xmasuhai@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/xmasuhai" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/people/xue-shou-41/posts" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="http://xmasuhai.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2022
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Joel Xu
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
