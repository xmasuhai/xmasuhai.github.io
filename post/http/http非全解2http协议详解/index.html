<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>【HTTP非全解2】HTTP协议详解 - Joel in The House</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Joel Xu" />
  <meta name="description" content="HTTP协议详解 加强 接口由黑马提供的教学接口 API 点击查看文档 我还制作了关于HTTP知识点的 mochi 记忆卡片 HTTP 大纲链接§ [toc] HTTP协议简介 ⇧ 01. HTTP" />

  <meta name="keywords" content="Hugo, theme, jane" />






<meta name="generator" content="Hugo 0.91.2" />


<link rel="canonical" href="http://xmasuhai.xyz/post/http/http%E9%9D%9E%E5%85%A8%E8%A7%A32http%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="【HTTP非全解2】HTTP协议详解" />
<meta property="og:description" content="HTTP协议详解 加强 接口由黑马提供的教学接口 API 点击查看文档 我还制作了关于HTTP知识点的 mochi 记忆卡片 HTTP 大纲链接§ [toc] HTTP协议简介 ⇧ 01. HTTP" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://xmasuhai.xyz/post/http/http%E9%9D%9E%E5%85%A8%E8%A7%A32http%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-01-10T10:09:24+08:00" />
<meta property="article:modified_time" content="2022-09-03T10:26:25+08:00" />

<meta itemprop="name" content="【HTTP非全解2】HTTP协议详解">
<meta itemprop="description" content="HTTP协议详解 加强 接口由黑马提供的教学接口 API 点击查看文档 我还制作了关于HTTP知识点的 mochi 记忆卡片 HTTP 大纲链接§ [toc] HTTP协议简介 ⇧ 01. HTTP"><meta itemprop="datePublished" content="2022-01-10T10:09:24+08:00" />
<meta itemprop="dateModified" content="2022-09-03T10:26:25+08:00" />
<meta itemprop="wordCount" content="6183">
<meta itemprop="keywords" content="HTTP," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="【HTTP非全解2】HTTP协议详解"/>
<meta name="twitter:description" content="HTTP协议详解 加强 接口由黑马提供的教学接口 API 点击查看文档 我还制作了关于HTTP知识点的 mochi 记忆卡片 HTTP 大纲链接§ [toc] HTTP协议简介 ⇧ 01. HTTP"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Joel in The House</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Joel in The House
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/post/">文档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/categories/">目录</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://xmasuhai.xyz/about/">关于我</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">【HTTP非全解2】HTTP协议详解</h1>
      
      <div class="post-meta">
        <time datetime="2022-01-10" class="post-time">
          2022-01-10
        </time>
        <div class="post-category">
            <a href="http://xmasuhai.xyz/categories/http/"> HTTP </a>
            
          </div>
        <span class="more-meta"> 约 6183 字 </span>
          <span class="more-meta"> 预计阅读 13 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#大纲链接a-idcatalogue-hrefcatalogue---a">大纲链接<!-- raw HTML omitted --> § <!-- raw HTML omitted --></a></li>
    <li><a href="#http协议简介-a-hrefcatalogue--a">HTTP协议简介 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#01-http协议简介-什么是通信-a-hrefcatalogue--a">01. HTTP协议简介-什么是通信 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#02-http协议简介-什么是通信协议-a-hrefcatalogue--a">02. HTTP协议简介-什么是通信协议 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#03-http协议简介-什么是http协议-a-hrefcatalogue--a">03. HTTP协议简介-什么是HTTP协议 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#04-http协议简介-http协议的交互模型-a-hrefcatalogue--a">04. HTTP协议简介-HTTP协议的交互模型 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#05-http协议特性-a-hrefcatalogue--a">05. HTTP协议特性 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
      </ul>
    </li>
    <li><a href="#http请求消息-a-hrefcatalogue--a">HTTP请求消息 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#01-http请求消息-什么是http请求消息-a-hrefcatalogue--a">01. HTTP请求消息-什么是HTTP请求消息 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#02-http请求消息-http请求消息的-4个组成部分-a-hrefcatalogue--a">02. HTTP请求消息-HTTP请求消息的 <strong>4个组成部分</strong> <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#03-http请求消息-请求行-a-hrefcatalogue--a">03. HTTP请求消息-请求行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#04-http请求消息-请求头部-a-hrefcatalogue--a">04. HTTP请求消息-请求头部 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#05-http请求消息-空行-a-hrefcatalogue--a">05. HTTP请求消息-空行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#06-http请求消息-请求体-a-hrefcatalogue--a">06. HTTP请求消息-请求体 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
      </ul>
    </li>
    <li><a href="#http响应消息-a-hrefcatalogue--a">HTTP响应消息 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#01-http响应消息-响应消息的概念以及组成部分-a-hrefcatalogue--a">01. HTTP响应消息-响应消息的概念以及组成部分 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#02-http响应消息-状态行-a-hrefcatalogue--a">02. HTTP响应消息-状态行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#03-http响应消息-响应头部-a-hrefcatalogue--a">03. HTTP响应消息-响应头部 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#04-http响应消息-空行-a-hrefcatalogue--a">04. HTTP响应消息-空行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#05-http响应消息-响应体-a-hrefcatalogue--a">05. HTTP响应消息-响应体 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
      </ul>
    </li>
    <li><a href="#http请求方法-a-hrefcatalogue--a">HTTP请求方法 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
    <li><a href="#http响应状态码-a-hrefcatalogue--a">HTTP响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a>
      <ul>
        <li><a href="#01-http响应状态码-什么是http响应状态码-a-hrefcatalogue--a">01. HTTP响应状态码-什么是HTTP响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#02-http响应状态码-http响应状态码的组成及分类-a-hrefcatalogue--a">02. HTTP响应状态码-HTTP响应状态码的组成及分类 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#03-http响应状态码-2xx成功相关的响应状态码-a-hrefcatalogue--a">03. HTTP响应状态码-<code>2xx</code>成功相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#04-http响应状态码-3xx重定向相关的响应状态码-a-hrefcatalogue--a">04. HTTP响应状态码-<code>3xx</code>重定向相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#05-http响应状态码-4xx客户端错误相关的响应状态码-a-hrefcatalogue--a">05. HTTP响应状态码-<code>4xx</code>客户端错误相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
        <li><a href="#06-http响应状态码-5xx服务端错误相关的响应状态码-a-hrefcatalogue--a">06. HTTP响应状态码-5xx服务端错误相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
      </ul>
    </li>
    <li><a href="#http缓存">HTTP缓存</a></li>
    <li><a href="#强缓存">强缓存</a></li>
    <li><a href="#协商缓存">协商缓存</a>
      <ul>
        <li><a href="#etag-与-if-none-match-文件hash值对比"><code>Etag</code> 与 <code>If-None-Match</code> 文件Hash值对比</a></li>
      </ul>
    </li>
    <li><a href="#总结-a-hrefcatalogue--a">总结 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></a></li>
    <li><a href="#参考文章">参考文章</a></li>
    <li><a href="#相关文章">相关文章</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <h1 id="http协议详解-加强">HTTP协议详解 加强</h1>
<blockquote>
<p>接口由黑马提供的教学接口 API <a href="https://docs.apipost.cn/preview/54dfc7877e80a9d9/7b72a529bb2f613e">点击查看文档</a></p>
<p><a href="https://app.mochi.cards/decks/1977d400-e50d-4ae2-80ad-e9761612cbdf/gGaYxYn4hxjtn7Q/HTTP">我还制作了关于HTTP知识点的 mochi 记忆卡片 HTTP</a></p>
</blockquote>
<hr>
<h2 id="大纲链接a-idcatalogue-hrefcatalogue---a">大纲链接<!-- raw HTML omitted --> § <!-- raw HTML omitted --></h2>
<p>[toc]</p>
<hr>
<h2 id="http协议简介-a-hrefcatalogue--a">HTTP协议简介 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h2>
<h3 id="01-http协议简介-什么是通信-a-hrefcatalogue--a">01. HTTP协议简介-什么是通信 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>通信就是信息的传递和交换</p>
</blockquote>
<ul>
<li>通信三要素
<ul>
<li>主体</li>
<li>内容</li>
<li>方式</li>
</ul>
</li>
</ul>
<h3 id="02-http协议简介-什么是通信协议-a-hrefcatalogue--a">02. HTTP协议简介-什么是通信协议 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>通信协议（<code>Communication Protocol</code>）时值通信的双方完成通信所必须遵守的规则和约定</p>
</blockquote>
<ul>
<li>通俗地理解，通信双方采用约定好的格式来发送和接受消息，这种事先约定好的通信格式，就叫做通信协议</li>
</ul>
<blockquote>
<p>互联网中的通信协议</p>
</blockquote>
<ul>
<li>客户端与服务器之间要实现网页内容的传输，则通信的双方必须遵守网页内容的传输协议</li>
<li>网页内容又叫做超文本，因此网页内容的传输协议又叫做超文本传输协议（<code>Hyper Text Transfer Protocol</code>），简称<code>HTTP</code>协议</li>
</ul>
<h3 id="03-http协议简介-什么是http协议-a-hrefcatalogue--a">03. HTTP协议简介-什么是HTTP协议 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p><code>HTTP</code>协议即超文本传输协议，它规定了客户端与服务器之间进行网页内容传输时，所必须遵守的格式</p>
</blockquote>
<ul>
<li>客户端要以HTTP协议要求的格式把数据提交到服务器</li>
<li>服务器要以HTTP协议要求的格式把内容响应给客户端</li>
</ul>
<h3 id="04-http协议简介-http协议的交互模型-a-hrefcatalogue--a">04. HTTP协议简介-HTTP协议的交互模型 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>HTTP协议采用了 <strong>请求/响应</strong> 的交互模型</p>
</blockquote>
<ul>
<li>客户端发起 HTTP 请求</li>
<li>服务器返回 HTTP 响应</li>
</ul>
<h3 id="05-http协议特性-a-hrefcatalogue--a">05. HTTP协议特性 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<h4 id="051-无连接">0.5.1 无连接</h4>
<ul>
<li>HTTP协议限制每次连接 <strong>只处理一个请求</strong></li>
<li>服务器处理完客户端的请求，并发出响应之后，立即 断开连接，以此节省传输时间</li>
<li>若想保持连接可设置字段：<code>&quot;Connection&quot;: &quot;keep-alive&quot;</code>，或使用<code>WebSocket</code></li>
</ul>
<h4 id="052-无状态">0.5.2 无状态</h4>
<ul>
<li>HTTP协议对 <strong>事务处理</strong> 没有记忆能力</li>
<li>后续处理如果需要先前的信息，则必须 重传，导致每次连接需要的数据量增大</li>
<li>若想保存状态可采用：<code>Session</code>、<code>Cookie</code>或<code>JWT</code>技术</li>
</ul>
<hr>
<blockquote>
<p>HTTP报文/消息</p>
</blockquote>
<ul>
<li>用于HTTP协议交互的信息即为HTTP报文，分为 <strong>请求报文</strong> 和 <strong>响应报文</strong></li>
<li>报文由「报文首部、空行、报文主体」构成</li>
<li>报文首部由「起始行（请求行/状态行）、首部字段」构成
<ul>
<li>请求报文首部由「请求行、首部字段」构成
<ul>
<li>请求报文的 <strong>起始行</strong> 称为 <strong>请求行</strong></li>
<li>其包括「请求方法、请求URI、HTTP版本」</li>
</ul>
</li>
<li>响应报文首部由「状态行、首部字段」构成
<ul>
<li>响应报文的 <strong>起始行</strong> 称为 <strong>状态行</strong></li>
<li>其包括「HTTP版本、状态码、原因短语」</li>
</ul>
</li>
<li>首部字段 分为：
<ul>
<li>通用首部字段：请求报文和响应报文都会用到的首部</li>
<li>请求首部字段</li>
<li>响应首部字段</li>
<li>实体首部字段：用于补充与实体相关的信息</li>
<li>其它：RFC中未定义的首部，如为 <code>Cookie</code> 服务的首部字段 （<code>Cookie</code>、<code>Set-Cookie</code>）</li>
</ul>
</li>
<li>空行用于分割 <strong>报文首部</strong> 与 <strong>报文主体</strong></li>
<li>报文主体即具体数据，<strong>请求报文</strong> 对应 <strong>请求体</strong>，<strong>响应报文</strong> 对应 <strong>响应体</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p>在命令行中使用<code>curl -v https://www.baidu.com</code>发送请求，查看报文结构</p>
</blockquote>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB83539762f415f09090be2f47c848c541?method=download&amp;shareKey=4adee1025ba2b685afb90be2612f5bbd" alt="message"></p>
<h2 id="http请求消息-a-hrefcatalogue--a">HTTP请求消息 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h2>
<h3 id="01-http请求消息-什么是http请求消息-a-hrefcatalogue--a">01. HTTP请求消息-什么是HTTP请求消息 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<ul>
<li>由于HTTP协议属于客户端浏览器和服务器之间的通信协议</li>
<li>因此，客户端发起的请求叫做 <strong>HTTP请求</strong></li>
<li>客户端发送到服务器的消息（报文），叫做 <strong>HTTP请求消息（报文）</strong></li>
</ul>
<h3 id="02-http请求消息-http请求消息的-4个组成部分-a-hrefcatalogue--a">02. HTTP请求消息-HTTP请求消息的 <strong>4个组成部分</strong> <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>HTTP请求消息由 <strong>请求行（<code>request line</code>或<code>start-line</code>）</strong>、<strong>请求头部（<code>request headers</code>）</strong>、<strong>空行</strong>、和 <strong>请求体（<code>request body</code>）</strong> 4个部分组成</p>
</blockquote>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBb78fcfe9bd41758b44dd0b85e24f7e9c?method=download&amp;shareKey=1783f9efe88a8bb40d7505312ddc2e53" alt="request message"></p>
<h3 id="03-http请求消息-请求行-a-hrefcatalogue--a">03. HTTP请求消息-请求行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<ul>
<li>请求行由 <strong>请求方式</strong>、<strong>URL</strong> 和 <strong>HTTP协议版本</strong> 3个部分组成</li>
<li>之间使用空格隔开</li>
<li>通过浏览器的 Network 面板，发起 AJAX 请求时，查看请求的 标头（<code>Headers</code>）选项卡中的请求头 <code>Request Headers</code></li>
<li>点击查看源 （<code>View source</code>）</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBab95e8068cbaa9bf16d2520c8e355f0c?method=download&amp;shareKey=f4af3f573c289c94e17d3e891ed28449" alt="start-line"></p>
<blockquote>
<p>浏览器打开任意网址控制台打开 Network 面板，点击 view source 查看源</p>
</blockquote>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB070182059a3a0ee176b2171840ce8189?method=download&amp;shareKey=ca98beb8671ac6ce65d9db4c26a8f2a7" alt="Request line in Headers"></p>
<ul>
<li><code>POST /api/post HTTP/1.1</code>即请求行</li>
<li>并不是所有完整的 URL，是去掉 协议、域名和端口号、查询参数后的 URL</li>
</ul>
<h3 id="04-http请求消息-请求头部-a-hrefcatalogue--a">04. HTTP请求消息-请求头部 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<ul>
<li>请求头部用来描述 <strong>客户端基本信息</strong>，负责将客户端相关信息告知服务器</li>
<li>请求头部 包含不同的字段
<ul>
<li><code>User-Agent</code> 用来说明当前是什么类型的客户端（浏览器）</li>
<li><code>Content-Type</code> 用描述发送到服务器的 <strong>数据格式</strong></li>
<li><code>Accept</code> 用来描述客户端能够接收 <strong>返回内容的类型</strong></li>
<li><code>Accept-Language</code> 用来描述客户端期望接收那种人类语言的文本内容</li>
</ul>
</li>
<li>请求头由多行 <strong>键/值对</strong> 组成，每行的键和值之间用英文的冒号分隔</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB10ee90a6e6112f0c3cf2b299dede7e9f?method=download&amp;shareKey=6cb84610764df22bd9ea29cfa8bda509" alt="Request Headers"></p>
<blockquote>
<p>常见的请求头字段</p>
</blockquote>
<table>
<thead>
<tr>
<th>头部字段</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>HOST</code></td>
<td>需要请求的服务器域名</td>
</tr>
<tr>
<td><code>Connection</code></td>
<td>客户端与服务器的连接方式：<code>close</code> 或者 <code>keep-alive</code></td>
</tr>
<tr>
<td><code>Content-Length</code></td>
<td>用来描述请求体的大小</td>
</tr>
<tr>
<td><strong><code>Accept</code></strong></td>
<td>客户端可识别的响应内容类型列表</td>
</tr>
<tr>
<td><strong><code>User-Agent</code></strong></td>
<td>产生请求的浏览器类型</td>
</tr>
<tr>
<td><strong><code>Content-Type</code></strong></td>
<td>客户端告诉服务器实际发送的数据类型</td>
</tr>
<tr>
<td><code>Accept-Encoding</code></td>
<td>客户端可接收的内容压缩编码形式</td>
</tr>
<tr>
<td><strong><code>Accept-Language</code></strong></td>
<td>用户期望获得的自然语言的优先顺序</td>
</tr>
</tbody>
</table>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBfa07135478b3de71fc32f8f99e47b61f?method=download&amp;shareKey=8fb0981e7f569155f7c4b7e342a33516" alt="request headers fields"></p>
<ul>
<li>关于更多请求头字段的描述，查看 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers">MDN 官方文档：https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers</a></li>
</ul>
<h3 id="05-http请求消息-空行-a-hrefcatalogue--a">05. HTTP请求消息-空行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>最后一个请求头字段的后面是一个空行，通知服务器 <strong>请求头部至此结束</strong></p>
</blockquote>
<ul>
<li>请求消息中的空行，用来分隔 <strong>请求头部</strong> 和 <strong>请求体</strong></li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBeef241e5913e8f9e2cad125af4c754af?method=download&amp;shareKey=dde35bae8543768fb1c9826c344eee99" alt="request blank"></p>
<h3 id="06-http请求消息-请求体-a-hrefcatalogue--a">06. HTTP请求消息-请求体 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>请求体中存放，是要通过 <strong>POST等方式</strong> （非GET方式）提交给服务器的数据</p>
</blockquote>
<ul>
<li>GET 请求没有请求体，GET 请求到空行结束</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB8b922317d953b37540c8d8ccc90f609d?method=download&amp;shareKey=521a27d83cf557101d5e85b33f0349e1" alt="request body"></p>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB7111d4668d815aa627aab496425ac82e?method=download&amp;shareKey=51cc1cd14bbf55ddec4d287e020317d6" alt="request body formdata"></p>
<hr>
<h2 id="http响应消息-a-hrefcatalogue--a">HTTP响应消息 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h2>
<blockquote>
<p>响应消息就是 <strong>服务器响应给客户端的消息内容</strong> ，也叫作响应报文，或者应答报文</p>
</blockquote>
<h3 id="01-http响应消息-响应消息的概念以及组成部分-a-hrefcatalogue--a">01. HTTP响应消息-响应消息的概念以及组成部分 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>HTTP响应消息由 <strong>状态行（<code>status line</code>）</strong>、<strong>响应头部（<code>response header</code>）</strong>、<strong>空行</strong>、和 <strong>响应体（<code>response body</code>）</strong> 4个部分组成</p>
</blockquote>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB28d0565ce770e7eaed4b03a8d29f28b3?method=download&amp;shareKey=994a2701918f6adc2089cf49f74c9a9b" alt="response message"></p>
<h3 id="02-http响应消息-状态行-a-hrefcatalogue--a">02. HTTP响应消息-状态行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<ul>
<li>状态行是由 <strong>HTTP协议版本</strong>、<strong>状态码</strong> 和 <strong>状态码描述</strong> 3个部分组成</li>
<li>之间使用空格隔开</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB1e82852afc6b60a816fdce1d3e33f451?method=download&amp;shareKey=85bfd77ab5e43d0e4634c850c5acc4d3" alt="status line"></p>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB432ae6e12d21f21ac8ba97afe8a255d9?method=download&amp;shareKey=e113db02456d3ada7a96f24b9eac9cd0" alt="status line in response headers"></p>
<h3 id="03-http响应消息-响应头部-a-hrefcatalogue--a">03. HTTP响应消息-响应头部 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>响应头部用来描述 <strong>服务器的基本信息</strong></p>
</blockquote>
<ul>
<li>响应头部由多行 <strong>键/值对</strong> 组成</li>
<li>每行的键和值之间用英文的冒号分隔</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB179da46c81a9132bebc0b357fb1dc121?method=download&amp;shareKey=71cfd845d4f3c9446e904d5f12605f55" alt="response headers"></p>
<h4 id="常见的响应头字段">常见的响应头字段</h4>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBa965a6c73a1d211bdc5666e6df00c62d?method=download&amp;shareKey=ea0a7ac2813cb279ecb5c46f63dd15cb" alt="response header field"></p>
<ul>
<li>关于更多响应头字段的描述，可以查看 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers">MDN 官方文档：https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers</a></li>
</ul>
<h3 id="04-http响应消息-空行-a-hrefcatalogue--a">04. HTTP响应消息-空行 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<ul>
<li>在最后一个响应头部字段结束之后，会紧跟一个空行，用来通知客户端 <strong>响应头部至此结束</strong></li>
<li>响应消息中的空行，用来分隔 <strong>响应头部</strong> 和 <strong>响应体</strong></li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB89ddcc47a09aeda55a31db1bda765087?method=download&amp;shareKey=f04c4b201a1512fef89d27926e164707" alt="response blank"></p>
<h3 id="05-http响应消息-响应体-a-hrefcatalogue--a">05. HTTP响应消息-响应体 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<ul>
<li>响应体中存放的，是服务器响应给客户端的资源内容</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB6d2c679efc9613170673750f8af2d72d?method=download&amp;shareKey=92e5bcc876897bd1f0526b281800818e" alt="response_body"></p>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEB877d0641f694716e06c483cff2722420?method=download&amp;shareKey=ad551407916b9a14bb0e1a21ab30d3b1" alt="response body raw content"></p>
<hr>
<h2 id="http请求方法-a-hrefcatalogue--a">HTTP请求方法 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h2>
<blockquote>
<p>HTTP 请求方法，属于 HTTP 协议中的一部分</p>
<p>请求方法的作用是：用来表明 <strong>对服务器上资源执行的操作</strong></p>
</blockquote>
<ul>
<li>常用的请求方法是 <code>GET</code> 和 <code>POST</code></li>
</ul>
<blockquote>
<p>区别有：（语义、缓存、编码、传参、幂等性）</p>
</blockquote>
<ul>
<li>从 <strong>语义</strong> 角度：<code>GET</code> 用于获取资源，<code>POST</code> 用于上传资源</li>
<li>从 <strong>缓存</strong> 角度：<code>GET</code> 请求会被浏览器 <strong>主动缓存</strong>，<code>POST</code> 不会；</li>
<li>从 <strong>编码</strong> 角度：<code>GET</code> 必须对 URL 进行编码，<code>POST</code> 无限制；</li>
<li>从 <strong>参数</strong> 角度：<code>GET</code> <strong>参数暴露</strong> 在 <code>URL</code> 中，仅接受 <code>ASCII</code> 字符；<code>POST</code> 放在 请求体 中，且参数无限制，更适合传输敏感信息；</li>
<li>从 <strong>幂等性</strong> 角度：<code>GET</code> 是幂等的，<code>POST</code> 不是；</li>
</ul>
<blockquote>
<p>什么是幂等性？</p>
</blockquote>
<ul>
<li>在相同条件下，一次请求 和 <strong>重复多次</strong> 请求对资源的影响是一致的，则该操作 <strong>幂等</strong></li>
</ul>
<hr>
<blockquote>
<p>HTTP的主要请求方法</p>
</blockquote>
<table>
<thead>
<tr>
<th>序号</th>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong><code>GET</code></strong></td>
<td><strong>查询</strong> 发送请求来获取服务器上的资源，请求体中不包含请求数据，请求数据放在请求头中</td>
</tr>
<tr>
<td>2</td>
<td><strong><code>POST</code></strong></td>
<td><strong>新增</strong> 向服务器提交数据（用户注册/表单/文件上传）数据包含在请求体中提交给服务器</td>
</tr>
<tr>
<td>3</td>
<td><strong><code>PUT</code></strong></td>
<td><strong>修改</strong> 向服务器提交资源，并使用提交的新数据替换掉服务器中对应的旧资源</td>
</tr>
<tr>
<td>4</td>
<td><strong><code>DELETE</code></strong></td>
<td><strong>删除</strong> 请求服务器删除指定的资源</td>
</tr>
<tr>
<td>5</td>
<td><code>HEAD</code></td>
<td>请求一个与 <code>GET</code>请求 <strong>响应头部</strong> 相同的响应，无需响应体，不会返回所请求的实体数据，仅返回响应头；可用于确认资源是否存在或检查资源是否更新，超链接探测器很多都基于 HEAD 方法进行实现</td>
</tr>
<tr>
<td>6</td>
<td><code>OPTIONS</code></td>
<td>获取目标服务器支持的请求方法，允许客户端查看服务器的性能、AJAX跨域时的预检等</td>
</tr>
<tr>
<td>7</td>
<td><code>CONNECT</code></td>
<td>建立一个由目标资源标识的服务器的隧道</td>
</tr>
<tr>
<td>8</td>
<td><code>TRACE</code></td>
<td>沿着到目标资源的路径执行一个消息环回测试， 主要用于测试或诊断</td>
</tr>
<tr>
<td>9</td>
<td><code>PATCH</code></td>
<td>对 PUT 方法的补充，用来对已知资源进行局部更新</td>
</tr>
</tbody>
</table>
<blockquote>
<p>浏览器为什么会自动发起 OPTIONS 请求</p>
</blockquote>
<ul>
<li>当发起 <strong>跨域请求</strong> 时，如果为 <strong>非简单请求</strong>，浏览器会自动触发 <strong>预检请求</strong>（即 OPTIONS 请求）</li>
<li><strong><code>OPTIONS</code>请求</strong> 用于确认目标资源 <strong>是否支持跨域</strong>；若为简单请求，则不触发预检，正常请求</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/204">204 No Content MDN</a></li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBf29c3d678fbfa05cbebfe9bb84b8db3f?method=download&amp;shareKey=eeac174337bbee0b74cb8d977116f4b8" alt="OPTIONS盗图"></p>
<blockquote>
<p>也就是一旦触发预检，则发送两次请求，影响性能，可做如下优化：</p>
</blockquote>
<ul>
<li>同域则不触发</li>
<li>避免 OPTIONS 请求：上图为 POST 请求设置头部字段 <code>Content-Type: application/json</code> 后的预检请求</li>
<li>可将其设置成 <code>application/x-www-form-urlencoded| multipart/form-data | text/plain</code> 之一，来规避触发预检</li>
<li>设置请求头部字段： <code>&quot;Access-Control-Max-Age&quot;: 600</code>，单位秒，一般设置为10分钟</li>
</ul>
<hr>
<blockquote>
<p><code>PUT &amp; DELETE</code></p>
</blockquote>
<ul>
<li><code>PUT</code>用于更新替换资源，<code>DELETE</code>用于删除资源</li>
<li>RESTful 风格会使用 <code>PUT &amp; DELETE</code>；实际开发中大家可自行评估选用 PUT &amp; DELETE 还是 POST</li>
</ul>
<blockquote>
<p><code>CONNECT</code></p>
</blockquote>
<ul>
<li>创建隧道，用于代理服务器</li>
</ul>
<hr>
<h2 id="http响应状态码-a-hrefcatalogue--a">HTTP响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h2>
<h3 id="01-http响应状态码-什么是http响应状态码-a-hrefcatalogue--a">01. HTTP响应状态码-什么是HTTP响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p>HTTP 响应状态码（<code>HTTP Status Code</code>），也属于 HTTP 协议的一部分，用来标识响应的状态</p>
</blockquote>
<ul>
<li>响应状态码会随着响应消息一起被发送至客户端浏览器</li>
<li>通过浏览器根据服务器返回的响应状态码，就能知道这次 HTTP 请求的结果是成功还是失败了</li>
</ul>
<h3 id="02-http响应状态码-http响应状态码的组成及分类-a-hrefcatalogue--a">02. HTTP响应状态码-HTTP响应状态码的组成及分类 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<ul>
<li>HTTP 状态码由三个十进制数字组成
<ul>
<li>第一个十进制数字定义了状态码的类型</li>
<li>后两个数字用来对状态码进行细分</li>
</ul>
</li>
<li>HTTP 状态码共分为 5 种类型</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">分类</th>
<th>分类描</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>1**</code></td>
<td>信息，服务器收到请求，需要请求者继续执行操作（实际开发中很少遇到 1** 类型的状态码）</td>
</tr>
<tr>
<td style="text-align:center"><code>2**</code></td>
<td>成功，操作被成功接收并处理</td>
</tr>
<tr>
<td style="text-align:center"><code>3**</code></td>
<td>重定向，需要进一步的操作以完成请求</td>
</tr>
<tr>
<td style="text-align:center"><code>4**</code></td>
<td>客户端错误，请求包含语法错误或无法完成请求</td>
</tr>
<tr>
<td style="text-align:center"><code>5**</code></td>
<td>服务器错误，服务器在处理请求的过程中发生了错误</td>
</tr>
</tbody>
</table>
<ul>
<li>完整的 HTTP 响应状态码，可以参考 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status">MDN 官方文档 https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status</a></li>
</ul>
<hr>
<h3 id="03-http响应状态码-2xx成功相关的响应状态码-a-hrefcatalogue--a">03. HTTP响应状态码-<code>2xx</code>成功相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p><code>2**</code> 范围的状态码，表示服务器已成功接收到请求并进行处理</p>
</blockquote>
<ul>
<li>常见的 <code>2**</code> 类型的状态码如下：</li>
</ul>
<table>
<thead>
<tr>
<th>状态码</th>
<th>状态码英文名称</th>
<th>中文描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>200</code></td>
<td><code>OK</code></td>
<td>请求成功。一般用于 GET 与 POST 请求</td>
</tr>
<tr>
<td><code>201</code></td>
<td><code>Created</code></td>
<td>已创建。成功请求并创建了新的资源，通常用于 POST 或 PUT 请求</td>
</tr>
<tr>
<td><code>204</code></td>
<td><code>No Content</code></td>
<td>请求成功，但无内容返回</td>
</tr>
<tr>
<td><code>206</code></td>
<td><code> Partial Content</code></td>
<td>客户端进行范围请求，响应报文中返回由 <code>Content-Range</code> 指定范围的实体内容</td>
</tr>
</tbody>
</table>
<h3 id="04-http响应状态码-3xx重定向相关的响应状态码-a-hrefcatalogue--a">04. HTTP响应状态码-<code>3xx</code>重定向相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p><code>3**</code> 范围的状态码，表示服务器要求客户端重定向，需要客户端进一步的操作以完成资源的请求</p>
</blockquote>
<ul>
<li>常见的 <code>3**</code> 类型的状态码如下：</li>
</ul>
<table>
<thead>
<tr>
<th>状态码</th>
<th>状态码英文名称</th>
<th>中文描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>301</code></td>
<td><code>Moved Permanently</code></td>
<td>永久移动。请求的资源已被永久地移动到新的 URI，返回信息会包括新的 URI，浏览器会自动重定向到新的 URI。并标记今后任何新的请求都应使用新的 URI 代替；响应的 Location 头字段会提供资源现在的 URL。直接使用 GET 方法发起新情求。</td>
</tr>
<tr>
<td><code>302</code></td>
<td><code>Found</code></td>
<td>临时移动。与 301 类似。但资源只是临时被移动。客户端只应该将 Location 返回的 URL当做临时资源来使用。直接使用 GET 方法发起新情求。客户端今后应继续使用原有 URI 请求资源</td>
</tr>
<tr>
<td><code>304</code></td>
<td><code>Not Modified</code></td>
<td>未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源（响应消息中不包含响应体）。客户端通常会缓存访问过的资源，即可直接使用客户端未过期的缓存（资源未修改，表示本地缓存仍然可用）</td>
</tr>
</tbody>
</table>
<blockquote>
<p>补充 <code>HTTP</code> 重定向相关</p>
</blockquote>
<ul>
<li>在 <code>HTTP</code> 中，如果服务器返回了一个重定向响应进行重定向并且是以3开头的状态码，里面有一个 <code>Location</code> 头字段表示要重定向的位置。浏览器收到响应后会直接加载 <code>Location</code> 里指定的 <code>URL</code></li>
<li>状态码<code>301</code>和<code>308</code>都属于永久重定向，永久重定向意味着原始 <code>URL</code> 不再可用，替换成了一个新的内容。所以搜索引擎以及其他爬虫识别这两个状态码时，会更新旧 URL 的资源。</li>
<li>而 <code>302/303/307</code> 都属于临时重定向</li>
</ul>
<h3 id="05-http响应状态码-4xx客户端错误相关的响应状态码-a-hrefcatalogue--a">05. HTTP响应状态码-<code>4xx</code>客户端错误相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p><code>4**</code> 范围的状态码，表示客户端的请求有非法（不合语法）内容，从而导致请求失败</p>
</blockquote>
<ul>
<li>常见的 <code>4**</code> 类型 的状态码如下：</li>
</ul>
<table>
<thead>
<tr>
<th>状态码</th>
<th>状态码英文名称</th>
<th>中文描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>400</code></td>
<td><code>Bad Request</code></td>
<td>1 语义有误。当前请求无法被服务器理解。除非进行修改，否则客户端不应重复提交这个请求；2 请求参数有误</td>
</tr>
<tr>
<td><code>401</code></td>
<td><code>Unauthorized</code></td>
<td>未经授权认证。当前请求需要用行用户验证</td>
</tr>
<tr>
<td><code>403</code></td>
<td><code>Forbidden</code></td>
<td>服务器已经理解请求，但是拒绝执行</td>
</tr>
<tr>
<td><code>404</code></td>
<td><code>Not Found</code></td>
<td>服务器无法根据客户端的请求找到资源（通常是网页）</td>
</tr>
<tr>
<td><code>408</code></td>
<td><code>Request Timeout</code></td>
<td>请求超时。服务器等待客户端发送的请求时间过长，超时</td>
</tr>
</tbody>
</table>
<h3 id="06-http响应状态码-5xx服务端错误相关的响应状态码-a-hrefcatalogue--a">06. HTTP响应状态码-5xx服务端错误相关的响应状态码 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h3>
<blockquote>
<p><code>5**</code> 范围的状态码，表示服务器未能正常处理客户端的请求，而出现意外错误</p>
</blockquote>
<ul>
<li>常见的 <code>5**</code> 类型的状态码如下：</li>
</ul>
<table>
<thead>
<tr>
<th>状态码</th>
<th>状态码英文名称</th>
<th>中文描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>500</code></td>
<td><code>Internal Sever Error</code></td>
<td>服务器内部错误，无法完成请求</td>
</tr>
<tr>
<td><code>501</code></td>
<td><code>Not Implemented</code></td>
<td>未实现请求方法 。服务器不支持该请求方法，无法完成请求。 只有 GET 和 HEAD 这两种请求是要求每个服务器必须支持的，其它请求方法在不支持的服务器上会返回 501</td>
</tr>
<tr>
<td><code>503</code></td>
<td><code>Service Unavailable</code></td>
<td>由于超载或系统维护，服务器暂时地无法处理客户端的请求</td>
</tr>
</tbody>
</table>
<blockquote>
<p>可以一同记忆的状态码</p>
</blockquote>
<table>
<thead>
<tr>
<th>状态码</th>
<th>状态码英文名称</th>
<th>中文描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>206</code></td>
<td><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/206"><code>Partial Content</code></a></td>
<td>部分内容。成功状态响应代码表示请求已成功，并且主体包含所请求的 <strong>数据区间</strong>，该数据区间是在请求的 <code>Content-Range</code> 首部指定的</td>
</tr>
<tr>
<td><code>416</code></td>
<td><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/416"><code>Range Not Satisfiable</code></a></td>
<td>服务器无法处理所请求的 <strong>数据区间</strong>。所请求的数据区间不在文件范围之内，即 <code>Content-Range</code> 首部的值，虽然从语法上来说是没问题的，但是从语义上来说却没有意义</td>
</tr>
</tbody>
</table>
<hr>
<blockquote>
<p>其他HTTP相关知识点的有：HTTP缓存、HTTP状态管理、HTTP内容协商、HTTP持久连接机制、代理-网关-隧道、HTTP范围请求、HTTPS相关</p>
</blockquote>
<h2 id="http缓存">HTTP缓存</h2>
<blockquote>
<p>强缓存 V.S 协商缓存</p>
</blockquote>
<ul>
<li>两者的区别在于：
<ul>
<li>是否需要向服务器 <strong>验证本地缓存</strong> 是否有效</li>
<li>强缓存 <strong>直接使用</strong> 本地缓存</li>
<li>协商缓存则需 <strong>与服务器进行协商</strong> 后，确定是否使用本地缓存</li>
</ul>
</li>
</ul>
<h2 id="强缓存">强缓存</h2>
<ul>
<li>响应头部字段中设置 <code>Cache-Control: max-age=xxx,public</code></li>
<li>表示在<code>xxx</code>秒内再次访问该资源，均使用本地缓存</li>
<li><code>public</code> 表示允许客户端及代理服务器（CDN）缓存</li>
</ul>
<blockquote>
<p><code>General</code>中</p>
</blockquote>
<ul>
<li>命中缓存
-<code>Status Code: 200  (from memory cache)</code>
-<code>Status Code: 200  (from disk cache)</code></li>
<li>这里浏览器会自动分配存储到内存（memory cache）中还是磁盘（disk cache）中</li>
</ul>
<blockquote>
<p>存在的问题</p>
</blockquote>
<ul>
<li>感知不到资源更新，缓存不过期则不会重新获取</li>
</ul>
<blockquote>
<p>解决</p>
</blockquote>
<ul>
<li>缓存的意义在于减少请求，更多的使用本地资源，给用户更好的体验同时减轻服务器压力</li>
<li>所以最佳实践应尽可能命中强缓存，同时在更新资源时让客户端的缓存失效</li>
<li>在打包静态资源文件时，根据内容进行 hash 计算，以此来生成文件名</li>
<li>此时请求资源URL改变，浏览器重新加载资源</li>
</ul>
<hr>
<h2 id="协商缓存">协商缓存</h2>
<blockquote>
<p><code>General</code>中</p>
</blockquote>
<ul>
<li>命中缓存
-<code>Status Code: 304  (Not Modified)</code></li>
<li>未命中缓存
-<code>Status Code: 200  (OK)</code></li>
</ul>
<blockquote>
<p><code>Response Headers</code>中的<code>Last-Modified</code>， 与<code>Request Headers</code>中的<code>If-Modified-Since</code></p>
</blockquote>
<ul>
<li>文件时间戳对比</li>
<li>首次请求资源时，服务器返回的首部字段中会携带 <code>Last-Modified</code>
<ul>
<li>值为 GMT 时间戳</li>
</ul>
</li>
<li>当再次请求资源时，浏览器会自动带上 <code>If-Modified-Since</code>，该值与 <code>Last-Modified</code> 做对比
<ul>
<li>若相同，则返回304，命中缓存</li>
<li>若不同则返回200，发送最新资源</li>
</ul>
</li>
</ul>
<blockquote>
<p>存在的问题</p>
</blockquote>
<ul>
<li><code>Last-Modified</code> 记录的是精确到秒的时间格式，若在 1s 内资源发生变化，则 <code>Last-Modified</code> 感知不到，无法返回新资源</li>
<li>协商缓存最大的问题就是每次都要向服务器验证一下资源的有效性</li>
</ul>
<h3 id="etag-与-if-none-match-文件hash值对比"><code>Etag</code> 与 <code>If-None-Match</code> 文件Hash值对比</h3>
<ul>
<li>首次请求资源时，服务器返回的首部字段中会携带 <code>Etag</code></li>
<li>当再次请求资源时，浏览器会自动带上 <code>If-None-Match</code>，该值与 <code>Etag</code> 做对比</li>
<li>实体标识<code>Etag</code>与<code>If-None-Match</code>配对
<ul>
<li>若相同，则返回304，命中缓存</li>
<li>若不同则返回200，则资源已更改，发送最新资源</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>Etag</code>与<code>If-None-Match</code>优先级高于<code>Last-Modified</code>与<code>If-Modified-Since</code></p>
</blockquote>
<ul>
<li>与 <code>Last-Modified</code> 相比，<code>Etag</code> 是根据文件内容生成的唯一标识</li>
<li>当文件变化，则 <code>Etag</code> 变化</li>
<li>两者同时存在时，<code>Etag</code> 优先级高于 <code>Last-Modified</code>。</li>
</ul>
<hr>
<h2 id="总结-a-hrefcatalogue--a">总结 <!-- raw HTML omitted --> ⇧ <!-- raw HTML omitted --></h2>
<ul>
<li>能够说出什么是HTTP协议</li>
<li>能够知道HTTP请求消息的组成部分</li>
<li>能够知道HTTP相应消息的组成部分</li>
<li>能够说出常见的请求方法</li>
<li>能够说出常见的响应状态码</li>
</ul>
<hr>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<hr>
<h2 id="参考文章">参考文章</h2>
<ul>
<li><a href="https://juejin.cn/post/7052224696867094536#refetch">20分钟，巩固你的HTTP知识体系</a></li>
<li><a href="https://juejin.cn/post/7052915738683637791?utm_source=gold_browser_extension">「查缺补漏」 HTTP 缓存</a></li>
</ul>
<h2 id="相关文章">相关文章</h2>
<ul>
<li><a href="https://juejin.cn/post/7051801217705443341">为什么少有人使用 <code>RESTful API</code>？</a></li>
<li><a href="https://juejin.cn/post/7054001047882170382?utm_source=gold_browser_extension">301，302重定向，如何配置<code>nginx.conf</code></a></li>
</ul>
<hr>
<ul>
<li>作者： Joel</li>
<li>文章链接：</li>
<li><a href="http://xmasuhai.xyz/posts/%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E9%93%BE%E6%8E%A5/">版权声明</a></li>
<li>非自由转载-非商用-非衍生-保持署名</li>
<li><!-- raw HTML omitted -->河<!-- raw HTML omitted -->
<!-- raw HTML omitted -->掘<!-- raw HTML omitted -->
<!-- raw HTML omitted -->思<!-- raw HTML omitted -->
<!-- raw HTML omitted -->知<!-- raw HTML omitted -->
<!-- raw HTML omitted -->简<!-- raw HTML omitted --></li>
</ul>
<hr>
<hr>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Joel Xu</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2022-09-03
      
        
        
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://xmasuhai.xyz/tags/http/">HTTP</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/project/vueel2/%E9%A1%B9%E7%9B%AE-vue2-%E8%BD%AE%E5%AD%903.1-%E7%AE%80%E5%8D%95%E8%BD%AE%E5%AD%90-vuegrid%E7%BD%91%E6%A0%BC%E7%B3%BB%E7%BB%9F/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">【项目 Vue2 轮子】3.1 简单轮子 VueGrid：网格系统</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/promise/js%E5%BC%82%E6%AD%A5%E9%9D%9E%E5%85%A8%E8%A7%A304%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8eventloop/">
            <span class="next-text nav-default">【JS异步非全解04】事件循环机制与浏览器EventLoop</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:xmasuhai@163.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/xmasuhai" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://www.zhihu.com/people/xue-shou-41/posts" rel="me noopener" class="iconfont"
      title="zhihu"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M351.791182 562.469462l192.945407 0c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262l159.282726 0c0 0-0.86367-67.402109-18.578124-67.402109s-279.979646 0-279.979646 0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461c-4.536316 12.313443 24.62791 5.832845 36.941354 0 12.313443-5.832845 68.050885-25.924439 84.252893-103.69571l86.570681 0c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262L109.86113 490.530013c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449L279.868105 562.469462c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513 0 0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-0.055259 0.185218 167.855986 193.263655c0 0 22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-0.045025 0.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"></path>
  <path d="M584.918753 182.033893l0 668.840094 70.318532 0 28.807093 80.512708 121.875768-80.512708 153.600307 0L959.520453 182.033893 584.918753 182.033893zM887.150192 778.934538l-79.837326 0-99.578949 65.782216-23.537066-65.782216-24.855084 0L659.341766 256.673847l227.807403 0L887.149169 778.934538z"></path>
</svg>

    </a>


<a href="http://xmasuhai.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2022
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Joel Xu
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
